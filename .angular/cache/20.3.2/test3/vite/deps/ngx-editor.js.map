{
  "version": 3,
  "sources": ["../../../../../../node_modules/prosemirror-commands/dist/index.js", "../../../../../../node_modules/prosemirror-inputrules/dist/index.js", "../../../../../../node_modules/ngx-editor/fesm2022/ngx-editor-helpers.mjs", "../../../../../../node_modules/ngx-editor/fesm2022/ngx-editor-commands.mjs", "../../../../../../node_modules/rope-sequence/dist/index.js", "../../../../../../node_modules/prosemirror-history/dist/index.js", "../../../../../../node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs", "../../../../../../node_modules/@floating-ui/core/dist/floating-ui.core.mjs", "../../../../../../node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs", "../../../../../../node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs", "../../../../../../node_modules/w3c-keyname/index.js", "../../../../../../node_modules/prosemirror-keymap/dist/index.js", "../../../../../../node_modules/ngx-editor/fesm2022/ngx-editor.mjs"],
  "sourcesContent": ["import { liftTarget, replaceStep, ReplaceStep, canJoin, joinPoint, canSplit, ReplaceAroundStep, findWrapping } from 'prosemirror-transform';\nimport { Slice, Fragment } from 'prosemirror-model';\nimport { NodeSelection, Selection, TextSelection, AllSelection, SelectionRange } from 'prosemirror-state';\n\n/**\nDelete the selection, if there is one.\n*/\nconst deleteSelection = (state, dispatch) => {\n    if (state.selection.empty)\n        return false;\n    if (dispatch)\n        dispatch(state.tr.deleteSelection().scrollIntoView());\n    return true;\n};\nfunction atBlockStart(state, view) {\n    let { $cursor } = state.selection;\n    if (!$cursor || (view ? !view.endOfTextblock(\"backward\", state)\n        : $cursor.parentOffset > 0))\n        return null;\n    return $cursor;\n}\n/**\nIf the selection is empty and at the start of a textblock, try to\nreduce the distance between that block and the one before it—if\nthere's a block directly before it that can be joined, join them.\nIf not, try to move the selected block closer to the next one in\nthe document structure by lifting it out of its parent or moving it\ninto a parent of the previous block. Will use the view for accurate\n(bidi-aware) start-of-textblock detection if given.\n*/\nconst joinBackward = (state, dispatch, view) => {\n    let $cursor = atBlockStart(state, view);\n    if (!$cursor)\n        return false;\n    let $cut = findCutBefore($cursor);\n    // If there is no node before this, try to lift\n    if (!$cut) {\n        let range = $cursor.blockRange(), target = range && liftTarget(range);\n        if (target == null)\n            return false;\n        if (dispatch)\n            dispatch(state.tr.lift(range, target).scrollIntoView());\n        return true;\n    }\n    let before = $cut.nodeBefore;\n    // Apply the joining algorithm\n    if (deleteBarrier(state, $cut, dispatch, -1))\n        return true;\n    // If the node below has no content and the node above is\n    // selectable, delete the node below and select the one above.\n    if ($cursor.parent.content.size == 0 &&\n        (textblockAt(before, \"end\") || NodeSelection.isSelectable(before))) {\n        for (let depth = $cursor.depth;; depth--) {\n            let delStep = replaceStep(state.doc, $cursor.before(depth), $cursor.after(depth), Slice.empty);\n            if (delStep && delStep.slice.size < delStep.to - delStep.from) {\n                if (dispatch) {\n                    let tr = state.tr.step(delStep);\n                    tr.setSelection(textblockAt(before, \"end\")\n                        ? Selection.findFrom(tr.doc.resolve(tr.mapping.map($cut.pos, -1)), -1)\n                        : NodeSelection.create(tr.doc, $cut.pos - before.nodeSize));\n                    dispatch(tr.scrollIntoView());\n                }\n                return true;\n            }\n            if (depth == 1 || $cursor.node(depth - 1).childCount > 1)\n                break;\n        }\n    }\n    // If the node before is an atom, delete it\n    if (before.isAtom && $cut.depth == $cursor.depth - 1) {\n        if (dispatch)\n            dispatch(state.tr.delete($cut.pos - before.nodeSize, $cut.pos).scrollIntoView());\n        return true;\n    }\n    return false;\n};\n/**\nA more limited form of [`joinBackward`](https://prosemirror.net/docs/ref/#commands.joinBackward)\nthat only tries to join the current textblock to the one before\nit, if the cursor is at the start of a textblock.\n*/\nconst joinTextblockBackward = (state, dispatch, view) => {\n    let $cursor = atBlockStart(state, view);\n    if (!$cursor)\n        return false;\n    let $cut = findCutBefore($cursor);\n    return $cut ? joinTextblocksAround(state, $cut, dispatch) : false;\n};\n/**\nA more limited form of [`joinForward`](https://prosemirror.net/docs/ref/#commands.joinForward)\nthat only tries to join the current textblock to the one after\nit, if the cursor is at the end of a textblock.\n*/\nconst joinTextblockForward = (state, dispatch, view) => {\n    let $cursor = atBlockEnd(state, view);\n    if (!$cursor)\n        return false;\n    let $cut = findCutAfter($cursor);\n    return $cut ? joinTextblocksAround(state, $cut, dispatch) : false;\n};\nfunction joinTextblocksAround(state, $cut, dispatch) {\n    let before = $cut.nodeBefore, beforeText = before, beforePos = $cut.pos - 1;\n    for (; !beforeText.isTextblock; beforePos--) {\n        if (beforeText.type.spec.isolating)\n            return false;\n        let child = beforeText.lastChild;\n        if (!child)\n            return false;\n        beforeText = child;\n    }\n    let after = $cut.nodeAfter, afterText = after, afterPos = $cut.pos + 1;\n    for (; !afterText.isTextblock; afterPos++) {\n        if (afterText.type.spec.isolating)\n            return false;\n        let child = afterText.firstChild;\n        if (!child)\n            return false;\n        afterText = child;\n    }\n    let step = replaceStep(state.doc, beforePos, afterPos, Slice.empty);\n    if (!step || step.from != beforePos ||\n        step instanceof ReplaceStep && step.slice.size >= afterPos - beforePos)\n        return false;\n    if (dispatch) {\n        let tr = state.tr.step(step);\n        tr.setSelection(TextSelection.create(tr.doc, beforePos));\n        dispatch(tr.scrollIntoView());\n    }\n    return true;\n}\nfunction textblockAt(node, side, only = false) {\n    for (let scan = node; scan; scan = (side == \"start\" ? scan.firstChild : scan.lastChild)) {\n        if (scan.isTextblock)\n            return true;\n        if (only && scan.childCount != 1)\n            return false;\n    }\n    return false;\n}\n/**\nWhen the selection is empty and at the start of a textblock, select\nthe node before that textblock, if possible. This is intended to be\nbound to keys like backspace, after\n[`joinBackward`](https://prosemirror.net/docs/ref/#commands.joinBackward) or other deleting\ncommands, as a fall-back behavior when the schema doesn't allow\ndeletion at the selected point.\n*/\nconst selectNodeBackward = (state, dispatch, view) => {\n    let { $head, empty } = state.selection, $cut = $head;\n    if (!empty)\n        return false;\n    if ($head.parent.isTextblock) {\n        if (view ? !view.endOfTextblock(\"backward\", state) : $head.parentOffset > 0)\n            return false;\n        $cut = findCutBefore($head);\n    }\n    let node = $cut && $cut.nodeBefore;\n    if (!node || !NodeSelection.isSelectable(node))\n        return false;\n    if (dispatch)\n        dispatch(state.tr.setSelection(NodeSelection.create(state.doc, $cut.pos - node.nodeSize)).scrollIntoView());\n    return true;\n};\nfunction findCutBefore($pos) {\n    if (!$pos.parent.type.spec.isolating)\n        for (let i = $pos.depth - 1; i >= 0; i--) {\n            if ($pos.index(i) > 0)\n                return $pos.doc.resolve($pos.before(i + 1));\n            if ($pos.node(i).type.spec.isolating)\n                break;\n        }\n    return null;\n}\nfunction atBlockEnd(state, view) {\n    let { $cursor } = state.selection;\n    if (!$cursor || (view ? !view.endOfTextblock(\"forward\", state)\n        : $cursor.parentOffset < $cursor.parent.content.size))\n        return null;\n    return $cursor;\n}\n/**\nIf the selection is empty and the cursor is at the end of a\ntextblock, try to reduce or remove the boundary between that block\nand the one after it, either by joining them or by moving the other\nblock closer to this one in the tree structure. Will use the view\nfor accurate start-of-textblock detection if given.\n*/\nconst joinForward = (state, dispatch, view) => {\n    let $cursor = atBlockEnd(state, view);\n    if (!$cursor)\n        return false;\n    let $cut = findCutAfter($cursor);\n    // If there is no node after this, there's nothing to do\n    if (!$cut)\n        return false;\n    let after = $cut.nodeAfter;\n    // Try the joining algorithm\n    if (deleteBarrier(state, $cut, dispatch, 1))\n        return true;\n    // If the node above has no content and the node below is\n    // selectable, delete the node above and select the one below.\n    if ($cursor.parent.content.size == 0 &&\n        (textblockAt(after, \"start\") || NodeSelection.isSelectable(after))) {\n        let delStep = replaceStep(state.doc, $cursor.before(), $cursor.after(), Slice.empty);\n        if (delStep && delStep.slice.size < delStep.to - delStep.from) {\n            if (dispatch) {\n                let tr = state.tr.step(delStep);\n                tr.setSelection(textblockAt(after, \"start\") ? Selection.findFrom(tr.doc.resolve(tr.mapping.map($cut.pos)), 1)\n                    : NodeSelection.create(tr.doc, tr.mapping.map($cut.pos)));\n                dispatch(tr.scrollIntoView());\n            }\n            return true;\n        }\n    }\n    // If the next node is an atom, delete it\n    if (after.isAtom && $cut.depth == $cursor.depth - 1) {\n        if (dispatch)\n            dispatch(state.tr.delete($cut.pos, $cut.pos + after.nodeSize).scrollIntoView());\n        return true;\n    }\n    return false;\n};\n/**\nWhen the selection is empty and at the end of a textblock, select\nthe node coming after that textblock, if possible. This is intended\nto be bound to keys like delete, after\n[`joinForward`](https://prosemirror.net/docs/ref/#commands.joinForward) and similar deleting\ncommands, to provide a fall-back behavior when the schema doesn't\nallow deletion at the selected point.\n*/\nconst selectNodeForward = (state, dispatch, view) => {\n    let { $head, empty } = state.selection, $cut = $head;\n    if (!empty)\n        return false;\n    if ($head.parent.isTextblock) {\n        if (view ? !view.endOfTextblock(\"forward\", state) : $head.parentOffset < $head.parent.content.size)\n            return false;\n        $cut = findCutAfter($head);\n    }\n    let node = $cut && $cut.nodeAfter;\n    if (!node || !NodeSelection.isSelectable(node))\n        return false;\n    if (dispatch)\n        dispatch(state.tr.setSelection(NodeSelection.create(state.doc, $cut.pos)).scrollIntoView());\n    return true;\n};\nfunction findCutAfter($pos) {\n    if (!$pos.parent.type.spec.isolating)\n        for (let i = $pos.depth - 1; i >= 0; i--) {\n            let parent = $pos.node(i);\n            if ($pos.index(i) + 1 < parent.childCount)\n                return $pos.doc.resolve($pos.after(i + 1));\n            if (parent.type.spec.isolating)\n                break;\n        }\n    return null;\n}\n/**\nJoin the selected block or, if there is a text selection, the\nclosest ancestor block of the selection that can be joined, with\nthe sibling above it.\n*/\nconst joinUp = (state, dispatch) => {\n    let sel = state.selection, nodeSel = sel instanceof NodeSelection, point;\n    if (nodeSel) {\n        if (sel.node.isTextblock || !canJoin(state.doc, sel.from))\n            return false;\n        point = sel.from;\n    }\n    else {\n        point = joinPoint(state.doc, sel.from, -1);\n        if (point == null)\n            return false;\n    }\n    if (dispatch) {\n        let tr = state.tr.join(point);\n        if (nodeSel)\n            tr.setSelection(NodeSelection.create(tr.doc, point - state.doc.resolve(point).nodeBefore.nodeSize));\n        dispatch(tr.scrollIntoView());\n    }\n    return true;\n};\n/**\nJoin the selected block, or the closest ancestor of the selection\nthat can be joined, with the sibling after it.\n*/\nconst joinDown = (state, dispatch) => {\n    let sel = state.selection, point;\n    if (sel instanceof NodeSelection) {\n        if (sel.node.isTextblock || !canJoin(state.doc, sel.to))\n            return false;\n        point = sel.to;\n    }\n    else {\n        point = joinPoint(state.doc, sel.to, 1);\n        if (point == null)\n            return false;\n    }\n    if (dispatch)\n        dispatch(state.tr.join(point).scrollIntoView());\n    return true;\n};\n/**\nLift the selected block, or the closest ancestor block of the\nselection that can be lifted, out of its parent node.\n*/\nconst lift = (state, dispatch) => {\n    let { $from, $to } = state.selection;\n    let range = $from.blockRange($to), target = range && liftTarget(range);\n    if (target == null)\n        return false;\n    if (dispatch)\n        dispatch(state.tr.lift(range, target).scrollIntoView());\n    return true;\n};\n/**\nIf the selection is in a node whose type has a truthy\n[`code`](https://prosemirror.net/docs/ref/#model.NodeSpec.code) property in its spec, replace the\nselection with a newline character.\n*/\nconst newlineInCode = (state, dispatch) => {\n    let { $head, $anchor } = state.selection;\n    if (!$head.parent.type.spec.code || !$head.sameParent($anchor))\n        return false;\n    if (dispatch)\n        dispatch(state.tr.insertText(\"\\n\").scrollIntoView());\n    return true;\n};\nfunction defaultBlockAt(match) {\n    for (let i = 0; i < match.edgeCount; i++) {\n        let { type } = match.edge(i);\n        if (type.isTextblock && !type.hasRequiredAttrs())\n            return type;\n    }\n    return null;\n}\n/**\nWhen the selection is in a node with a truthy\n[`code`](https://prosemirror.net/docs/ref/#model.NodeSpec.code) property in its spec, create a\ndefault block after the code block, and move the cursor there.\n*/\nconst exitCode = (state, dispatch) => {\n    let { $head, $anchor } = state.selection;\n    if (!$head.parent.type.spec.code || !$head.sameParent($anchor))\n        return false;\n    let above = $head.node(-1), after = $head.indexAfter(-1), type = defaultBlockAt(above.contentMatchAt(after));\n    if (!type || !above.canReplaceWith(after, after, type))\n        return false;\n    if (dispatch) {\n        let pos = $head.after(), tr = state.tr.replaceWith(pos, pos, type.createAndFill());\n        tr.setSelection(Selection.near(tr.doc.resolve(pos), 1));\n        dispatch(tr.scrollIntoView());\n    }\n    return true;\n};\n/**\nIf a block node is selected, create an empty paragraph before (if\nit is its parent's first child) or after it.\n*/\nconst createParagraphNear = (state, dispatch) => {\n    let sel = state.selection, { $from, $to } = sel;\n    if (sel instanceof AllSelection || $from.parent.inlineContent || $to.parent.inlineContent)\n        return false;\n    let type = defaultBlockAt($to.parent.contentMatchAt($to.indexAfter()));\n    if (!type || !type.isTextblock)\n        return false;\n    if (dispatch) {\n        let side = (!$from.parentOffset && $to.index() < $to.parent.childCount ? $from : $to).pos;\n        let tr = state.tr.insert(side, type.createAndFill());\n        tr.setSelection(TextSelection.create(tr.doc, side + 1));\n        dispatch(tr.scrollIntoView());\n    }\n    return true;\n};\n/**\nIf the cursor is in an empty textblock that can be lifted, lift the\nblock.\n*/\nconst liftEmptyBlock = (state, dispatch) => {\n    let { $cursor } = state.selection;\n    if (!$cursor || $cursor.parent.content.size)\n        return false;\n    if ($cursor.depth > 1 && $cursor.after() != $cursor.end(-1)) {\n        let before = $cursor.before();\n        if (canSplit(state.doc, before)) {\n            if (dispatch)\n                dispatch(state.tr.split(before).scrollIntoView());\n            return true;\n        }\n    }\n    let range = $cursor.blockRange(), target = range && liftTarget(range);\n    if (target == null)\n        return false;\n    if (dispatch)\n        dispatch(state.tr.lift(range, target).scrollIntoView());\n    return true;\n};\n/**\nCreate a variant of [`splitBlock`](https://prosemirror.net/docs/ref/#commands.splitBlock) that uses\na custom function to determine the type of the newly split off block.\n*/\nfunction splitBlockAs(splitNode) {\n    return (state, dispatch) => {\n        let { $from, $to } = state.selection;\n        if (state.selection instanceof NodeSelection && state.selection.node.isBlock) {\n            if (!$from.parentOffset || !canSplit(state.doc, $from.pos))\n                return false;\n            if (dispatch)\n                dispatch(state.tr.split($from.pos).scrollIntoView());\n            return true;\n        }\n        if (!$from.depth)\n            return false;\n        let types = [];\n        let splitDepth, deflt, atEnd = false, atStart = false;\n        for (let d = $from.depth;; d--) {\n            let node = $from.node(d);\n            if (node.isBlock) {\n                atEnd = $from.end(d) == $from.pos + ($from.depth - d);\n                atStart = $from.start(d) == $from.pos - ($from.depth - d);\n                deflt = defaultBlockAt($from.node(d - 1).contentMatchAt($from.indexAfter(d - 1)));\n                let splitType = splitNode && splitNode($to.parent, atEnd, $from);\n                types.unshift(splitType || (atEnd && deflt ? { type: deflt } : null));\n                splitDepth = d;\n                break;\n            }\n            else {\n                if (d == 1)\n                    return false;\n                types.unshift(null);\n            }\n        }\n        let tr = state.tr;\n        if (state.selection instanceof TextSelection || state.selection instanceof AllSelection)\n            tr.deleteSelection();\n        let splitPos = tr.mapping.map($from.pos);\n        let can = canSplit(tr.doc, splitPos, types.length, types);\n        if (!can) {\n            types[0] = deflt ? { type: deflt } : null;\n            can = canSplit(tr.doc, splitPos, types.length, types);\n        }\n        if (!can)\n            return false;\n        tr.split(splitPos, types.length, types);\n        if (!atEnd && atStart && $from.node(splitDepth).type != deflt) {\n            let first = tr.mapping.map($from.before(splitDepth)), $first = tr.doc.resolve(first);\n            if (deflt && $from.node(splitDepth - 1).canReplaceWith($first.index(), $first.index() + 1, deflt))\n                tr.setNodeMarkup(tr.mapping.map($from.before(splitDepth)), deflt);\n        }\n        if (dispatch)\n            dispatch(tr.scrollIntoView());\n        return true;\n    };\n}\n/**\nSplit the parent block of the selection. If the selection is a text\nselection, also delete its content.\n*/\nconst splitBlock = splitBlockAs();\n/**\nActs like [`splitBlock`](https://prosemirror.net/docs/ref/#commands.splitBlock), but without\nresetting the set of active marks at the cursor.\n*/\nconst splitBlockKeepMarks = (state, dispatch) => {\n    return splitBlock(state, dispatch && (tr => {\n        let marks = state.storedMarks || (state.selection.$to.parentOffset && state.selection.$from.marks());\n        if (marks)\n            tr.ensureMarks(marks);\n        dispatch(tr);\n    }));\n};\n/**\nMove the selection to the node wrapping the current selection, if\nany. (Will not select the document node.)\n*/\nconst selectParentNode = (state, dispatch) => {\n    let { $from, to } = state.selection, pos;\n    let same = $from.sharedDepth(to);\n    if (same == 0)\n        return false;\n    pos = $from.before(same);\n    if (dispatch)\n        dispatch(state.tr.setSelection(NodeSelection.create(state.doc, pos)));\n    return true;\n};\n/**\nSelect the whole document.\n*/\nconst selectAll = (state, dispatch) => {\n    if (dispatch)\n        dispatch(state.tr.setSelection(new AllSelection(state.doc)));\n    return true;\n};\nfunction joinMaybeClear(state, $pos, dispatch) {\n    let before = $pos.nodeBefore, after = $pos.nodeAfter, index = $pos.index();\n    if (!before || !after || !before.type.compatibleContent(after.type))\n        return false;\n    if (!before.content.size && $pos.parent.canReplace(index - 1, index)) {\n        if (dispatch)\n            dispatch(state.tr.delete($pos.pos - before.nodeSize, $pos.pos).scrollIntoView());\n        return true;\n    }\n    if (!$pos.parent.canReplace(index, index + 1) || !(after.isTextblock || canJoin(state.doc, $pos.pos)))\n        return false;\n    if (dispatch)\n        dispatch(state.tr.join($pos.pos).scrollIntoView());\n    return true;\n}\nfunction deleteBarrier(state, $cut, dispatch, dir) {\n    let before = $cut.nodeBefore, after = $cut.nodeAfter, conn, match;\n    let isolated = before.type.spec.isolating || after.type.spec.isolating;\n    if (!isolated && joinMaybeClear(state, $cut, dispatch))\n        return true;\n    let canDelAfter = !isolated && $cut.parent.canReplace($cut.index(), $cut.index() + 1);\n    if (canDelAfter &&\n        (conn = (match = before.contentMatchAt(before.childCount)).findWrapping(after.type)) &&\n        match.matchType(conn[0] || after.type).validEnd) {\n        if (dispatch) {\n            let end = $cut.pos + after.nodeSize, wrap = Fragment.empty;\n            for (let i = conn.length - 1; i >= 0; i--)\n                wrap = Fragment.from(conn[i].create(null, wrap));\n            wrap = Fragment.from(before.copy(wrap));\n            let tr = state.tr.step(new ReplaceAroundStep($cut.pos - 1, end, $cut.pos, end, new Slice(wrap, 1, 0), conn.length, true));\n            let $joinAt = tr.doc.resolve(end + 2 * conn.length);\n            if ($joinAt.nodeAfter && $joinAt.nodeAfter.type == before.type &&\n                canJoin(tr.doc, $joinAt.pos))\n                tr.join($joinAt.pos);\n            dispatch(tr.scrollIntoView());\n        }\n        return true;\n    }\n    let selAfter = after.type.spec.isolating || (dir > 0 && isolated) ? null : Selection.findFrom($cut, 1);\n    let range = selAfter && selAfter.$from.blockRange(selAfter.$to), target = range && liftTarget(range);\n    if (target != null && target >= $cut.depth) {\n        if (dispatch)\n            dispatch(state.tr.lift(range, target).scrollIntoView());\n        return true;\n    }\n    if (canDelAfter && textblockAt(after, \"start\", true) && textblockAt(before, \"end\")) {\n        let at = before, wrap = [];\n        for (;;) {\n            wrap.push(at);\n            if (at.isTextblock)\n                break;\n            at = at.lastChild;\n        }\n        let afterText = after, afterDepth = 1;\n        for (; !afterText.isTextblock; afterText = afterText.firstChild)\n            afterDepth++;\n        if (at.canReplace(at.childCount, at.childCount, afterText.content)) {\n            if (dispatch) {\n                let end = Fragment.empty;\n                for (let i = wrap.length - 1; i >= 0; i--)\n                    end = Fragment.from(wrap[i].copy(end));\n                let tr = state.tr.step(new ReplaceAroundStep($cut.pos - wrap.length, $cut.pos + after.nodeSize, $cut.pos + afterDepth, $cut.pos + after.nodeSize - afterDepth, new Slice(end, wrap.length, 0), 0, true));\n                dispatch(tr.scrollIntoView());\n            }\n            return true;\n        }\n    }\n    return false;\n}\nfunction selectTextblockSide(side) {\n    return function (state, dispatch) {\n        let sel = state.selection, $pos = side < 0 ? sel.$from : sel.$to;\n        let depth = $pos.depth;\n        while ($pos.node(depth).isInline) {\n            if (!depth)\n                return false;\n            depth--;\n        }\n        if (!$pos.node(depth).isTextblock)\n            return false;\n        if (dispatch)\n            dispatch(state.tr.setSelection(TextSelection.create(state.doc, side < 0 ? $pos.start(depth) : $pos.end(depth))));\n        return true;\n    };\n}\n/**\nMoves the cursor to the start of current text block.\n*/\nconst selectTextblockStart = selectTextblockSide(-1);\n/**\nMoves the cursor to the end of current text block.\n*/\nconst selectTextblockEnd = selectTextblockSide(1);\n// Parameterized commands\n/**\nWrap the selection in a node of the given type with the given\nattributes.\n*/\nfunction wrapIn(nodeType, attrs = null) {\n    return function (state, dispatch) {\n        let { $from, $to } = state.selection;\n        let range = $from.blockRange($to), wrapping = range && findWrapping(range, nodeType, attrs);\n        if (!wrapping)\n            return false;\n        if (dispatch)\n            dispatch(state.tr.wrap(range, wrapping).scrollIntoView());\n        return true;\n    };\n}\n/**\nReturns a command that tries to set the selected textblocks to the\ngiven node type with the given attributes.\n*/\nfunction setBlockType(nodeType, attrs = null) {\n    return function (state, dispatch) {\n        let applicable = false;\n        for (let i = 0; i < state.selection.ranges.length && !applicable; i++) {\n            let { $from: { pos: from }, $to: { pos: to } } = state.selection.ranges[i];\n            state.doc.nodesBetween(from, to, (node, pos) => {\n                if (applicable)\n                    return false;\n                if (!node.isTextblock || node.hasMarkup(nodeType, attrs))\n                    return;\n                if (node.type == nodeType) {\n                    applicable = true;\n                }\n                else {\n                    let $pos = state.doc.resolve(pos), index = $pos.index();\n                    applicable = $pos.parent.canReplaceWith(index, index + 1, nodeType);\n                }\n            });\n        }\n        if (!applicable)\n            return false;\n        if (dispatch) {\n            let tr = state.tr;\n            for (let i = 0; i < state.selection.ranges.length; i++) {\n                let { $from: { pos: from }, $to: { pos: to } } = state.selection.ranges[i];\n                tr.setBlockType(from, to, nodeType, attrs);\n            }\n            dispatch(tr.scrollIntoView());\n        }\n        return true;\n    };\n}\nfunction markApplies(doc, ranges, type, enterAtoms) {\n    for (let i = 0; i < ranges.length; i++) {\n        let { $from, $to } = ranges[i];\n        let can = $from.depth == 0 ? doc.inlineContent && doc.type.allowsMarkType(type) : false;\n        doc.nodesBetween($from.pos, $to.pos, (node, pos) => {\n            if (can || !enterAtoms && node.isAtom && node.isInline && pos >= $from.pos && pos + node.nodeSize <= $to.pos)\n                return false;\n            can = node.inlineContent && node.type.allowsMarkType(type);\n        });\n        if (can)\n            return true;\n    }\n    return false;\n}\nfunction removeInlineAtoms(ranges) {\n    let result = [];\n    for (let i = 0; i < ranges.length; i++) {\n        let { $from, $to } = ranges[i];\n        $from.doc.nodesBetween($from.pos, $to.pos, (node, pos) => {\n            if (node.isAtom && node.content.size && node.isInline && pos >= $from.pos && pos + node.nodeSize <= $to.pos) {\n                if (pos + 1 > $from.pos)\n                    result.push(new SelectionRange($from, $from.doc.resolve(pos + 1)));\n                $from = $from.doc.resolve(pos + 1 + node.content.size);\n                return false;\n            }\n        });\n        if ($from.pos < $to.pos)\n            result.push(new SelectionRange($from, $to));\n    }\n    return result;\n}\n/**\nCreate a command function that toggles the given mark with the\ngiven attributes. Will return `false` when the current selection\ndoesn't support that mark. This will remove the mark if any marks\nof that type exist in the selection, or add it otherwise. If the\nselection is empty, this applies to the [stored\nmarks](https://prosemirror.net/docs/ref/#state.EditorState.storedMarks) instead of a range of the\ndocument.\n*/\nfunction toggleMark(markType, attrs = null, options) {\n    let removeWhenPresent = (options && options.removeWhenPresent) !== false;\n    let enterAtoms = (options && options.enterInlineAtoms) !== false;\n    let dropSpace = !(options && options.includeWhitespace);\n    return function (state, dispatch) {\n        let { empty, $cursor, ranges } = state.selection;\n        if ((empty && !$cursor) || !markApplies(state.doc, ranges, markType, enterAtoms))\n            return false;\n        if (dispatch) {\n            if ($cursor) {\n                if (markType.isInSet(state.storedMarks || $cursor.marks()))\n                    dispatch(state.tr.removeStoredMark(markType));\n                else\n                    dispatch(state.tr.addStoredMark(markType.create(attrs)));\n            }\n            else {\n                let add, tr = state.tr;\n                if (!enterAtoms)\n                    ranges = removeInlineAtoms(ranges);\n                if (removeWhenPresent) {\n                    add = !ranges.some(r => state.doc.rangeHasMark(r.$from.pos, r.$to.pos, markType));\n                }\n                else {\n                    add = !ranges.every(r => {\n                        let missing = false;\n                        tr.doc.nodesBetween(r.$from.pos, r.$to.pos, (node, pos, parent) => {\n                            if (missing)\n                                return false;\n                            missing = !markType.isInSet(node.marks) && !!parent && parent.type.allowsMarkType(markType) &&\n                                !(node.isText && /^\\s*$/.test(node.textBetween(Math.max(0, r.$from.pos - pos), Math.min(node.nodeSize, r.$to.pos - pos))));\n                        });\n                        return !missing;\n                    });\n                }\n                for (let i = 0; i < ranges.length; i++) {\n                    let { $from, $to } = ranges[i];\n                    if (!add) {\n                        tr.removeMark($from.pos, $to.pos, markType);\n                    }\n                    else {\n                        let from = $from.pos, to = $to.pos, start = $from.nodeAfter, end = $to.nodeBefore;\n                        let spaceStart = dropSpace && start && start.isText ? /^\\s*/.exec(start.text)[0].length : 0;\n                        let spaceEnd = dropSpace && end && end.isText ? /\\s*$/.exec(end.text)[0].length : 0;\n                        if (from + spaceStart < to) {\n                            from += spaceStart;\n                            to -= spaceEnd;\n                        }\n                        tr.addMark(from, to, markType.create(attrs));\n                    }\n                }\n                dispatch(tr.scrollIntoView());\n            }\n        }\n        return true;\n    };\n}\nfunction wrapDispatchForJoin(dispatch, isJoinable) {\n    return (tr) => {\n        if (!tr.isGeneric)\n            return dispatch(tr);\n        let ranges = [];\n        for (let i = 0; i < tr.mapping.maps.length; i++) {\n            let map = tr.mapping.maps[i];\n            for (let j = 0; j < ranges.length; j++)\n                ranges[j] = map.map(ranges[j]);\n            map.forEach((_s, _e, from, to) => ranges.push(from, to));\n        }\n        // Figure out which joinable points exist inside those ranges,\n        // by checking all node boundaries in their parent nodes.\n        let joinable = [];\n        for (let i = 0; i < ranges.length; i += 2) {\n            let from = ranges[i], to = ranges[i + 1];\n            let $from = tr.doc.resolve(from), depth = $from.sharedDepth(to), parent = $from.node(depth);\n            for (let index = $from.indexAfter(depth), pos = $from.after(depth + 1); pos <= to; ++index) {\n                let after = parent.maybeChild(index);\n                if (!after)\n                    break;\n                if (index && joinable.indexOf(pos) == -1) {\n                    let before = parent.child(index - 1);\n                    if (before.type == after.type && isJoinable(before, after))\n                        joinable.push(pos);\n                }\n                pos += after.nodeSize;\n            }\n        }\n        // Join the joinable points\n        joinable.sort((a, b) => a - b);\n        for (let i = joinable.length - 1; i >= 0; i--) {\n            if (canJoin(tr.doc, joinable[i]))\n                tr.join(joinable[i]);\n        }\n        dispatch(tr);\n    };\n}\n/**\nWrap a command so that, when it produces a transform that causes\ntwo joinable nodes to end up next to each other, those are joined.\nNodes are considered joinable when they are of the same type and\nwhen the `isJoinable` predicate returns true for them or, if an\narray of strings was passed, if their node type name is in that\narray.\n*/\nfunction autoJoin(command, isJoinable) {\n    let canJoin = Array.isArray(isJoinable) ? (node) => isJoinable.indexOf(node.type.name) > -1\n        : isJoinable;\n    return (state, dispatch, view) => command(state, dispatch && wrapDispatchForJoin(dispatch, canJoin), view);\n}\n/**\nCombine a number of command functions into a single function (which\ncalls them one by one until one returns true).\n*/\nfunction chainCommands(...commands) {\n    return function (state, dispatch, view) {\n        for (let i = 0; i < commands.length; i++)\n            if (commands[i](state, dispatch, view))\n                return true;\n        return false;\n    };\n}\nlet backspace = chainCommands(deleteSelection, joinBackward, selectNodeBackward);\nlet del = chainCommands(deleteSelection, joinForward, selectNodeForward);\n/**\nA basic keymap containing bindings not specific to any schema.\nBinds the following keys (when multiple commands are listed, they\nare chained with [`chainCommands`](https://prosemirror.net/docs/ref/#commands.chainCommands)):\n\n* **Enter** to `newlineInCode`, `createParagraphNear`, `liftEmptyBlock`, `splitBlock`\n* **Mod-Enter** to `exitCode`\n* **Backspace** and **Mod-Backspace** to `deleteSelection`, `joinBackward`, `selectNodeBackward`\n* **Delete** and **Mod-Delete** to `deleteSelection`, `joinForward`, `selectNodeForward`\n* **Mod-Delete** to `deleteSelection`, `joinForward`, `selectNodeForward`\n* **Mod-a** to `selectAll`\n*/\nconst pcBaseKeymap = {\n    \"Enter\": chainCommands(newlineInCode, createParagraphNear, liftEmptyBlock, splitBlock),\n    \"Mod-Enter\": exitCode,\n    \"Backspace\": backspace,\n    \"Mod-Backspace\": backspace,\n    \"Shift-Backspace\": backspace,\n    \"Delete\": del,\n    \"Mod-Delete\": del,\n    \"Mod-a\": selectAll\n};\n/**\nA copy of `pcBaseKeymap` that also binds **Ctrl-h** like Backspace,\n**Ctrl-d** like Delete, **Alt-Backspace** like Ctrl-Backspace, and\n**Ctrl-Alt-Backspace**, **Alt-Delete**, and **Alt-d** like\nCtrl-Delete.\n*/\nconst macBaseKeymap = {\n    \"Ctrl-h\": pcBaseKeymap[\"Backspace\"],\n    \"Alt-Backspace\": pcBaseKeymap[\"Mod-Backspace\"],\n    \"Ctrl-d\": pcBaseKeymap[\"Delete\"],\n    \"Ctrl-Alt-Backspace\": pcBaseKeymap[\"Mod-Delete\"],\n    \"Alt-Delete\": pcBaseKeymap[\"Mod-Delete\"],\n    \"Alt-d\": pcBaseKeymap[\"Mod-Delete\"],\n    \"Ctrl-a\": selectTextblockStart,\n    \"Ctrl-e\": selectTextblockEnd\n};\nfor (let key in pcBaseKeymap)\n    macBaseKeymap[key] = pcBaseKeymap[key];\nconst mac = typeof navigator != \"undefined\" ? /Mac|iP(hone|[oa]d)/.test(navigator.platform)\n    // @ts-ignore\n    : typeof os != \"undefined\" && os.platform ? os.platform() == \"darwin\" : false;\n/**\nDepending on the detected platform, this will hold\n[`pcBasekeymap`](https://prosemirror.net/docs/ref/#commands.pcBaseKeymap) or\n[`macBaseKeymap`](https://prosemirror.net/docs/ref/#commands.macBaseKeymap).\n*/\nconst baseKeymap = mac ? macBaseKeymap : pcBaseKeymap;\n\nexport { autoJoin, baseKeymap, chainCommands, createParagraphNear, deleteSelection, exitCode, joinBackward, joinDown, joinForward, joinTextblockBackward, joinTextblockForward, joinUp, lift, liftEmptyBlock, macBaseKeymap, newlineInCode, pcBaseKeymap, selectAll, selectNodeBackward, selectNodeForward, selectParentNode, selectTextblockEnd, selectTextblockStart, setBlockType, splitBlock, splitBlockAs, splitBlockKeepMarks, toggleMark, wrapIn };\n", "import { Plugin } from 'prosemirror-state';\nimport { findWrapping, canJoin } from 'prosemirror-transform';\n\n/**\nInput rules are regular expressions describing a piece of text\nthat, when typed, causes something to happen. This might be\nchanging two dashes into an emdash, wrapping a paragraph starting\nwith `\"> \"` into a blockquote, or something entirely different.\n*/\nclass InputRule {\n    /**\n    Create an input rule. The rule applies when the user typed\n    something and the text directly in front of the cursor matches\n    `match`, which should end with `$`.\n    \n    The `handler` can be a string, in which case the matched text, or\n    the first matched group in the regexp, is replaced by that\n    string.\n    \n    Or a it can be a function, which will be called with the match\n    array produced by\n    [`RegExp.exec`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/exec),\n    as well as the start and end of the matched range, and which can\n    return a [transaction](https://prosemirror.net/docs/ref/#state.Transaction) that describes the\n    rule's effect, or null to indicate the input was not handled.\n    */\n    constructor(\n    /**\n    @internal\n    */\n    match, handler, options = {}) {\n        this.match = match;\n        this.match = match;\n        this.handler = typeof handler == \"string\" ? stringHandler(handler) : handler;\n        this.undoable = options.undoable !== false;\n        this.inCode = options.inCode || false;\n        this.inCodeMark = options.inCodeMark !== false;\n    }\n}\nfunction stringHandler(string) {\n    return function (state, match, start, end) {\n        let insert = string;\n        if (match[1]) {\n            let offset = match[0].lastIndexOf(match[1]);\n            insert += match[0].slice(offset + match[1].length);\n            start += offset;\n            let cutOff = start - end;\n            if (cutOff > 0) {\n                insert = match[0].slice(offset - cutOff, offset) + insert;\n                start = end;\n            }\n        }\n        return state.tr.insertText(insert, start, end);\n    };\n}\nconst MAX_MATCH = 500;\n/**\nCreate an input rules plugin. When enabled, it will cause text\ninput that matches any of the given rules to trigger the rule's\naction.\n*/\nfunction inputRules({ rules }) {\n    let plugin = new Plugin({\n        state: {\n            init() { return null; },\n            apply(tr, prev) {\n                let stored = tr.getMeta(this);\n                if (stored)\n                    return stored;\n                return tr.selectionSet || tr.docChanged ? null : prev;\n            }\n        },\n        props: {\n            handleTextInput(view, from, to, text) {\n                return run(view, from, to, text, rules, plugin);\n            },\n            handleDOMEvents: {\n                compositionend: (view) => {\n                    setTimeout(() => {\n                        let { $cursor } = view.state.selection;\n                        if ($cursor)\n                            run(view, $cursor.pos, $cursor.pos, \"\", rules, plugin);\n                    });\n                }\n            }\n        },\n        isInputRules: true\n    });\n    return plugin;\n}\nfunction run(view, from, to, text, rules, plugin) {\n    if (view.composing)\n        return false;\n    let state = view.state, $from = state.doc.resolve(from);\n    let textBefore = $from.parent.textBetween(Math.max(0, $from.parentOffset - MAX_MATCH), $from.parentOffset, null, \"\\ufffc\") + text;\n    for (let i = 0; i < rules.length; i++) {\n        let rule = rules[i];\n        if (!rule.inCodeMark && $from.marks().some(m => m.type.spec.code))\n            continue;\n        if ($from.parent.type.spec.code) {\n            if (!rule.inCode)\n                continue;\n        }\n        else if (rule.inCode === \"only\") {\n            continue;\n        }\n        let match = rule.match.exec(textBefore);\n        let tr = match && match[0].length >= text.length &&\n            rule.handler(state, match, from - (match[0].length - text.length), to);\n        if (!tr)\n            continue;\n        if (rule.undoable)\n            tr.setMeta(plugin, { transform: tr, from, to, text });\n        view.dispatch(tr);\n        return true;\n    }\n    return false;\n}\n/**\nThis is a command that will undo an input rule, if applying such a\nrule was the last thing that the user did.\n*/\nconst undoInputRule = (state, dispatch) => {\n    let plugins = state.plugins;\n    for (let i = 0; i < plugins.length; i++) {\n        let plugin = plugins[i], undoable;\n        if (plugin.spec.isInputRules && (undoable = plugin.getState(state))) {\n            if (dispatch) {\n                let tr = state.tr, toUndo = undoable.transform;\n                for (let j = toUndo.steps.length - 1; j >= 0; j--)\n                    tr.step(toUndo.steps[j].invert(toUndo.docs[j]));\n                if (undoable.text) {\n                    let marks = tr.doc.resolve(undoable.from).marks();\n                    tr.replaceWith(undoable.from, undoable.to, state.schema.text(undoable.text, marks));\n                }\n                else {\n                    tr.delete(undoable.from, undoable.to);\n                }\n                dispatch(tr);\n            }\n            return true;\n        }\n    }\n    return false;\n};\n\n/**\nConverts double dashes to an emdash.\n*/\nconst emDash = new InputRule(/--$/, \"—\", { inCodeMark: false });\n/**\nConverts three dots to an ellipsis character.\n*/\nconst ellipsis = new InputRule(/\\.\\.\\.$/, \"…\", { inCodeMark: false });\n/**\n“Smart” opening double quotes.\n*/\nconst openDoubleQuote = new InputRule(/(?:^|[\\s\\{\\[\\(\\<'\"\\u2018\\u201C])(\")$/, \"“\", { inCodeMark: false });\n/**\n“Smart” closing double quotes.\n*/\nconst closeDoubleQuote = new InputRule(/\"$/, \"”\", { inCodeMark: false });\n/**\n“Smart” opening single quotes.\n*/\nconst openSingleQuote = new InputRule(/(?:^|[\\s\\{\\[\\(\\<'\"\\u2018\\u201C])(')$/, \"‘\", { inCodeMark: false });\n/**\n“Smart” closing single quotes.\n*/\nconst closeSingleQuote = new InputRule(/'$/, \"’\", { inCodeMark: false });\n/**\nSmart-quote related input rules.\n*/\nconst smartQuotes = [openDoubleQuote, closeDoubleQuote, openSingleQuote, closeSingleQuote];\n\n/**\nBuild an input rule for automatically wrapping a textblock when a\ngiven string is typed. The `regexp` argument is\ndirectly passed through to the `InputRule` constructor. You'll\nprobably want the regexp to start with `^`, so that the pattern can\nonly occur at the start of a textblock.\n\n`nodeType` is the type of node to wrap in. If it needs attributes,\nyou can either pass them directly, or pass a function that will\ncompute them from the regular expression match.\n\nBy default, if there's a node with the same type above the newly\nwrapped node, the rule will try to [join](https://prosemirror.net/docs/ref/#transform.Transform.join) those\ntwo nodes. You can pass a join predicate, which takes a regular\nexpression match and the node before the wrapped node, and can\nreturn a boolean to indicate whether a join should happen.\n*/\nfunction wrappingInputRule(regexp, nodeType, getAttrs = null, joinPredicate) {\n    return new InputRule(regexp, (state, match, start, end) => {\n        let attrs = getAttrs instanceof Function ? getAttrs(match) : getAttrs;\n        let tr = state.tr.delete(start, end);\n        let $start = tr.doc.resolve(start), range = $start.blockRange(), wrapping = range && findWrapping(range, nodeType, attrs);\n        if (!wrapping)\n            return null;\n        tr.wrap(range, wrapping);\n        let before = tr.doc.resolve(start - 1).nodeBefore;\n        if (before && before.type == nodeType && canJoin(tr.doc, start - 1) &&\n            (!joinPredicate || joinPredicate(match, before)))\n            tr.join(start - 1);\n        return tr;\n    });\n}\n/**\nBuild an input rule that changes the type of a textblock when the\nmatched text is typed into it. You'll usually want to start your\nregexp with `^` to that it is only matched at the start of a\ntextblock. The optional `getAttrs` parameter can be used to compute\nthe new node's attributes, and works the same as in the\n`wrappingInputRule` function.\n*/\nfunction textblockTypeInputRule(regexp, nodeType, getAttrs = null) {\n    return new InputRule(regexp, (state, match, start, end) => {\n        let $start = state.doc.resolve(start);\n        let attrs = getAttrs instanceof Function ? getAttrs(match) : getAttrs;\n        if (!$start.node(-1).canReplaceWith($start.index(-1), $start.indexAfter(-1), nodeType))\n            return null;\n        return state.tr\n            .delete(start, end)\n            .setBlockType(start, start, nodeType, attrs);\n    });\n}\n\nexport { InputRule, closeDoubleQuote, closeSingleQuote, ellipsis, emDash, inputRules, openDoubleQuote, openSingleQuote, smartQuotes, textblockTypeInputRule, undoInputRule, wrappingInputRule };\n", "import { InputRule } from 'prosemirror-inputrules';\n\nconst isMarkActive = (state, type) => {\n    const { from, $from, to, empty } = state.selection;\n    if (empty) {\n        return Boolean(type.isInSet(state.storedMarks || $from.marks()));\n    }\n    return state.doc.rangeHasMark(from, to, type);\n};\n\nconst findNodeType = (type, $from) => {\n    for (let i = $from.depth; i > 0; i -= 1) {\n        if ($from.node(i).type === type) {\n            return $from.node(i).type;\n        }\n    }\n    return null;\n};\nconst isNodeActive = (state, type, attrs = {}) => {\n    const { selection } = state;\n    const { $from, to } = selection;\n    const node = findNodeType(type, $from);\n    if (!Object.entries(attrs).length || !node) {\n        return Boolean(node);\n    }\n    return to <= $from.end() && $from.parent.hasMarkup(type, attrs);\n};\n\nconst getSelectionMarks = (state) => {\n    let marks = [];\n    const { selection, storedMarks } = state;\n    const { from, to, empty, $from } = selection;\n    if (empty) {\n        marks = storedMarks || $from.marks();\n    }\n    else {\n        state.doc.nodesBetween(from, to, (node) => {\n            marks = [...marks, ...node.marks];\n        });\n    }\n    return marks;\n};\n\nconst getSelectionNodes = (state) => {\n    const nodes = [];\n    const { selection: { from, to } } = state;\n    state.doc.nodesBetween(from, to, (node) => {\n        nodes.push(node);\n    });\n    return nodes;\n};\n\n// Ref: https://github.com/ProseMirror/prosemirror-commands/blob/master/src/commands.js\nconst markApplies = (doc, ranges, type) => {\n    for (const range of ranges) {\n        const { $from, $to } = range;\n        let canApply = $from.depth === 0 ? doc.type.allowsMarkType(type) : false;\n        doc.nodesBetween($from.pos, $to.pos, (node) => {\n            if (canApply) {\n                return false;\n            }\n            canApply = node.inlineContent && node.type.allowsMarkType(type);\n            return true;\n        });\n        if (canApply) {\n            return true;\n        }\n    }\n    return false;\n};\n\nconst markInputRule = (regexp, markType, attrs) => {\n    return new InputRule(regexp, (state, match, start, end) => {\n        const { tr } = state;\n        const from = start;\n        let to = end;\n        const [fullMatch, , content] = match;\n        const noOfStartSpaces = fullMatch.search(/\\S/);\n        if (content) {\n            const textStart = start + fullMatch.indexOf(content);\n            const textEnd = textStart + content.length;\n            if (textEnd < end) {\n                tr.delete(textEnd, end);\n            }\n            if (textStart > start) {\n                tr.delete(start + noOfStartSpaces, textStart);\n            }\n            to = start + content.length + noOfStartSpaces;\n        }\n        tr.addMark(from, to, markType.create(attrs));\n        tr.removeStoredMark(markType);\n        return tr;\n    });\n};\n\nconst canInsert = (state, nodeType) => {\n    const { $from } = state.selection;\n    for (let d = $from.depth; d >= 0; d -= 1) {\n        const index = $from.index(d);\n        if ($from.node(d).canReplaceWith(index, index, nodeType)) {\n            return true;\n        }\n    }\n    return false;\n};\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { canInsert, getSelectionMarks, getSelectionNodes, isMarkActive, isNodeActive, markApplies, markInputRule };\n\n", "import { TextSelection } from 'prosemirror-state';\nimport { markApplies } from 'ngx-editor/helpers';\n\nconst removeLink = () => {\n    return (state, dispatch) => {\n        const { doc, selection, tr, schema } = state;\n        const { $head: { pos }, from, to } = selection;\n        const linkMark = schema.marks['link'];\n        // if the cursor is on the link without any selection\n        if (from === to) {\n            const $pos = doc.resolve(pos);\n            const linkStart = pos - $pos.textOffset;\n            const linkEnd = linkStart + $pos.parent.child($pos.index()).nodeSize;\n            tr.removeMark(linkStart, linkEnd, linkMark);\n        }\n        else {\n            tr.removeMark(from, to, linkMark);\n        }\n        if (!tr.docChanged) {\n            return false;\n        }\n        dispatch?.(tr);\n        return true;\n    };\n};\n\n// Ref: https://github.com/ProseMirror/prosemirror-commands/blob/master/src/commands.js\nconst applyMark = (type, attrs = {}) => {\n    return (state, dispatch) => {\n        const { tr, selection } = state;\n        const { empty, ranges, $from, $to } = selection;\n        if (empty && selection instanceof TextSelection) {\n            const { $cursor } = selection;\n            if (!$cursor || !markApplies(state.doc, ranges, type)) {\n                return false;\n            }\n            tr.addStoredMark(type.create(attrs));\n            if (!tr.storedMarksSet) {\n                return false;\n            }\n            dispatch?.(tr);\n        }\n        else {\n            tr.addMark($from.pos, $to.pos, type.create(attrs));\n            if (!tr.docChanged) {\n                return false;\n            }\n            dispatch?.(tr.scrollIntoView());\n        }\n        return true;\n    };\n};\n\nconst removeMark = (type) => {\n    return (state, dispatch) => {\n        const { tr, selection, storedMarks, doc } = state;\n        const { empty, ranges } = selection;\n        if (empty && selection instanceof TextSelection) {\n            const { $cursor } = selection;\n            if (!$cursor || !markApplies(state.doc, ranges, type)) {\n                return false;\n            }\n            if (type.isInSet(storedMarks || $cursor.marks())) {\n                tr.removeStoredMark(type);\n                dispatch?.(tr);\n                return true;\n            }\n        }\n        else {\n            for (const range of ranges) {\n                const { $from, $to } = range;\n                const hasMark = doc.rangeHasMark($from.pos, $to.pos, type);\n                if (hasMark) {\n                    tr.removeMark($from.pos, $to.pos, type);\n                }\n            }\n            if (!tr.docChanged) {\n                return false;\n            }\n            dispatch?.(tr.scrollIntoView());\n        }\n        return false;\n    };\n};\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { applyMark, removeLink, removeMark };\n\n", "var GOOD_LEAF_SIZE = 200;\n\n// :: class<T> A rope sequence is a persistent sequence data structure\n// that supports appending, prepending, and slicing without doing a\n// full copy. It is represented as a mostly-balanced tree.\nvar RopeSequence = function RopeSequence () {};\n\nRopeSequence.prototype.append = function append (other) {\n  if (!other.length) { return this }\n  other = RopeSequence.from(other);\n\n  return (!this.length && other) ||\n    (other.length < GOOD_LEAF_SIZE && this.leafAppend(other)) ||\n    (this.length < GOOD_LEAF_SIZE && other.leafPrepend(this)) ||\n    this.appendInner(other)\n};\n\n// :: (union<[T], RopeSequence<T>>) → RopeSequence<T>\n// Prepend an array or other rope to this one, returning a new rope.\nRopeSequence.prototype.prepend = function prepend (other) {\n  if (!other.length) { return this }\n  return RopeSequence.from(other).append(this)\n};\n\nRopeSequence.prototype.appendInner = function appendInner (other) {\n  return new Append(this, other)\n};\n\n// :: (?number, ?number) → RopeSequence<T>\n// Create a rope repesenting a sub-sequence of this rope.\nRopeSequence.prototype.slice = function slice (from, to) {\n    if ( from === void 0 ) from = 0;\n    if ( to === void 0 ) to = this.length;\n\n  if (from >= to) { return RopeSequence.empty }\n  return this.sliceInner(Math.max(0, from), Math.min(this.length, to))\n};\n\n// :: (number) → T\n// Retrieve the element at the given position from this rope.\nRopeSequence.prototype.get = function get (i) {\n  if (i < 0 || i >= this.length) { return undefined }\n  return this.getInner(i)\n};\n\n// :: ((element: T, index: number) → ?bool, ?number, ?number)\n// Call the given function for each element between the given\n// indices. This tends to be more efficient than looping over the\n// indices and calling `get`, because it doesn't have to descend the\n// tree for every element.\nRopeSequence.prototype.forEach = function forEach (f, from, to) {\n    if ( from === void 0 ) from = 0;\n    if ( to === void 0 ) to = this.length;\n\n  if (from <= to)\n    { this.forEachInner(f, from, to, 0); }\n  else\n    { this.forEachInvertedInner(f, from, to, 0); }\n};\n\n// :: ((element: T, index: number) → U, ?number, ?number) → [U]\n// Map the given functions over the elements of the rope, producing\n// a flat array.\nRopeSequence.prototype.map = function map (f, from, to) {\n    if ( from === void 0 ) from = 0;\n    if ( to === void 0 ) to = this.length;\n\n  var result = [];\n  this.forEach(function (elt, i) { return result.push(f(elt, i)); }, from, to);\n  return result\n};\n\n// :: (?union<[T], RopeSequence<T>>) → RopeSequence<T>\n// Create a rope representing the given array, or return the rope\n// itself if a rope was given.\nRopeSequence.from = function from (values) {\n  if (values instanceof RopeSequence) { return values }\n  return values && values.length ? new Leaf(values) : RopeSequence.empty\n};\n\nvar Leaf = /*@__PURE__*/(function (RopeSequence) {\n  function Leaf(values) {\n    RopeSequence.call(this);\n    this.values = values;\n  }\n\n  if ( RopeSequence ) Leaf.__proto__ = RopeSequence;\n  Leaf.prototype = Object.create( RopeSequence && RopeSequence.prototype );\n  Leaf.prototype.constructor = Leaf;\n\n  var prototypeAccessors = { length: { configurable: true },depth: { configurable: true } };\n\n  Leaf.prototype.flatten = function flatten () {\n    return this.values\n  };\n\n  Leaf.prototype.sliceInner = function sliceInner (from, to) {\n    if (from == 0 && to == this.length) { return this }\n    return new Leaf(this.values.slice(from, to))\n  };\n\n  Leaf.prototype.getInner = function getInner (i) {\n    return this.values[i]\n  };\n\n  Leaf.prototype.forEachInner = function forEachInner (f, from, to, start) {\n    for (var i = from; i < to; i++)\n      { if (f(this.values[i], start + i) === false) { return false } }\n  };\n\n  Leaf.prototype.forEachInvertedInner = function forEachInvertedInner (f, from, to, start) {\n    for (var i = from - 1; i >= to; i--)\n      { if (f(this.values[i], start + i) === false) { return false } }\n  };\n\n  Leaf.prototype.leafAppend = function leafAppend (other) {\n    if (this.length + other.length <= GOOD_LEAF_SIZE)\n      { return new Leaf(this.values.concat(other.flatten())) }\n  };\n\n  Leaf.prototype.leafPrepend = function leafPrepend (other) {\n    if (this.length + other.length <= GOOD_LEAF_SIZE)\n      { return new Leaf(other.flatten().concat(this.values)) }\n  };\n\n  prototypeAccessors.length.get = function () { return this.values.length };\n\n  prototypeAccessors.depth.get = function () { return 0 };\n\n  Object.defineProperties( Leaf.prototype, prototypeAccessors );\n\n  return Leaf;\n}(RopeSequence));\n\n// :: RopeSequence\n// The empty rope sequence.\nRopeSequence.empty = new Leaf([]);\n\nvar Append = /*@__PURE__*/(function (RopeSequence) {\n  function Append(left, right) {\n    RopeSequence.call(this);\n    this.left = left;\n    this.right = right;\n    this.length = left.length + right.length;\n    this.depth = Math.max(left.depth, right.depth) + 1;\n  }\n\n  if ( RopeSequence ) Append.__proto__ = RopeSequence;\n  Append.prototype = Object.create( RopeSequence && RopeSequence.prototype );\n  Append.prototype.constructor = Append;\n\n  Append.prototype.flatten = function flatten () {\n    return this.left.flatten().concat(this.right.flatten())\n  };\n\n  Append.prototype.getInner = function getInner (i) {\n    return i < this.left.length ? this.left.get(i) : this.right.get(i - this.left.length)\n  };\n\n  Append.prototype.forEachInner = function forEachInner (f, from, to, start) {\n    var leftLen = this.left.length;\n    if (from < leftLen &&\n        this.left.forEachInner(f, from, Math.min(to, leftLen), start) === false)\n      { return false }\n    if (to > leftLen &&\n        this.right.forEachInner(f, Math.max(from - leftLen, 0), Math.min(this.length, to) - leftLen, start + leftLen) === false)\n      { return false }\n  };\n\n  Append.prototype.forEachInvertedInner = function forEachInvertedInner (f, from, to, start) {\n    var leftLen = this.left.length;\n    if (from > leftLen &&\n        this.right.forEachInvertedInner(f, from - leftLen, Math.max(to, leftLen) - leftLen, start + leftLen) === false)\n      { return false }\n    if (to < leftLen &&\n        this.left.forEachInvertedInner(f, Math.min(from, leftLen), to, start) === false)\n      { return false }\n  };\n\n  Append.prototype.sliceInner = function sliceInner (from, to) {\n    if (from == 0 && to == this.length) { return this }\n    var leftLen = this.left.length;\n    if (to <= leftLen) { return this.left.slice(from, to) }\n    if (from >= leftLen) { return this.right.slice(from - leftLen, to - leftLen) }\n    return this.left.slice(from, leftLen).append(this.right.slice(0, to - leftLen))\n  };\n\n  Append.prototype.leafAppend = function leafAppend (other) {\n    var inner = this.right.leafAppend(other);\n    if (inner) { return new Append(this.left, inner) }\n  };\n\n  Append.prototype.leafPrepend = function leafPrepend (other) {\n    var inner = this.left.leafPrepend(other);\n    if (inner) { return new Append(inner, this.right) }\n  };\n\n  Append.prototype.appendInner = function appendInner (other) {\n    if (this.left.depth >= Math.max(this.right.depth, other.depth) + 1)\n      { return new Append(this.left, new Append(this.right, other)) }\n    return new Append(this, other)\n  };\n\n  return Append;\n}(RopeSequence));\n\nexport default RopeSequence;\n", "import RopeSequence from 'rope-sequence';\nimport { Mapping } from 'prosemirror-transform';\nimport { PluginKey, Plugin } from 'prosemirror-state';\n\n// ProseMirror's history isn't simply a way to roll back to a previous\n// state, because ProseMirror supports applying changes without adding\n// them to the history (for example during collaboration).\n//\n// To this end, each 'Branch' (one for the undo history and one for\n// the redo history) keeps an array of 'Items', which can optionally\n// hold a step (an actual undoable change), and always hold a position\n// map (which is needed to move changes below them to apply to the\n// current document).\n//\n// An item that has both a step and a selection bookmark is the start\n// of an 'event' — a group of changes that will be undone or redone at\n// once. (It stores only the bookmark, since that way we don't have to\n// provide a document until the selection is actually applied, which\n// is useful when compressing.)\n// Used to schedule history compression\nconst max_empty_items = 500;\nclass Branch {\n    constructor(items, eventCount) {\n        this.items = items;\n        this.eventCount = eventCount;\n    }\n    // Pop the latest event off the branch's history and apply it\n    // to a document transform.\n    popEvent(state, preserveItems) {\n        if (this.eventCount == 0)\n            return null;\n        let end = this.items.length;\n        for (;; end--) {\n            let next = this.items.get(end - 1);\n            if (next.selection) {\n                --end;\n                break;\n            }\n        }\n        let remap, mapFrom;\n        if (preserveItems) {\n            remap = this.remapping(end, this.items.length);\n            mapFrom = remap.maps.length;\n        }\n        let transform = state.tr;\n        let selection, remaining;\n        let addAfter = [], addBefore = [];\n        this.items.forEach((item, i) => {\n            if (!item.step) {\n                if (!remap) {\n                    remap = this.remapping(end, i + 1);\n                    mapFrom = remap.maps.length;\n                }\n                mapFrom--;\n                addBefore.push(item);\n                return;\n            }\n            if (remap) {\n                addBefore.push(new Item(item.map));\n                let step = item.step.map(remap.slice(mapFrom)), map;\n                if (step && transform.maybeStep(step).doc) {\n                    map = transform.mapping.maps[transform.mapping.maps.length - 1];\n                    addAfter.push(new Item(map, undefined, undefined, addAfter.length + addBefore.length));\n                }\n                mapFrom--;\n                if (map)\n                    remap.appendMap(map, mapFrom);\n            }\n            else {\n                transform.maybeStep(item.step);\n            }\n            if (item.selection) {\n                selection = remap ? item.selection.map(remap.slice(mapFrom)) : item.selection;\n                remaining = new Branch(this.items.slice(0, end).append(addBefore.reverse().concat(addAfter)), this.eventCount - 1);\n                return false;\n            }\n        }, this.items.length, 0);\n        return { remaining: remaining, transform, selection: selection };\n    }\n    // Create a new branch with the given transform added.\n    addTransform(transform, selection, histOptions, preserveItems) {\n        let newItems = [], eventCount = this.eventCount;\n        let oldItems = this.items, lastItem = !preserveItems && oldItems.length ? oldItems.get(oldItems.length - 1) : null;\n        for (let i = 0; i < transform.steps.length; i++) {\n            let step = transform.steps[i].invert(transform.docs[i]);\n            let item = new Item(transform.mapping.maps[i], step, selection), merged;\n            if (merged = lastItem && lastItem.merge(item)) {\n                item = merged;\n                if (i)\n                    newItems.pop();\n                else\n                    oldItems = oldItems.slice(0, oldItems.length - 1);\n            }\n            newItems.push(item);\n            if (selection) {\n                eventCount++;\n                selection = undefined;\n            }\n            if (!preserveItems)\n                lastItem = item;\n        }\n        let overflow = eventCount - histOptions.depth;\n        if (overflow > DEPTH_OVERFLOW) {\n            oldItems = cutOffEvents(oldItems, overflow);\n            eventCount -= overflow;\n        }\n        return new Branch(oldItems.append(newItems), eventCount);\n    }\n    remapping(from, to) {\n        let maps = new Mapping;\n        this.items.forEach((item, i) => {\n            let mirrorPos = item.mirrorOffset != null && i - item.mirrorOffset >= from\n                ? maps.maps.length - item.mirrorOffset : undefined;\n            maps.appendMap(item.map, mirrorPos);\n        }, from, to);\n        return maps;\n    }\n    addMaps(array) {\n        if (this.eventCount == 0)\n            return this;\n        return new Branch(this.items.append(array.map(map => new Item(map))), this.eventCount);\n    }\n    // When the collab module receives remote changes, the history has\n    // to know about those, so that it can adjust the steps that were\n    // rebased on top of the remote changes, and include the position\n    // maps for the remote changes in its array of items.\n    rebased(rebasedTransform, rebasedCount) {\n        if (!this.eventCount)\n            return this;\n        let rebasedItems = [], start = Math.max(0, this.items.length - rebasedCount);\n        let mapping = rebasedTransform.mapping;\n        let newUntil = rebasedTransform.steps.length;\n        let eventCount = this.eventCount;\n        this.items.forEach(item => { if (item.selection)\n            eventCount--; }, start);\n        let iRebased = rebasedCount;\n        this.items.forEach(item => {\n            let pos = mapping.getMirror(--iRebased);\n            if (pos == null)\n                return;\n            newUntil = Math.min(newUntil, pos);\n            let map = mapping.maps[pos];\n            if (item.step) {\n                let step = rebasedTransform.steps[pos].invert(rebasedTransform.docs[pos]);\n                let selection = item.selection && item.selection.map(mapping.slice(iRebased + 1, pos));\n                if (selection)\n                    eventCount++;\n                rebasedItems.push(new Item(map, step, selection));\n            }\n            else {\n                rebasedItems.push(new Item(map));\n            }\n        }, start);\n        let newMaps = [];\n        for (let i = rebasedCount; i < newUntil; i++)\n            newMaps.push(new Item(mapping.maps[i]));\n        let items = this.items.slice(0, start).append(newMaps).append(rebasedItems);\n        let branch = new Branch(items, eventCount);\n        if (branch.emptyItemCount() > max_empty_items)\n            branch = branch.compress(this.items.length - rebasedItems.length);\n        return branch;\n    }\n    emptyItemCount() {\n        let count = 0;\n        this.items.forEach(item => { if (!item.step)\n            count++; });\n        return count;\n    }\n    // Compressing a branch means rewriting it to push the air (map-only\n    // items) out. During collaboration, these naturally accumulate\n    // because each remote change adds one. The `upto` argument is used\n    // to ensure that only the items below a given level are compressed,\n    // because `rebased` relies on a clean, untouched set of items in\n    // order to associate old items with rebased steps.\n    compress(upto = this.items.length) {\n        let remap = this.remapping(0, upto), mapFrom = remap.maps.length;\n        let items = [], events = 0;\n        this.items.forEach((item, i) => {\n            if (i >= upto) {\n                items.push(item);\n                if (item.selection)\n                    events++;\n            }\n            else if (item.step) {\n                let step = item.step.map(remap.slice(mapFrom)), map = step && step.getMap();\n                mapFrom--;\n                if (map)\n                    remap.appendMap(map, mapFrom);\n                if (step) {\n                    let selection = item.selection && item.selection.map(remap.slice(mapFrom));\n                    if (selection)\n                        events++;\n                    let newItem = new Item(map.invert(), step, selection), merged, last = items.length - 1;\n                    if (merged = items.length && items[last].merge(newItem))\n                        items[last] = merged;\n                    else\n                        items.push(newItem);\n                }\n            }\n            else if (item.map) {\n                mapFrom--;\n            }\n        }, this.items.length, 0);\n        return new Branch(RopeSequence.from(items.reverse()), events);\n    }\n}\nBranch.empty = new Branch(RopeSequence.empty, 0);\nfunction cutOffEvents(items, n) {\n    let cutPoint;\n    items.forEach((item, i) => {\n        if (item.selection && (n-- == 0)) {\n            cutPoint = i;\n            return false;\n        }\n    });\n    return items.slice(cutPoint);\n}\nclass Item {\n    constructor(\n    // The (forward) step map for this item.\n    map, \n    // The inverted step\n    step, \n    // If this is non-null, this item is the start of a group, and\n    // this selection is the starting selection for the group (the one\n    // that was active before the first step was applied)\n    selection, \n    // If this item is the inverse of a previous mapping on the stack,\n    // this points at the inverse's offset\n    mirrorOffset) {\n        this.map = map;\n        this.step = step;\n        this.selection = selection;\n        this.mirrorOffset = mirrorOffset;\n    }\n    merge(other) {\n        if (this.step && other.step && !other.selection) {\n            let step = other.step.merge(this.step);\n            if (step)\n                return new Item(step.getMap().invert(), step, this.selection);\n        }\n    }\n}\n// The value of the state field that tracks undo/redo history for that\n// state. Will be stored in the plugin state when the history plugin\n// is active.\nclass HistoryState {\n    constructor(done, undone, prevRanges, prevTime, prevComposition) {\n        this.done = done;\n        this.undone = undone;\n        this.prevRanges = prevRanges;\n        this.prevTime = prevTime;\n        this.prevComposition = prevComposition;\n    }\n}\nconst DEPTH_OVERFLOW = 20;\n// Record a transformation in undo history.\nfunction applyTransaction(history, state, tr, options) {\n    let historyTr = tr.getMeta(historyKey), rebased;\n    if (historyTr)\n        return historyTr.historyState;\n    if (tr.getMeta(closeHistoryKey))\n        history = new HistoryState(history.done, history.undone, null, 0, -1);\n    let appended = tr.getMeta(\"appendedTransaction\");\n    if (tr.steps.length == 0) {\n        return history;\n    }\n    else if (appended && appended.getMeta(historyKey)) {\n        if (appended.getMeta(historyKey).redo)\n            return new HistoryState(history.done.addTransform(tr, undefined, options, mustPreserveItems(state)), history.undone, rangesFor(tr.mapping.maps), history.prevTime, history.prevComposition);\n        else\n            return new HistoryState(history.done, history.undone.addTransform(tr, undefined, options, mustPreserveItems(state)), null, history.prevTime, history.prevComposition);\n    }\n    else if (tr.getMeta(\"addToHistory\") !== false && !(appended && appended.getMeta(\"addToHistory\") === false)) {\n        // Group transforms that occur in quick succession into one event.\n        let composition = tr.getMeta(\"composition\");\n        let newGroup = history.prevTime == 0 ||\n            (!appended && history.prevComposition != composition &&\n                (history.prevTime < (tr.time || 0) - options.newGroupDelay || !isAdjacentTo(tr, history.prevRanges)));\n        let prevRanges = appended ? mapRanges(history.prevRanges, tr.mapping) : rangesFor(tr.mapping.maps);\n        return new HistoryState(history.done.addTransform(tr, newGroup ? state.selection.getBookmark() : undefined, options, mustPreserveItems(state)), Branch.empty, prevRanges, tr.time, composition == null ? history.prevComposition : composition);\n    }\n    else if (rebased = tr.getMeta(\"rebased\")) {\n        // Used by the collab module to tell the history that some of its\n        // content has been rebased.\n        return new HistoryState(history.done.rebased(tr, rebased), history.undone.rebased(tr, rebased), mapRanges(history.prevRanges, tr.mapping), history.prevTime, history.prevComposition);\n    }\n    else {\n        return new HistoryState(history.done.addMaps(tr.mapping.maps), history.undone.addMaps(tr.mapping.maps), mapRanges(history.prevRanges, tr.mapping), history.prevTime, history.prevComposition);\n    }\n}\nfunction isAdjacentTo(transform, prevRanges) {\n    if (!prevRanges)\n        return false;\n    if (!transform.docChanged)\n        return true;\n    let adjacent = false;\n    transform.mapping.maps[0].forEach((start, end) => {\n        for (let i = 0; i < prevRanges.length; i += 2)\n            if (start <= prevRanges[i + 1] && end >= prevRanges[i])\n                adjacent = true;\n    });\n    return adjacent;\n}\nfunction rangesFor(maps) {\n    let result = [];\n    for (let i = maps.length - 1; i >= 0 && result.length == 0; i--)\n        maps[i].forEach((_from, _to, from, to) => result.push(from, to));\n    return result;\n}\nfunction mapRanges(ranges, mapping) {\n    if (!ranges)\n        return null;\n    let result = [];\n    for (let i = 0; i < ranges.length; i += 2) {\n        let from = mapping.map(ranges[i], 1), to = mapping.map(ranges[i + 1], -1);\n        if (from <= to)\n            result.push(from, to);\n    }\n    return result;\n}\n// Apply the latest event from one branch to the document and shift the event\n// onto the other branch.\nfunction histTransaction(history, state, redo) {\n    let preserveItems = mustPreserveItems(state);\n    let histOptions = historyKey.get(state).spec.config;\n    let pop = (redo ? history.undone : history.done).popEvent(state, preserveItems);\n    if (!pop)\n        return null;\n    let selection = pop.selection.resolve(pop.transform.doc);\n    let added = (redo ? history.done : history.undone).addTransform(pop.transform, state.selection.getBookmark(), histOptions, preserveItems);\n    let newHist = new HistoryState(redo ? added : pop.remaining, redo ? pop.remaining : added, null, 0, -1);\n    return pop.transform.setSelection(selection).setMeta(historyKey, { redo, historyState: newHist });\n}\nlet cachedPreserveItems = false, cachedPreserveItemsPlugins = null;\n// Check whether any plugin in the given state has a\n// `historyPreserveItems` property in its spec, in which case we must\n// preserve steps exactly as they came in, so that they can be\n// rebased.\nfunction mustPreserveItems(state) {\n    let plugins = state.plugins;\n    if (cachedPreserveItemsPlugins != plugins) {\n        cachedPreserveItems = false;\n        cachedPreserveItemsPlugins = plugins;\n        for (let i = 0; i < plugins.length; i++)\n            if (plugins[i].spec.historyPreserveItems) {\n                cachedPreserveItems = true;\n                break;\n            }\n    }\n    return cachedPreserveItems;\n}\n/**\nSet a flag on the given transaction that will prevent further steps\nfrom being appended to an existing history event (so that they\nrequire a separate undo command to undo).\n*/\nfunction closeHistory(tr) {\n    return tr.setMeta(closeHistoryKey, true);\n}\nconst historyKey = new PluginKey(\"history\");\nconst closeHistoryKey = new PluginKey(\"closeHistory\");\n/**\nReturns a plugin that enables the undo history for an editor. The\nplugin will track undo and redo stacks, which can be used with the\n[`undo`](https://prosemirror.net/docs/ref/#history.undo) and [`redo`](https://prosemirror.net/docs/ref/#history.redo) commands.\n\nYou can set an `\"addToHistory\"` [metadata\nproperty](https://prosemirror.net/docs/ref/#state.Transaction.setMeta) of `false` on a transaction\nto prevent it from being rolled back by undo.\n*/\nfunction history(config = {}) {\n    config = { depth: config.depth || 100,\n        newGroupDelay: config.newGroupDelay || 500 };\n    return new Plugin({\n        key: historyKey,\n        state: {\n            init() {\n                return new HistoryState(Branch.empty, Branch.empty, null, 0, -1);\n            },\n            apply(tr, hist, state) {\n                return applyTransaction(hist, state, tr, config);\n            }\n        },\n        config,\n        props: {\n            handleDOMEvents: {\n                beforeinput(view, e) {\n                    let inputType = e.inputType;\n                    let command = inputType == \"historyUndo\" ? undo : inputType == \"historyRedo\" ? redo : null;\n                    if (!command)\n                        return false;\n                    e.preventDefault();\n                    return command(view.state, view.dispatch);\n                }\n            }\n        }\n    });\n}\nfunction buildCommand(redo, scroll) {\n    return (state, dispatch) => {\n        let hist = historyKey.getState(state);\n        if (!hist || (redo ? hist.undone : hist.done).eventCount == 0)\n            return false;\n        if (dispatch) {\n            let tr = histTransaction(hist, state, redo);\n            if (tr)\n                dispatch(scroll ? tr.scrollIntoView() : tr);\n        }\n        return true;\n    };\n}\n/**\nA command function that undoes the last change, if any.\n*/\nconst undo = buildCommand(false, true);\n/**\nA command function that redoes the last undone change, if any.\n*/\nconst redo = buildCommand(true, true);\n/**\nA command function that undoes the last change. Don't scroll the\nselection into view.\n*/\nconst undoNoScroll = buildCommand(false, false);\n/**\nA command function that redoes the last undone change. Don't\nscroll the selection into view.\n*/\nconst redoNoScroll = buildCommand(true, false);\n/**\nThe amount of undoable events available in a given state.\n*/\nfunction undoDepth(state) {\n    let hist = historyKey.getState(state);\n    return hist ? hist.done.eventCount : 0;\n}\n/**\nThe amount of redoable events available in a given editor state.\n*/\nfunction redoDepth(state) {\n    let hist = historyKey.getState(state);\n    return hist ? hist.undone.eventCount : 0;\n}\n\nexport { closeHistory, history, redo, redoDepth, redoNoScroll, undo, undoDepth, undoNoScroll };\n", "/**\n * Custom positioning reference element.\n * @see https://floating-ui.com/docs/virtual-elements\n */\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nconst yAxisSides = /*#__PURE__*/new Set(['top', 'bottom']);\nfunction getSideAxis(placement) {\n  return yAxisSides.has(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nconst lrPlacement = ['left', 'right'];\nconst rlPlacement = ['right', 'left'];\nconst tbPlacement = ['top', 'bottom'];\nconst btPlacement = ['bottom', 'top'];\nfunction getSideList(side, isStart, rtl) {\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rlPlacement : lrPlacement;\n      return isStart ? lrPlacement : rlPlacement;\n    case 'left':\n    case 'right':\n      return isStart ? tbPlacement : btPlacement;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  const {\n    x,\n    y,\n    width,\n    height\n  } = rect;\n  return {\n    width,\n    height,\n    top: y,\n    left: x,\n    right: x + width,\n    bottom: y + height,\n    x,\n    y\n  };\n}\n\nexport { alignments, clamp, createCoords, evaluate, expandPaddingObject, floor, getAlignment, getAlignmentAxis, getAlignmentSides, getAxisLength, getExpandedPlacements, getOppositeAlignmentPlacement, getOppositeAxis, getOppositeAxisPlacements, getOppositePlacement, getPaddingObject, getSide, getSideAxis, max, min, placements, rectToClientRect, round, sides };\n", "import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\nexport { rectToClientRect } from '@floating-ui/utils';\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    x,\n    y,\n    width: rects.floating.width,\n    height: rects.floating.height\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const initialSideAxis = getSideAxis(initialPlacement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      const hasFallbackAxisSideDirection = fallbackAxisSideDirection !== 'none';\n      if (!specifiedFallbackPlacements && hasFallbackAxisSideDirection) {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          const ignoreCrossAxisOverflow = checkCrossAxis === 'alignment' ? initialSideAxis !== getSideAxis(nextPlacement) : false;\n          if (!ignoreCrossAxisOverflow ||\n          // We leave the current main axis only if every placement on that axis\n          // overflows the main axis.\n          overflowsData.every(d => getSideAxis(d.placement) === initialSideAxis ? d.overflows[0] > 0 : true)) {\n            // Try next placement and re-run the lifecycle.\n            return {\n              data: {\n                index: nextIndex,\n                overflows: overflowsData\n              },\n              reset: {\n                placement: nextPlacement\n              }\n            };\n          }\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$filter2;\n                const placement = (_overflowsData$filter2 = overflowsData.filter(d => {\n                  if (hasFallbackAxisSideDirection) {\n                    const currentSideAxis = getSideAxis(d.placement);\n                    return currentSideAxis === initialSideAxis ||\n                    // Create a bias to the `y` side axis due to horizontal\n                    // reading directions favoring greater width.\n                    currentSideAxis === 'y';\n                  }\n                  return true;\n                }).map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$filter2[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getPaddingObject(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getSideAxis(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nconst originSides = /*#__PURE__*/new Set(['left', 'top']);\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = originSides.has(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n\n  // eslint-disable-next-line prefer-const\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: rawValue.mainAxis || 0,\n    crossAxis: rawValue.crossAxis || 0,\n    alignmentAxis: rawValue.alignmentAxis\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x,\n        y,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n\n      // If the placement is the same and the arrow caused an alignment offset\n      // then we don't need to change the positioning coordinates.\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y,\n          enabled: {\n            [mainAxis]: checkMainAxis,\n            [crossAxis]: checkCrossAxis\n          }\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = originSides.has(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      var _state$middlewareData, _state$middlewareData2;\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const maximumClippingHeight = height - overflow.top - overflow.bottom;\n      const maximumClippingWidth = width - overflow.left - overflow.right;\n      const overflowAvailableHeight = min(height - overflow[heightSide], maximumClippingHeight);\n      const overflowAvailableWidth = min(width - overflow[widthSide], maximumClippingWidth);\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if ((_state$middlewareData = state.middlewareData.shift) != null && _state$middlewareData.enabled.x) {\n        availableWidth = maximumClippingWidth;\n      }\n      if ((_state$middlewareData2 = state.middlewareData.shift) != null && _state$middlewareData2.enabled.y) {\n        availableHeight = maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\n", "function hasWindow() {\n  return typeof window !== 'undefined';\n}\nfunction getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  if (!hasWindow() || typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nconst invalidOverflowDisplayValues = /*#__PURE__*/new Set(['inline', 'contents']);\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !invalidOverflowDisplayValues.has(display);\n}\nconst tableElements = /*#__PURE__*/new Set(['table', 'td', 'th']);\nfunction isTableElement(element) {\n  return tableElements.has(getNodeName(element));\n}\nconst topLayerSelectors = [':popover-open', ':modal'];\nfunction isTopLayer(element) {\n  return topLayerSelectors.some(selector => {\n    try {\n      return element.matches(selector);\n    } catch (_e) {\n      return false;\n    }\n  });\n}\nconst transformProperties = ['transform', 'translate', 'scale', 'rotate', 'perspective'];\nconst willChangeValues = ['transform', 'translate', 'scale', 'rotate', 'perspective', 'filter'];\nconst containValues = ['paint', 'layout', 'strict', 'content'];\nfunction isContainingBlock(elementOrCss) {\n  const webkit = isWebKit();\n  const css = isElement(elementOrCss) ? getComputedStyle(elementOrCss) : elementOrCss;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  // https://drafts.csswg.org/css-transforms-2/#individual-transforms\n  return transformProperties.some(value => css[value] ? css[value] !== 'none' : false) || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || willChangeValues.some(value => (css.willChange || '').includes(value)) || containValues.some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else if (isTopLayer(currentNode)) {\n      return null;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nconst lastTraversableNodeNames = /*#__PURE__*/new Set(['html', 'body', '#document']);\nfunction isLastTraversableNode(node) {\n  return lastTraversableNodeNames.has(getNodeName(node));\n}\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.scrollX,\n    scrollTop: element.scrollY\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    const frameElement = getFrameElement(win);\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], frameElement && traverseIframes ? getOverflowAncestors(frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\nfunction getFrameElement(win) {\n  return win.parent && Object.getPrototypeOf(win.parent) ? win.frameElement : null;\n}\n\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getFrameElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isTopLayer, isWebKit };\n", "import { rectToClientRect, arrow as arrow$1, autoPlacement as autoPlacement$1, detectOverflow as detectOverflow$1, flip as flip$1, hide as hide$1, inline as inline$1, limitShift as limitShift$1, offset as offset$1, shift as shift$1, size as size$1, computePosition as computePosition$1 } from '@floating-ui/core';\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\nimport { getComputedStyle, isHTMLElement, isElement, getWindow, isWebKit, getFrameElement, getNodeScroll, getDocumentElement, isTopLayer, getNodeName, isOverflowElement, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement, getContainingBlock } from '@floating-ui/utils/dom';\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentWin = win;\n    let currentIFrame = getFrameElement(currentWin);\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentWin = getWindow(currentIFrame);\n      currentIFrame = getFrameElement(currentWin);\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\n// If <html> has a CSS width greater than the viewport, then this will be\n// incorrect for RTL.\nfunction getWindowScrollBarX(element, rect) {\n  const leftScroll = getNodeScroll(element).scrollLeft;\n  if (!rect) {\n    return getBoundingClientRect(getDocumentElement(element)).left + leftScroll;\n  }\n  return rect.left + leftScroll;\n}\n\nfunction getHTMLOffset(documentElement, scroll, ignoreScrollbarX) {\n  if (ignoreScrollbarX === void 0) {\n    ignoreScrollbarX = false;\n  }\n  const htmlRect = documentElement.getBoundingClientRect();\n  const x = htmlRect.left + scroll.scrollLeft - (ignoreScrollbarX ? 0 :\n  // RTL <body> scrollbar.\n  getWindowScrollBarX(documentElement, htmlRect));\n  const y = htmlRect.top + scroll.scrollTop;\n  return {\n    x,\n    y\n  };\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isFixed = strategy === 'fixed';\n  const documentElement = getDocumentElement(offsetParent);\n  const topLayer = elements ? isTopLayer(elements.floating) : false;\n  if (offsetParent === documentElement || topLayer && isFixed) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll, true) : createCoords(0);\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x + htmlOffset.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y + htmlOffset.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nconst absoluteOrFixed = /*#__PURE__*/new Set(['absolute', 'fixed']);\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y,\n      width: clippingAncestor.width,\n      height: clippingAncestor.height\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && absoluteOrFixed.has(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? isTopLayer(element) ? [] : getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n\n  // If the <body> scrollbar appears on the left (e.g. RTL systems). Use\n  // Firefox with layout.scrollbar.side = 3 in about:config to test this.\n  function setLeftRTLScrollbarOffset() {\n    offsets.x = getWindowScrollBarX(documentElement);\n  }\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      setLeftRTLScrollbarOffset();\n    }\n  }\n  if (isFixed && !isOffsetParentAnElement && documentElement) {\n    setLeftRTLScrollbarOffset();\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll) : createCoords(0);\n  const x = rect.left + scroll.scrollLeft - offsets.x - htmlOffset.x;\n  const y = rect.top + scroll.scrollTop - offsets.y - htmlOffset.y;\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction isStaticPositioned(element) {\n  return getComputedStyle(element).position === 'static';\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  let rawOffsetParent = element.offsetParent;\n\n  // Firefox returns the <html> element as the offsetParent if it's non-static,\n  // while Chrome and Safari return the <body> element. The <body> element must\n  // be used to perform the correct calculations even if the <html> element is\n  // non-static.\n  if (getDocumentElement(element) === rawOffsetParent) {\n    rawOffsetParent = rawOffsetParent.ownerDocument.body;\n  }\n  return rawOffsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const win = getWindow(element);\n  if (isTopLayer(element)) {\n    return win;\n  }\n  if (!isHTMLElement(element)) {\n    let svgOffsetParent = getParentNode(element);\n    while (svgOffsetParent && !isLastTraversableNode(svgOffsetParent)) {\n      if (isElement(svgOffsetParent) && !isStaticPositioned(svgOffsetParent)) {\n        return svgOffsetParent;\n      }\n      svgOffsetParent = getParentNode(svgOffsetParent);\n    }\n    return win;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && isStaticPositioned(offsetParent)) {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && isLastTraversableNode(offsetParent) && isStaticPositioned(offsetParent) && !isContainingBlock(offsetParent)) {\n    return win;\n  }\n  return offsetParent || getContainingBlock(element) || win;\n}\n\nconst getElementRects = async function (data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  const floatingDimensions = await getDimensionsFn(data.floating);\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      width: floatingDimensions.width,\n      height: floatingDimensions.height\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\nfunction rectsAreEqual(a, b) {\n  return a.x === b.x && a.y === b.y && a.width === b.width && a.height === b.height;\n}\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const elementRectForRootMargin = element.getBoundingClientRect();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = elementRectForRootMargin;\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          // If the reference is clipped, the ratio is 0. Throttle the refresh\n          // to prevent an infinite loop of updates.\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 1000);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      if (ratio === 1 && !rectsAreEqual(elementRectForRootMargin, element.getBoundingClientRect())) {\n        // It's possible that even though the ratio is reported as 1, the\n        // element is not actually fully within the IntersectionObserver's root\n        // area anymore. This can happen under performance constraints. This may\n        // be a bug in the browser's IntersectionObserver implementation. To\n        // work around this, we compare the element's bounding rect now with\n        // what it was at the time we created the IntersectionObserver. If they\n        // are not equal then the element moved, so we refresh.\n        refresh();\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (_e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && !rectsAreEqual(prevRefRect, nextRefRect)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nconst detectOverflow = detectOverflow$1;\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = offset$1;\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = autoPlacement$1;\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = shift$1;\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = flip$1;\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = size$1;\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = hide$1;\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = arrow$1;\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = inline$1;\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = limitShift$1;\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { arrow, autoPlacement, autoUpdate, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, platform, shift, size };\n", "export var base = {\n  8: \"Backspace\",\n  9: \"Tab\",\n  10: \"Enter\",\n  12: \"NumLock\",\n  13: \"Enter\",\n  16: \"Shift\",\n  17: \"Control\",\n  18: \"Alt\",\n  20: \"CapsLock\",\n  27: \"Escape\",\n  32: \" \",\n  33: \"PageUp\",\n  34: \"PageDown\",\n  35: \"End\",\n  36: \"Home\",\n  37: \"ArrowLeft\",\n  38: \"ArrowUp\",\n  39: \"ArrowRight\",\n  40: \"ArrowDown\",\n  44: \"PrintScreen\",\n  45: \"Insert\",\n  46: \"Delete\",\n  59: \";\",\n  61: \"=\",\n  91: \"Meta\",\n  92: \"Meta\",\n  106: \"*\",\n  107: \"+\",\n  108: \",\",\n  109: \"-\",\n  110: \".\",\n  111: \"/\",\n  144: \"NumLock\",\n  145: \"ScrollLock\",\n  160: \"Shift\",\n  161: \"Shift\",\n  162: \"Control\",\n  163: \"Control\",\n  164: \"Alt\",\n  165: \"Alt\",\n  173: \"-\",\n  186: \";\",\n  187: \"=\",\n  188: \",\",\n  189: \"-\",\n  190: \".\",\n  191: \"/\",\n  192: \"`\",\n  219: \"[\",\n  220: \"\\\\\",\n  221: \"]\",\n  222: \"'\"\n}\n\nexport var shift = {\n  48: \")\",\n  49: \"!\",\n  50: \"@\",\n  51: \"#\",\n  52: \"$\",\n  53: \"%\",\n  54: \"^\",\n  55: \"&\",\n  56: \"*\",\n  57: \"(\",\n  59: \":\",\n  61: \"+\",\n  173: \"_\",\n  186: \":\",\n  187: \"+\",\n  188: \"<\",\n  189: \"_\",\n  190: \">\",\n  191: \"?\",\n  192: \"~\",\n  219: \"{\",\n  220: \"|\",\n  221: \"}\",\n  222: \"\\\"\"\n}\n\nvar mac = typeof navigator != \"undefined\" && /Mac/.test(navigator.platform)\nvar ie = typeof navigator != \"undefined\" && /MSIE \\d|Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(navigator.userAgent)\n\n// Fill in the digit keys\nfor (var i = 0; i < 10; i++) base[48 + i] = base[96 + i] = String(i)\n\n// The function keys\nfor (var i = 1; i <= 24; i++) base[i + 111] = \"F\" + i\n\n// And the alphabetic keys\nfor (var i = 65; i <= 90; i++) {\n  base[i] = String.fromCharCode(i + 32)\n  shift[i] = String.fromCharCode(i)\n}\n\n// For each code that doesn't have a shift-equivalent, copy the base name\nfor (var code in base) if (!shift.hasOwnProperty(code)) shift[code] = base[code]\n\nexport function keyName(event) {\n  // On macOS, keys held with Shift and Cmd don't reflect the effect of Shift in `.key`.\n  // On IE, shift effect is never included in `.key`.\n  var ignoreKey = mac && event.metaKey && event.shiftKey && !event.ctrlKey && !event.altKey ||\n      ie && event.shiftKey && event.key && event.key.length == 1 ||\n      event.key == \"Unidentified\"\n  var name = (!ignoreKey && event.key) ||\n    (event.shiftKey ? shift : base)[event.keyCode] ||\n    event.key || \"Unidentified\"\n  // Edge sometimes produces wrong names (Issue #3)\n  if (name == \"Esc\") name = \"Escape\"\n  if (name == \"Del\") name = \"Delete\"\n  // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8860571/\n  if (name == \"Left\") name = \"ArrowLeft\"\n  if (name == \"Up\") name = \"ArrowUp\"\n  if (name == \"Right\") name = \"ArrowRight\"\n  if (name == \"Down\") name = \"ArrowDown\"\n  return name\n}\n", "import { keyName, base } from 'w3c-keyname';\nimport { Plugin } from 'prosemirror-state';\n\nconst mac = typeof navigator != \"undefined\" && /Mac|iP(hone|[oa]d)/.test(navigator.platform);\nconst windows = typeof navigator != \"undefined\" && /Win/.test(navigator.platform);\nfunction normalizeKeyName(name) {\n    let parts = name.split(/-(?!$)/), result = parts[parts.length - 1];\n    if (result == \"Space\")\n        result = \" \";\n    let alt, ctrl, shift, meta;\n    for (let i = 0; i < parts.length - 1; i++) {\n        let mod = parts[i];\n        if (/^(cmd|meta|m)$/i.test(mod))\n            meta = true;\n        else if (/^a(lt)?$/i.test(mod))\n            alt = true;\n        else if (/^(c|ctrl|control)$/i.test(mod))\n            ctrl = true;\n        else if (/^s(hift)?$/i.test(mod))\n            shift = true;\n        else if (/^mod$/i.test(mod)) {\n            if (mac)\n                meta = true;\n            else\n                ctrl = true;\n        }\n        else\n            throw new Error(\"Unrecognized modifier name: \" + mod);\n    }\n    if (alt)\n        result = \"Alt-\" + result;\n    if (ctrl)\n        result = \"Ctrl-\" + result;\n    if (meta)\n        result = \"Meta-\" + result;\n    if (shift)\n        result = \"Shift-\" + result;\n    return result;\n}\nfunction normalize(map) {\n    let copy = Object.create(null);\n    for (let prop in map)\n        copy[normalizeKeyName(prop)] = map[prop];\n    return copy;\n}\nfunction modifiers(name, event, shift = true) {\n    if (event.altKey)\n        name = \"Alt-\" + name;\n    if (event.ctrlKey)\n        name = \"Ctrl-\" + name;\n    if (event.metaKey)\n        name = \"Meta-\" + name;\n    if (shift && event.shiftKey)\n        name = \"Shift-\" + name;\n    return name;\n}\n/**\nCreate a keymap plugin for the given set of bindings.\n\nBindings should map key names to [command](https://prosemirror.net/docs/ref/#commands)-style\nfunctions, which will be called with `(EditorState, dispatch,\nEditorView)` arguments, and should return true when they've handled\nthe key. Note that the view argument isn't part of the command\nprotocol, but can be used as an escape hatch if a binding needs to\ndirectly interact with the UI.\n\nKey names may be strings like `\"Shift-Ctrl-Enter\"`—a key\nidentifier prefixed with zero or more modifiers. Key identifiers\nare based on the strings that can appear in\n[`KeyEvent.key`](https:developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key).\nUse lowercase letters to refer to letter keys (or uppercase letters\nif you want shift to be held). You may use `\"Space\"` as an alias\nfor the `\" \"` name.\n\nModifiers can be given in any order. `Shift-` (or `s-`), `Alt-` (or\n`a-`), `Ctrl-` (or `c-` or `Control-`) and `Cmd-` (or `m-` or\n`Meta-`) are recognized. For characters that are created by holding\nshift, the `Shift-` prefix is implied, and should not be added\nexplicitly.\n\nYou can use `Mod-` as a shorthand for `Cmd-` on Mac and `Ctrl-` on\nother platforms.\n\nYou can add multiple keymap plugins to an editor. The order in\nwhich they appear determines their precedence (the ones early in\nthe array get to dispatch first).\n*/\nfunction keymap(bindings) {\n    return new Plugin({ props: { handleKeyDown: keydownHandler(bindings) } });\n}\n/**\nGiven a set of bindings (using the same format as\n[`keymap`](https://prosemirror.net/docs/ref/#keymap.keymap)), return a [keydown\nhandler](https://prosemirror.net/docs/ref/#view.EditorProps.handleKeyDown) that handles them.\n*/\nfunction keydownHandler(bindings) {\n    let map = normalize(bindings);\n    return function (view, event) {\n        let name = keyName(event), baseName, direct = map[modifiers(name, event)];\n        if (direct && direct(view.state, view.dispatch, view))\n            return true;\n        // A character key\n        if (name.length == 1 && name != \" \") {\n            if (event.shiftKey) {\n                // In case the name was already modified by shift, try looking\n                // it up without its shift modifier\n                let noShift = map[modifiers(name, event, false)];\n                if (noShift && noShift(view.state, view.dispatch, view))\n                    return true;\n            }\n            if ((event.altKey || event.metaKey || event.ctrlKey) &&\n                // Ctrl-Alt may be used for AltGr on Windows\n                !(windows && event.ctrlKey && event.altKey) &&\n                (baseName = base[event.keyCode]) && baseName != name) {\n                // Try falling back to the keyCode when there's a modifier\n                // active or the character produced isn't ASCII, and our table\n                // produces a different name from the the keyCode. See #668,\n                // #1060, #1529.\n                let fromCode = map[modifiers(baseName, event)];\n                if (fromCode && fromCode(view.state, view.dispatch, view))\n                    return true;\n            }\n        }\n        return false;\n    };\n}\n\nexport { keydownHandler, keymap };\n", "import * as i0 from '@angular/core';\nimport { EventEmitter, ViewChild, Output, Input, Component, ApplicationRef, createComponent, forwardRef, ViewEncapsulation, Pipe, Injectable, Optional, HostListener, HostBinding, NgModule, InjectionToken } from '@angular/core';\nimport * as i4 from '@angular/forms';\nimport { NG_VALUE_ACCESSOR, FormGroup, FormControl, Validators as Validators$1, ReactiveFormsModule } from '@angular/forms';\nimport { Subject, of, isObservable, fromEvent, asyncScheduler } from 'rxjs';\nimport { takeUntil, throttleTime } from 'rxjs/operators';\nimport { NgxEditorError, clamp, uniq, isNil } from 'ngx-editor/utils';\nimport { DOMSerializer, DOMParser, Fragment, Slice } from 'prosemirror-model';\nimport { schema } from 'ngx-editor/schema';\nconst _c0 = [\"imgEl\"];\nconst _c1 = a0 => ({\n  \"NgxEditor__Resizer--Active\": a0\n});\nfunction ImageViewComponent_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"span\", 4)(1, \"span\", 5);\n    i0.ɵɵlistener(\"mousedown\", function ImageViewComponent_span_1_Template_span_mousedown_1_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.startResizing($event, \"left\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"span\", 6);\n    i0.ɵɵlistener(\"mousedown\", function ImageViewComponent_span_1_Template_span_mousedown_2_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.startResizing($event, \"right\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 7);\n    i0.ɵɵlistener(\"mousedown\", function ImageViewComponent_span_1_Template_span_mousedown_3_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.startResizing($event, \"left\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 8);\n    i0.ɵɵlistener(\"mousedown\", function ImageViewComponent_span_1_Template_span_mousedown_4_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.startResizing($event, \"right\"));\n    });\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c2 = [\"ngxEditor\"];\nconst _c3 = [\"*\"];\nconst _c4 = (a0, a1) => ({\n  backgroundColor: a0,\n  color: a1\n});\nconst _c5 = a0 => ({\n  \"NgxEditor__Color--Active\": a0\n});\nfunction ColorPickerComponent_div_4_div_1_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 7);\n    i0.ɵɵlistener(\"mousedown\", function ColorPickerComponent_div_4_div_1_button_1_Template_button_mousedown_0_listener($event) {\n      const color_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r3.onColorSelectMouseClick($event, color_r3));\n    })(\"keydown.enter\", function ColorPickerComponent_div_4_div_1_button_1_Template_button_keydown_enter_0_listener() {\n      const color_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r3.onColorSelectKeydown(color_r3));\n    })(\"keydown.space\", function ColorPickerComponent_div_4_div_1_button_1_Template_button_keydown_space_0_listener() {\n      const color_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r3.onColorSelectKeydown(color_r3));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const color_r3 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction2(3, _c4, color_r3, ctx_r3.getContrastYIQ(color_r3)))(\"title\", color_r3)(\"ngClass\", i0.ɵɵpureFunction1(6, _c5, ctx_r3.activeColors.includes(color_r3)));\n  }\n}\nfunction ColorPickerComponent_div_4_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵtemplate(1, ColorPickerComponent_div_4_div_1_button_1_Template, 1, 8, \"button\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const colorGroup_r5 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", colorGroup_r5)(\"ngForTrackBy\", ctx_r3.trackByIndex);\n  }\n}\nfunction ColorPickerComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtemplate(1, ColorPickerComponent_div_4_div_1_Template, 2, 2, \"div\", 3);\n    i0.ɵɵelementStart(2, \"button\", 4);\n    i0.ɵɵlistener(\"mousedown\", function ColorPickerComponent_div_4_Template_button_mousedown_2_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onRemoveMouseClick($event));\n    })(\"keydown.enter\", function ColorPickerComponent_div_4_Template_button_keydown_enter_2_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onRemoveKeydown());\n    })(\"keydown.space\", function ColorPickerComponent_div_4_Template_button_keydown_space_2_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onRemoveKeydown());\n    });\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"async\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.presets)(\"ngForTrackBy\", ctx_r3.trackByIndex);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", !ctx_r3.isActive);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 4, ctx_r3.getLabel(\"remove\")), \" \");\n  }\n}\nconst _c6 = (a0, a1) => ({\n  \"NgxEditor__Dropdown--Active\": a0,\n  \"NgxEditor--Disabled\": a1\n});\nfunction DropdownComponent_div_4_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 4);\n    i0.ɵɵpipe(1, \"async\");\n    i0.ɵɵlistener(\"mousedown\", function DropdownComponent_div_4_button_1_Template_button_mousedown_0_listener($event) {\n      const item_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.onDropdownItemMouseClick($event, item_r2));\n    })(\"keydown.enter\", function DropdownComponent_div_4_button_1_Template_button_keydown_enter_0_listener($event) {\n      const item_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.onDropdownItemKeydown($event, item_r2));\n    })(\"keydown.space\", function DropdownComponent_div_4_button_1_Template_button_keydown_space_0_listener($event) {\n      const item_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.onDropdownItemKeydown($event, item_r2));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(8, _c6, item_r2 === ctx_r2.activeItem, ctx_r2.disabledItems.includes(item_r2)));\n    i0.ɵɵariaProperty(\"ariaLabel\", i0.ɵɵpipeBind1(1, 4, ctx_r2.getName(item_r2)));\n    i0.ɵɵattribute(\"aria-selected\", item_r2 === ctx_r2.activeItem);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 6, ctx_r2.getName(item_r2)), \" \");\n  }\n}\nfunction DropdownComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtemplate(1, DropdownComponent_div_4_button_1_Template, 4, 11, \"button\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.items)(\"ngForTrackBy\", ctx_r2.trackByIndex);\n  }\n}\nfunction ImageComponent_div_4_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, (ctx_r1.src.errors == null ? null : ctx_r1.src.errors[\"pattern\"]) && ctx_r1.getLabel(\"enterValidUrl\")), \" \");\n  }\n}\nfunction ImageComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"form\", 3);\n    i0.ɵɵlistener(\"ngSubmit\", function ImageComponent_div_4_Template_form_ngSubmit_1_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.insertLink($event));\n    });\n    i0.ɵɵelementStart(2, \"div\", 4)(3, \"div\", 5)(4, \"label\", 6);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"input\", 7);\n    i0.ɵɵtemplate(8, ImageComponent_div_4_div_8_Template, 3, 3, \"div\", 8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 4)(10, \"div\", 5)(11, \"label\", 6);\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"input\", 9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 4)(16, \"div\", 5)(17, \"label\", 6);\n    i0.ɵɵtext(18);\n    i0.ɵɵpipe(19, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(20, \"input\", 10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"button\", 11);\n    i0.ɵɵtext(22);\n    i0.ɵɵpipe(23, \"async\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"formGroup\", ctx_r1.form);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"htmlFor\", ctx_r1.getId(\"image-popup-url\"));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 13, ctx_r1.getLabel(\"url\")));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"id\", ctx_r1.getId(\"image-popup-url\"));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.src.touched && ctx_r1.src.invalid);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"htmlFor\", ctx_r1.getId(\"image-popup-label\"));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(13, 15, ctx_r1.getLabel(\"altText\")));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"id\", ctx_r1.getId(\"image-popup-label\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"htmlFor\", ctx_r1.getId(\"image-popup-title\"));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(19, 17, ctx_r1.getLabel(\"title\")));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"id\", ctx_r1.getId(\"image-popup-title\"));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.form.valid || !ctx_r1.form.dirty);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(23, 19, ctx_r1.getLabel(\"insert\")));\n  }\n}\nfunction LinkComponent_div_4_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, (ctx_r1.href.errors == null ? null : ctx_r1.href.errors[\"pattern\"]) && ctx_r1.getLabel(\"enterValidUrl\")), \" \");\n  }\n}\nfunction LinkComponent_div_4_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", (ctx_r1.text.errors == null ? null : ctx_r1.text.errors[\"required\"]) && \"This is required\", \" \");\n  }\n}\nfunction LinkComponent_div_4_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5)(2, \"label\");\n    i0.ɵɵelement(3, \"input\", 13);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"async\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 1, ctx_r1.getLabel(\"openInNewTab\")), \" \");\n  }\n}\nfunction LinkComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"form\", 3);\n    i0.ɵɵlistener(\"ngSubmit\", function LinkComponent_div_4_Template_form_ngSubmit_1_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.insertLink($event));\n    });\n    i0.ɵɵelementStart(2, \"div\", 4)(3, \"div\", 5)(4, \"label\", 6);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"input\", 7);\n    i0.ɵɵtemplate(8, LinkComponent_div_4_div_8_Template, 3, 3, \"div\", 8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 4)(10, \"div\", 5)(11, \"label\", 6);\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"input\", 9);\n    i0.ɵɵtemplate(15, LinkComponent_div_4_div_15_Template, 2, 1, \"div\", 8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(16, LinkComponent_div_4_div_16_Template, 6, 3, \"div\", 10);\n    i0.ɵɵelementStart(17, \"button\", 11);\n    i0.ɵɵtext(18);\n    i0.ɵɵpipe(19, \"async\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"formGroup\", ctx_r1.form);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"htmlFor\", ctx_r1.getId(\"link-popup-url\"));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 12, ctx_r1.getLabel(\"url\")));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"id\", ctx_r1.getId(\"link-popup-url\"));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.href.touched && ctx_r1.href.invalid);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"htmlFor\", ctx_r1.getId(\"link-popup-label\"));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(13, 14, ctx_r1.getLabel(\"text\")));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"id\", ctx_r1.getId(\"link-popup-label\"));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.text.touched && ctx_r1.text.invalid);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.options.showOpenInNewTab);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.form.valid);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(19, 16, ctx_r1.getLabel(\"insert\")));\n  }\n}\nconst _c7 = (a0, a1) => ({\n  \"NgxEditor--Disabled\": a0,\n  \"NgxEditor__MenuBar--Reverse\": a1\n});\nfunction NgxEditorMenuComponent_ng_container_1_ng_container_1_ngx_toggle_command_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ngx-toggle-command\", 7);\n  }\n  if (rf & 2) {\n    const item_r1 = i0.ɵɵnextContext().$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassMap(ctx_r1.iconContainerClass);\n    i0.ɵɵproperty(\"toolbarItem\", item_r1);\n  }\n}\nfunction NgxEditorMenuComponent_ng_container_1_ng_container_1_ngx_insert_command_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ngx-insert-command\", 7);\n  }\n  if (rf & 2) {\n    const item_r1 = i0.ɵɵnextContext().$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassMap(ctx_r1.iconContainerClass);\n    i0.ɵɵproperty(\"toolbarItem\", item_r1);\n  }\n}\nfunction NgxEditorMenuComponent_ng_container_1_ng_container_1_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"ngx-link\", 8);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const item_r1 = i0.ɵɵnextContext().$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵclassMap(ctx_r1.iconContainerClass);\n    i0.ɵɵproperty(\"options\", ctx_r1.getLinkOptions(item_r1));\n  }\n}\nfunction NgxEditorMenuComponent_ng_container_1_ng_container_1_ngx_image_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ngx-image\");\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassMap(ctx_r1.iconContainerClass);\n  }\n}\nfunction NgxEditorMenuComponent_ng_container_1_ng_container_1_ng_container_5_ngx_dropdown_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ngx-dropdown\", 10);\n  }\n  if (rf & 2) {\n    const dropdownItem_r3 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(4);\n    i0.ɵɵclassMap(ctx_r1.dropdownContainerClass);\n    i0.ɵɵproperty(\"group\", dropdownItem_r3.key)(\"items\", dropdownItem_r3.value);\n  }\n}\nfunction NgxEditorMenuComponent_ng_container_1_ng_container_1_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, NgxEditorMenuComponent_ng_container_1_ng_container_1_ng_container_5_ngx_dropdown_1_Template, 1, 4, \"ngx-dropdown\", 9);\n    i0.ɵɵpipe(2, \"keyvalue\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const item_r1 = i0.ɵɵnextContext().$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(2, 2, ctx_r1.getDropdownItems(item_r1)))(\"ngForTrackBy\", ctx_r1.trackByIndex);\n  }\n}\nfunction NgxEditorMenuComponent_ng_container_1_ng_container_1_ngx_color_picker_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ngx-color-picker\", 11);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassMap(ctx_r1.iconContainerClass);\n    i0.ɵɵproperty(\"presets\", ctx_r1.presets);\n  }\n}\nfunction NgxEditorMenuComponent_ng_container_1_ng_container_1_ngx_color_picker_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ngx-color-picker\", 12);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassMap(ctx_r1.iconContainerClass);\n    i0.ɵɵproperty(\"presets\", ctx_r1.presets);\n  }\n}\nfunction NgxEditorMenuComponent_ng_container_1_ng_container_1_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\");\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassMap(ctx_r1.seperatorClass);\n  }\n}\nfunction NgxEditorMenuComponent_ng_container_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, NgxEditorMenuComponent_ng_container_1_ng_container_1_ngx_toggle_command_1_Template, 1, 3, \"ngx-toggle-command\", 3)(2, NgxEditorMenuComponent_ng_container_1_ng_container_1_ngx_insert_command_2_Template, 1, 3, \"ngx-insert-command\", 3)(3, NgxEditorMenuComponent_ng_container_1_ng_container_1_ng_container_3_Template, 2, 3, \"ng-container\", 2)(4, NgxEditorMenuComponent_ng_container_1_ng_container_1_ngx_image_4_Template, 1, 2, \"ngx-image\", 4)(5, NgxEditorMenuComponent_ng_container_1_ng_container_1_ng_container_5_Template, 3, 4, \"ng-container\", 2)(6, NgxEditorMenuComponent_ng_container_1_ng_container_1_ngx_color_picker_6_Template, 1, 3, \"ngx-color-picker\", 5)(7, NgxEditorMenuComponent_ng_container_1_ng_container_1_ngx_color_picker_7_Template, 1, 3, \"ngx-color-picker\", 6)(8, NgxEditorMenuComponent_ng_container_1_ng_container_1_div_8_Template, 1, 2, \"div\", 4);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    const lastItem_r4 = ctx.last;\n    const lastToolbarItem_r5 = i0.ɵɵnextContext().last;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.toggleCommands.includes(item_r1));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.insertCommands.includes(item_r1));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isLinkItem(item_r1));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", item_r1 === \"image\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isDropDown(item_r1));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", item_r1 === \"text_color\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", item_r1 === \"background_color\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", lastItem_r4 && !lastToolbarItem_r5);\n  }\n}\nfunction NgxEditorMenuComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, NgxEditorMenuComponent_ng_container_1_ng_container_1_Template, 9, 8, \"ng-container\", 1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const toolbarItem_r6 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", toolbarItem_r6)(\"ngForTrackBy\", ctx_r1.trackByIndex);\n  }\n}\nfunction NgxEditorMenuComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementContainer(1, 13);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r1.customMenuRef);\n  }\n}\nconst _c8 = (a0, a1) => ({\n  \"NgxBubbleMenu__Icon--Active\": a0,\n  \"NgxEditor--Disabled\": a1\n});\nfunction BubbleComponent_ng_container_0_ng_container_1_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 3);\n    i0.ɵɵpipe(1, \"async\");\n    i0.ɵɵlistener(\"mousedown\", function BubbleComponent_ng_container_0_ng_container_1_button_1_Template_button_mousedown_0_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const item_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.onClick($event, item_r2));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r2 = i0.ɵɵnextContext().$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(5, _c8, ctx_r2.activeItems.includes(item_r2), !ctx_r2.execulableItems.includes(item_r2)))(\"title\", i0.ɵɵpipeBind1(1, 3, ctx_r2.getTitle(item_r2)))(\"innerHTML\", ctx_r2.getIcon(item_r2), i0.ɵɵsanitizeHtml);\n  }\n}\nfunction BubbleComponent_ng_container_0_ng_container_1_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 4);\n  }\n}\nfunction BubbleComponent_ng_container_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, BubbleComponent_ng_container_0_ng_container_1_button_1_Template, 2, 8, \"button\", 1)(2, BubbleComponent_ng_container_0_ng_container_1_div_2_Template, 1, 0, \"div\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    const lastItem_r4 = ctx.last;\n    const lastToolbarItem_r5 = i0.ɵɵnextContext().last;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.toggleCommands.includes(item_r2));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", lastItem_r4 && !lastToolbarItem_r5);\n  }\n}\nfunction BubbleComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, BubbleComponent_ng_container_0_ng_container_1_Template, 3, 2, \"ng-container\", 0);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const toolbarItem_r6 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", toolbarItem_r6)(\"ngForTrackBy\", ctx_r2.trackByIndex);\n  }\n}\nfunction NgxEditorFloatingMenuComponent_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"ngx-bubble\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"editor\", ctx_r0.editor);\n  }\n}\nexport { marks, nodes, schema } from 'ngx-editor/schema';\nimport { Plugin, PluginKey, NodeSelection, Selection, EditorState } from 'prosemirror-state';\nimport { DecorationSet, Decoration, EditorView } from 'prosemirror-view';\nimport * as i3 from '@angular/common';\nimport { CommonModule, AsyncPipe } from '@angular/common';\nimport * as i1 from '@angular/platform-browser';\nimport { toggleMark, lift, wrapIn, setBlockType, newlineInCode, createParagraphNear, liftEmptyBlock, splitBlock, chainCommands, exitCode, baseKeymap } from 'prosemirror-commands';\nimport { applyMark, removeLink, removeMark } from 'ngx-editor/commands';\nimport { isMarkActive, isNodeActive, canInsert, getSelectionNodes, getSelectionMarks, markInputRule } from 'ngx-editor/helpers';\nimport { liftListItem, wrapInList, sinkListItem, splitListItem } from 'prosemirror-schema-list';\nimport { undo as undo$1, redo as redo$1, history } from 'prosemirror-history';\nimport { computePosition, offset, autoPlacement, detectOverflow } from '@floating-ui/dom';\nimport { keymap } from 'prosemirror-keymap';\nimport { wrappingInputRule, textblockTypeInputRule, smartQuotes, ellipsis, emDash, inputRules } from 'prosemirror-inputrules';\nconst isString = value => {\n  return typeof value === 'string';\n};\nconst getTrustedTypes = () => {\n  if (typeof window === 'undefined') {\n    return undefined;\n  }\n  return window.trustedTypes;\n};\nconst isTrustedHtml = value => {\n  return getTrustedTypes()?.isHTML(value) ?? false;\n};\nconst isHtml = value => {\n  return isString(value) || isTrustedHtml(value);\n};\nconst emptyDoc = {\n  type: 'doc',\n  content: [{\n    type: 'paragraph'\n  }]\n};\n// https://developer.mozilla.org/en-US/docs/Web/API/DocumentFragment\nconst toHTML = (json, inputSchema) => {\n  const schema$1 = inputSchema ?? schema;\n  const contentNode = schema$1.nodeFromJSON(json);\n  const html = DOMSerializer.fromSchema(schema$1).serializeFragment(contentNode.content);\n  const div = document.createElement('div');\n  div.appendChild(html);\n  return div.innerHTML;\n};\nconst toDoc = (html, inputSchema, options) => {\n  const schema$1 = inputSchema ?? schema;\n  const el = document.createElement('div');\n  el.innerHTML = html;\n  return DOMParser.fromSchema(schema$1).parse(el, options).toJSON();\n};\nconst parseContent = (value, schema, options) => {\n  if (!value) {\n    return schema.nodeFromJSON(emptyDoc);\n  }\n  if (!isHtml(value)) {\n    return schema.nodeFromJSON(value);\n  }\n  const docJson = toDoc(value, schema, options);\n  return schema.nodeFromJSON(docJson);\n};\nconst editablePlugin = (editable = true) => {\n  return new Plugin({\n    key: new PluginKey('editable'),\n    state: {\n      init() {\n        return editable;\n      },\n      apply(tr, previousVal) {\n        return tr.getMeta('UPDATE_EDITABLE') ?? previousVal;\n      }\n    },\n    props: {\n      editable(state) {\n        return this.getState(state);\n      },\n      attributes(state) {\n        const isEnabled = this.getState(state);\n        if (isEnabled) {\n          return null;\n        }\n        return {\n          class: 'NgxEditor__Content--Disabled'\n        };\n      }\n    }\n  });\n};\nconst PLACEHOLDER_CLASSNAME = 'NgxEditor__Placeholder';\nconst placeholderPlugin = text => {\n  return new Plugin({\n    key: new PluginKey('placeholder'),\n    state: {\n      init() {\n        return text ?? '';\n      },\n      apply(tr, previousVal) {\n        const placeholder = tr.getMeta('UPDATE_PLACEHOLDER') ?? previousVal;\n        return placeholder;\n      }\n    },\n    props: {\n      decorations(state) {\n        const {\n          doc\n        } = state;\n        const {\n          textContent,\n          childCount\n        } = doc;\n        const placeholder = this.getState(state);\n        if (!placeholder || childCount > 1) {\n          return DecorationSet.empty;\n        }\n        const decorations = [];\n        const decorate = (node, pos) => {\n          if (node.type.isBlock && node.childCount === 0 && textContent.length === 0) {\n            const from = pos;\n            const to = pos + node.nodeSize;\n            const placeholderNode = Decoration.node(from, to, {\n              'class': PLACEHOLDER_CLASSNAME,\n              'data-placeholder': placeholder,\n              'data-align': node.attrs['align'] ?? null\n            });\n            decorations.push(placeholderNode);\n          }\n          return false;\n        };\n        doc.descendants(decorate);\n        return DecorationSet.create(doc, decorations);\n      }\n    }\n  });\n};\nconst attributesPlugin = (attributes = {}) => {\n  return new Plugin({\n    key: new PluginKey('attributes'),\n    props: {\n      attributes\n    }\n  });\n};\nconst focusPlugin = cb => {\n  return new Plugin({\n    key: new PluginKey('focus'),\n    props: {\n      handleDOMEvents: {\n        focus: () => {\n          cb();\n          return false;\n        }\n      }\n    }\n  });\n};\nconst blurPlugin = cb => {\n  return new Plugin({\n    key: new PluginKey('blur'),\n    props: {\n      handleDOMEvents: {\n        blur: () => {\n          cb();\n          return false;\n        }\n      }\n    }\n  });\n};\nclass ImageViewComponent {\n  src;\n  alt = '';\n  title = '';\n  outerWidth = '';\n  selected = false;\n  view;\n  imageResize = new EventEmitter();\n  imgEl;\n  startResizing(e, direction) {\n    e.preventDefault();\n    this.resizeImage(e, direction);\n  }\n  resizeImage(evt, direction) {\n    const startX = evt.pageX;\n    const startWidth = this.imgEl.nativeElement.clientWidth;\n    const isLeftResize = direction === 'left';\n    const {\n      width\n    } = window.getComputedStyle(this.view.dom);\n    const editorWidth = parseInt(width, 10);\n    const onMouseMove = e => {\n      const currentX = e.pageX;\n      const diffInPx = currentX - startX;\n      const computedWidth = isLeftResize ? startWidth - diffInPx : startWidth + diffInPx;\n      // prevent image overflow the editor\n      // prevent resizng below 20px\n      if (computedWidth > editorWidth || computedWidth < 20) {\n        return;\n      }\n      this.outerWidth = `${computedWidth}px`;\n    };\n    const onMouseUp = e => {\n      e.preventDefault();\n      document.removeEventListener('mousemove', onMouseMove);\n      document.removeEventListener('mouseup', onMouseUp);\n      this.imageResize.emit();\n    };\n    document.addEventListener('mousemove', onMouseMove);\n    document.addEventListener('mouseup', onMouseUp);\n  }\n  static ɵfac = function ImageViewComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || ImageViewComponent)();\n  };\n  static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ImageViewComponent,\n    selectors: [[\"ngx-image-view\"]],\n    viewQuery: function ImageViewComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 7);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.imgEl = _t.first);\n      }\n    },\n    inputs: {\n      src: \"src\",\n      alt: \"alt\",\n      title: \"title\",\n      outerWidth: \"outerWidth\",\n      selected: \"selected\",\n      view: \"view\"\n    },\n    outputs: {\n      imageResize: \"imageResize\"\n    },\n    decls: 4,\n    vars: 9,\n    consts: [[\"imgEl\", \"\"], [1, \"NgxEditor__ImageWrapper\", 3, \"ngClass\"], [\"class\", \"NgxEditor__ResizeHandle\", 4, \"ngIf\"], [3, \"src\", \"alt\", \"title\"], [1, \"NgxEditor__ResizeHandle\"], [1, \"NgxEditor__ResizeHandle--TL\", 3, \"mousedown\"], [1, \"NgxEditor__ResizeHandle--TR\", 3, \"mousedown\"], [1, \"NgxEditor__ResizeHandle--BL\", 3, \"mousedown\"], [1, \"NgxEditor__ResizeHandle--BR\", 3, \"mousedown\"]],\n    template: function ImageViewComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"span\", 1);\n        i0.ɵɵtemplate(1, ImageViewComponent_span_1_Template, 5, 0, \"span\", 2);\n        i0.ɵɵelement(2, \"img\", 3, 0);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵstyleProp(\"width\", ctx.outerWidth);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(7, _c1, ctx.selected));\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.selected);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"src\", ctx.src, i0.ɵɵsanitizeUrl)(\"alt\", ctx.alt)(\"title\", ctx.title);\n      }\n    },\n    dependencies: [CommonModule, i3.NgClass, i3.NgIf],\n    styles: [\"*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}img[_ngcontent-%COMP%]{width:100%;height:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;line-height:0;padding:2px}.NgxEditor__ImageWrapper.NgxEditor__Resizer--Active[_ngcontent-%COMP%]{padding:1px;border:1px solid #1a73e8}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{position:absolute;width:7px;height:7px;background-color:#1a73e8;border:1px solid white}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{bottom:-5px;right:-5px;cursor:se-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%]{top:-5px;right:-5px;cursor:ne-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%]{top:-5px;left:-5px;cursor:nw-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%]{bottom:-5px;left:-5px;cursor:sw-resize}\"]\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ImageViewComponent, [{\n    type: Component,\n    args: [{\n      selector: 'ngx-image-view',\n      imports: [CommonModule],\n      template: \"<span class=\\\"NgxEditor__ImageWrapper\\\" [ngClass]=\\\"{ 'NgxEditor__Resizer--Active': selected }\\\" [style.width]=\\\"outerWidth\\\">\\n  <span class=\\\"NgxEditor__ResizeHandle\\\" *ngIf=\\\"selected\\\">\\n    <span class=\\\"NgxEditor__ResizeHandle--TL\\\" (mousedown)=\\\"startResizing($event, 'left')\\\"></span>\\n    <span class=\\\"NgxEditor__ResizeHandle--TR\\\" (mousedown)=\\\"startResizing($event, 'right')\\\"></span>\\n    <span class=\\\"NgxEditor__ResizeHandle--BL\\\" (mousedown)=\\\"startResizing($event, 'left')\\\"></span>\\n    <span class=\\\"NgxEditor__ResizeHandle--BR\\\" (mousedown)=\\\"startResizing($event, 'right')\\\"></span>\\n  </span>\\n  <img [src]=\\\"src\\\" [alt]=\\\"alt\\\" [title]=\\\"title\\\" #imgEl />\\n</span>\\n\",\n      styles: [\"*,*:before,*:after{box-sizing:border-box}img{width:100%;height:100%}.NgxEditor__ImageWrapper{position:relative;display:inline-block;line-height:0;padding:2px}.NgxEditor__ImageWrapper.NgxEditor__Resizer--Active{padding:1px;border:1px solid #1a73e8}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle{position:absolute;height:100%;width:100%}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--TL,.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--BL,.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--TR,.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--BR{position:absolute;width:7px;height:7px;background-color:#1a73e8;border:1px solid white}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--BR{bottom:-5px;right:-5px;cursor:se-resize}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--TR{top:-5px;right:-5px;cursor:ne-resize}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--TL{top:-5px;left:-5px;cursor:nw-resize}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--BL{bottom:-5px;left:-5px;cursor:sw-resize}\\n\"]\n    }]\n  }], null, {\n    src: [{\n      type: Input\n    }],\n    alt: [{\n      type: Input\n    }],\n    title: [{\n      type: Input\n    }],\n    outerWidth: [{\n      type: Input\n    }],\n    selected: [{\n      type: Input\n    }],\n    view: [{\n      type: Input\n    }],\n    imageResize: [{\n      type: Output\n    }],\n    imgEl: [{\n      type: ViewChild,\n      args: ['imgEl', {\n        static: true\n      }]\n    }]\n  });\n})();\nclass ImageRezieView {\n  dom;\n  view;\n  getPos;\n  applicationRef;\n  imageComponentRef;\n  resizeSubscription;\n  node;\n  updating = false;\n  constructor(node, view, getPos, injector) {\n    this.applicationRef = injector.get(ApplicationRef);\n    // create component ref\n    this.imageComponentRef = createComponent(ImageViewComponent, {\n      environmentInjector: this.applicationRef.injector\n    });\n    // Attach to the view so that the change detector knows to run\n    this.applicationRef.attachView(this.imageComponentRef.hostView);\n    this.setNodeAttributes(node.attrs);\n    this.imageComponentRef.instance.view = view;\n    this.dom = this.imageComponentRef.location.nativeElement;\n    this.view = view;\n    this.node = node;\n    this.getPos = getPos;\n    this.resizeSubscription = this.imageComponentRef.instance.imageResize.subscribe(() => {\n      this.handleResize();\n    });\n  }\n  computeChanges(prevAttrs, newAttrs) {\n    return JSON.stringify(prevAttrs) === JSON.stringify(newAttrs);\n  }\n  setNodeAttributes(attrs) {\n    this.imageComponentRef.instance.src = attrs['src'];\n    this.imageComponentRef.instance.alt = attrs['alt'];\n    this.imageComponentRef.instance.title = attrs['title'];\n    this.imageComponentRef.instance.outerWidth = attrs['width'];\n  }\n  handleResize = () => {\n    if (this.updating) {\n      return;\n    }\n    const {\n      state,\n      dispatch\n    } = this.view;\n    const {\n      tr\n    } = state;\n    const transaction = tr.setNodeMarkup(this.getPos(), undefined, {\n      ...this.node.attrs,\n      width: this.imageComponentRef.instance.outerWidth\n    });\n    const resolvedPos = transaction.doc.resolve(this.getPos());\n    const newSelection = new NodeSelection(resolvedPos);\n    transaction.setSelection(newSelection);\n    dispatch(transaction);\n  };\n  update(node) {\n    if (node.type !== this.node.type) {\n      return false;\n    }\n    this.node = node;\n    const changed = this.computeChanges(this.node.attrs, node.attrs);\n    if (changed) {\n      this.updating = true;\n      this.setNodeAttributes(node.attrs);\n      this.updating = false;\n    }\n    return true;\n  }\n  ignoreMutation() {\n    return true;\n  }\n  selectNode() {\n    this.imageComponentRef.instance.selected = true;\n  }\n  deselectNode() {\n    this.imageComponentRef.instance.selected = false;\n  }\n  destroy() {\n    this.resizeSubscription.unsubscribe();\n    this.applicationRef.detachView(this.imageComponentRef.hostView);\n  }\n}\nconst imageResizePlugin = injector => {\n  return new Plugin({\n    key: new PluginKey('image-resize'),\n    props: {\n      nodeViews: {\n        image: (node, view, getPos) => {\n          return new ImageRezieView(node, view, getPos, injector);\n        }\n      }\n    }\n  });\n};\nconst HTTP_LINK_REGEX = /(?:https?:\\/\\/)?[\\w-]+(?:\\.[\\w-]+)+\\.?(?:\\d+)?(?:\\/\\S*)?$/;\nconst linkify = fragment => {\n  const linkified = [];\n  fragment.forEach(child => {\n    if (child.isText) {\n      const text = child.text;\n      let pos = 0;\n      const match = HTTP_LINK_REGEX.exec(text);\n      if (match) {\n        const start = match.index;\n        const end = start + match[0].length;\n        const {\n          link\n        } = child.type.schema.marks;\n        if (start > 0) {\n          linkified.push(child.cut(pos, start));\n        }\n        const urlText = text.slice(start, end);\n        linkified.push(child.cut(start, end).mark(link.create({\n          href: urlText\n        }).addToSet(child.marks)));\n        pos = end;\n      }\n      if (pos < text.length) {\n        linkified.push(child.cut(pos));\n      }\n    } else {\n      linkified.push(child.copy(linkify(child.content)));\n    }\n  });\n  return Fragment.fromArray(linkified);\n};\nconst linkifyPlugin = () => {\n  return new Plugin({\n    key: new PluginKey('linkify'),\n    props: {\n      transformPasted: slice => {\n        return new Slice(linkify(slice.content), slice.openStart, slice.openEnd);\n      }\n    }\n  });\n};\nclass NgxEditorComponent {\n  renderer;\n  injector;\n  elementRef;\n  constructor(renderer, injector, elementRef) {\n    this.renderer = renderer;\n    this.injector = injector;\n    this.elementRef = elementRef;\n  }\n  ngxEditor;\n  editor;\n  outputFormat;\n  placeholder = 'Type Here...';\n  focusOut = new EventEmitter();\n  focusIn = new EventEmitter();\n  unsubscribe = new Subject();\n  onChange = () => {};\n  onTouched = () => {};\n  writeValue(value) {\n    if (!this.outputFormat && isHtml(value)) {\n      this.outputFormat = 'html';\n    }\n    this.editor.setContent(value ?? emptyDoc);\n  }\n  registerOnChange(fn) {\n    this.onChange = fn;\n  }\n  registerOnTouched(fn) {\n    this.onTouched = fn;\n  }\n  setDisabledState(isDisabled) {\n    this.setMeta('UPDATE_EDITABLE', !isDisabled);\n    this.renderer.setProperty(this.elementRef.nativeElement, 'disabled', isDisabled);\n  }\n  handleChange(jsonDoc) {\n    if (this.outputFormat === 'html') {\n      const html = toHTML(jsonDoc, this.editor.schema);\n      this.onChange(html);\n      return;\n    }\n    this.onChange(jsonDoc);\n  }\n  setMeta(key, value) {\n    const {\n      dispatch,\n      state: {\n        tr\n      }\n    } = this.editor.view;\n    dispatch(tr.setMeta(key, value));\n  }\n  setPlaceholder(placeholder) {\n    this.setMeta('UPDATE_PLACEHOLDER', placeholder);\n  }\n  registerPlugins() {\n    this.editor.registerPlugin(editablePlugin());\n    this.editor.registerPlugin(placeholderPlugin(this.placeholder));\n    this.editor.registerPlugin(attributesPlugin({\n      class: 'NgxEditor__Content'\n    }));\n    this.editor.registerPlugin(focusPlugin(() => {\n      this.focusIn.emit();\n    }));\n    this.editor.registerPlugin(blurPlugin(() => {\n      this.focusOut.emit();\n      this.onTouched();\n    }));\n    if (this.editor.features.resizeImage) {\n      this.editor.registerPlugin(imageResizePlugin(this.injector));\n    }\n    if (this.editor.features.linkOnPaste) {\n      this.editor.registerPlugin(linkifyPlugin());\n    }\n  }\n  ngOnInit() {\n    if (!this.editor) {\n      throw new NgxEditorError('Required editor instance for initializing editor component');\n    }\n    this.registerPlugins();\n    this.renderer.appendChild(this.ngxEditor.nativeElement, this.editor.view.dom);\n    this.editor.valueChanges.pipe(takeUntil(this.unsubscribe)).subscribe(jsonDoc => {\n      this.handleChange(jsonDoc);\n    });\n  }\n  ngOnChanges(changes) {\n    if (changes['placeholder'] && !changes['placeholder'].isFirstChange()) {\n      this.setPlaceholder(changes['placeholder'].currentValue);\n    }\n  }\n  ngOnDestroy() {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n  static ɵfac = function NgxEditorComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || NgxEditorComponent)(i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i0.Injector), i0.ɵɵdirectiveInject(i0.ElementRef));\n  };\n  static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: NgxEditorComponent,\n    selectors: [[\"ngx-editor\"]],\n    viewQuery: function NgxEditorComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c2, 7);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.ngxEditor = _t.first);\n      }\n    },\n    inputs: {\n      editor: \"editor\",\n      outputFormat: \"outputFormat\",\n      placeholder: \"placeholder\"\n    },\n    outputs: {\n      focusOut: \"focusOut\",\n      focusIn: \"focusIn\"\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => NgxEditorComponent),\n      multi: true\n    }]), i0.ɵɵNgOnChangesFeature],\n    ngContentSelectors: _c3,\n    decls: 3,\n    vars: 0,\n    consts: [[\"ngxEditor\", \"\"], [1, \"NgxEditor\"]],\n    template: function NgxEditorComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵdomElementStart(0, \"div\", 1, 0);\n        i0.ɵɵprojection(2);\n        i0.ɵɵdomElementEnd();\n      }\n    },\n    styles: [\":root{--ngx-editor-border-radius: 4px;--ngx-editor-background-color: #fff;--ngx-editor-text-color: #000;--ngx-editor-placeholder-color: #6c757d;--ngx-editor-border-color: rgba(0, 0, 0, .2);--ngx-editor-wrapper-border-color: rgba(0, 0, 0, .2);--ngx-editor-menubar-bg-color: #fff;--ngx-editor-menubar-padding: 3px;--ngx-editor-menubar-height: 30px;--ngx-editor-blockquote-color: #ddd;--ngx-editor-blockquote-border-width: 3px;--ngx-editor-icon-size: 30px;--ngx-editor-popup-bg-color: #fff;--ngx-editor-popup-border-radius: 4px;--ngx-editor-popup-shadow: rgba(60, 64, 67, .15) 0px 2px 6px 2px;--ngx-editor-menu-item-border-radius: 2px;--ngx-editor-menu-item-active-color: #1a73e8;--ngx-editor-menu-item-hover-bg-color: #f1f1f1;--ngx-editor-menu-item-active-bg-color: #e8f0fe;--ngx-editor-seperator-color: #ccc;--ngx-editor-bubble-bg-color: #000;--ngx-editor-bubble-text-color: #fff;--ngx-editor-bubble-item-hover-color: #636262;--ngx-editor-bubble-seperator-color: #fff;--ngx-editor-focus-ring-color: #5e9ed6;--ngx-editor-error-color: red;--ngx-editor-click-pointer: default}.NgxEditor{background:var(--ngx-editor-background-color);color:var(--ngx-editor-text-color);background-clip:padding-box;border-radius:var(--ngx-editor-border-radius);border:1px solid var(--ngx-editor-border-color);position:relative}.NgxEditor--Disabled{opacity:.5!important;pointer-events:none!important}.NgxEditor__Placeholder:before{color:var(--ngx-editor-placeholder-color);opacity:1;-webkit-user-select:none;user-select:none;position:absolute;cursor:text;content:attr(data-placeholder)}.NgxEditor__Placeholder[data-align=right]:before{position:relative}.NgxEditor__Content{padding:8px;white-space:pre-wrap;outline:none;font-variant-ligatures:none;font-feature-settings:\\\"liga\\\" 0}.NgxEditor__Content p{margin:0 0 10px}.NgxEditor__Content blockquote{padding-left:16px;border-left:var(--ngx-editor-blockquote-border-width) solid var(--ngx-editor-blockquote-color);margin-left:0;margin-right:0}.NgxEditor__Content--Disabled{-webkit-user-select:none;user-select:none;pointer-events:none}.NgxEditor__Wrapper{border:1px solid var(--ngx-editor-wrapper-border-color);border-radius:var(--ngx-editor-border-radius)}.NgxEditor__Wrapper .NgxEditor__MenuBar{border-top-left-radius:var(--ngx-editor-border-radius);border-top-right-radius:var(--ngx-editor-border-radius);border-bottom:1px solid var(--ngx-editor-border-color)}.NgxEditor__Wrapper .NgxEditor{border-top-left-radius:0;border-top-right-radius:0;border:none}.NgxEditor__MenuBar{display:flex;flex-wrap:wrap;padding:var(--ngx-editor-menubar-padding);background-color:var(--ngx-editor-menubar-bg-color);gap:.25rem .1rem}.NgxEditor__MenuBar button:not(:disabled),.NgxEditor__MenuBar [role=button]:not(:disabled){cursor:var(--ngx-editor-click-pointer, default)}.NgxEditor__MenuItem{display:flex;align-items:center;justify-content:center;position:relative;flex-shrink:0}.NgxEditor__MenuItem.NgxEditor__MenuItem--IconContainer{display:flex;align-items:center;justify-content:center}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon{all:unset;appearance:none;height:var(--ngx-editor-icon-size);width:var(--ngx-editor-icon-size);transition:.2s ease-in-out;display:inline-flex;align-items:center;justify-content:center;border-radius:var(--ngx-editor-menu-item-border-radius)}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon+.NgxEditor__MenuItem--Icon{margin-left:2px}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__MenuItem.NgxEditor__MenuItem--Text{padding:0 5px}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active,.NgxEditor__MenuItem .NgxEditor__MenuItem--Active{background-color:var(--ngx-editor-menu-item-active-bg-color);color:var(--ngx-editor-menu-item-active-color)}.NgxEditor__Dropdown{min-width:64px;position:relative;display:flex;align-items:center;flex-shrink:0}.NgxEditor__Dropdown:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text{all:unset;appearance:none;display:flex;align-items:center;justify-content:center;padding:0 5px;height:100%;width:100%}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:after{display:inline-block;content:\\\"\\\";margin-left:24px;vertical-align:4px;border-top:4px solid;border-right:4px solid transparent;border-bottom:0;border-left:4px solid transparent}.NgxEditor__Dropdown .NgxEditor__Dropdown--DropdownMenu{position:absolute;left:0;box-shadow:var(--ngx-editor-popup-shadow);border-radius:var(--ngx-editor-popup-border-radius);background-color:var(--ngx-editor-popup-bg-color);z-index:10;width:100%;top:calc(var(--ngx-editor-menubar-height) + 2px);display:flex;flex-direction:column}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item{all:unset;appearance:none;padding:8px;white-space:nowrap;color:inherit}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Selected,.NgxEditor__Dropdown .NgxEditor__Dropdown--Open{color:var(--ngx-editor-menu-item-active-color);background-color:var(--ngx-editor-menu-item-active-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active{background-color:var(--ngx-editor-menu-item-active-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--DropdownMenu{top:unset;bottom:calc(var(--ngx-editor-menubar-height) + 2px)}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--Text:after{transform:rotate(180deg)}.NgxEditor__MenuBar--Reverse .NgxEditor__Popup{top:unset;bottom:calc(var(--ngx-editor-menubar-height) + 2px)}.NgxEditor__Popup{position:absolute;top:calc(var(--ngx-editor-menubar-height) + 2px);box-shadow:var(--ngx-editor-popup-shadow);border-radius:var(--ngx-editor-popup-border-radius);background-color:var(--ngx-editor-popup-bg-color);z-index:10;min-width:192px;padding:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup{margin-bottom:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup label{margin-bottom:3px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=text],.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=url]{padding:2px 4px}.NgxEditor__Popup .NgxEditor__Popup--Col{display:flex;flex-direction:column;position:relative}.NgxEditor__Popup .NgxEditor__Popup--Label{font-size:85%}.NgxEditor__Seperator{border-left:1px solid var(--ngx-editor-seperator-color);margin:0 5px}.NgxEditor__HelpText{font-size:80%}.NgxEditor__HelpText.NgxEditor__HelpText--Error{color:var(--ngx-editor-error-color)}\\n\"],\n    encapsulation: 2\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgxEditorComponent, [{\n    type: Component,\n    args: [{\n      selector: 'ngx-editor',\n      providers: [{\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: forwardRef(() => NgxEditorComponent),\n        multi: true\n      }],\n      encapsulation: ViewEncapsulation.None,\n      template: \"<div class=\\\"NgxEditor\\\" #ngxEditor>\\n  <ng-content></ng-content>\\n</div>\\n\",\n      styles: [\":root{--ngx-editor-border-radius: 4px;--ngx-editor-background-color: #fff;--ngx-editor-text-color: #000;--ngx-editor-placeholder-color: #6c757d;--ngx-editor-border-color: rgba(0, 0, 0, .2);--ngx-editor-wrapper-border-color: rgba(0, 0, 0, .2);--ngx-editor-menubar-bg-color: #fff;--ngx-editor-menubar-padding: 3px;--ngx-editor-menubar-height: 30px;--ngx-editor-blockquote-color: #ddd;--ngx-editor-blockquote-border-width: 3px;--ngx-editor-icon-size: 30px;--ngx-editor-popup-bg-color: #fff;--ngx-editor-popup-border-radius: 4px;--ngx-editor-popup-shadow: rgba(60, 64, 67, .15) 0px 2px 6px 2px;--ngx-editor-menu-item-border-radius: 2px;--ngx-editor-menu-item-active-color: #1a73e8;--ngx-editor-menu-item-hover-bg-color: #f1f1f1;--ngx-editor-menu-item-active-bg-color: #e8f0fe;--ngx-editor-seperator-color: #ccc;--ngx-editor-bubble-bg-color: #000;--ngx-editor-bubble-text-color: #fff;--ngx-editor-bubble-item-hover-color: #636262;--ngx-editor-bubble-seperator-color: #fff;--ngx-editor-focus-ring-color: #5e9ed6;--ngx-editor-error-color: red;--ngx-editor-click-pointer: default}.NgxEditor{background:var(--ngx-editor-background-color);color:var(--ngx-editor-text-color);background-clip:padding-box;border-radius:var(--ngx-editor-border-radius);border:1px solid var(--ngx-editor-border-color);position:relative}.NgxEditor--Disabled{opacity:.5!important;pointer-events:none!important}.NgxEditor__Placeholder:before{color:var(--ngx-editor-placeholder-color);opacity:1;-webkit-user-select:none;user-select:none;position:absolute;cursor:text;content:attr(data-placeholder)}.NgxEditor__Placeholder[data-align=right]:before{position:relative}.NgxEditor__Content{padding:8px;white-space:pre-wrap;outline:none;font-variant-ligatures:none;font-feature-settings:\\\"liga\\\" 0}.NgxEditor__Content p{margin:0 0 10px}.NgxEditor__Content blockquote{padding-left:16px;border-left:var(--ngx-editor-blockquote-border-width) solid var(--ngx-editor-blockquote-color);margin-left:0;margin-right:0}.NgxEditor__Content--Disabled{-webkit-user-select:none;user-select:none;pointer-events:none}.NgxEditor__Wrapper{border:1px solid var(--ngx-editor-wrapper-border-color);border-radius:var(--ngx-editor-border-radius)}.NgxEditor__Wrapper .NgxEditor__MenuBar{border-top-left-radius:var(--ngx-editor-border-radius);border-top-right-radius:var(--ngx-editor-border-radius);border-bottom:1px solid var(--ngx-editor-border-color)}.NgxEditor__Wrapper .NgxEditor{border-top-left-radius:0;border-top-right-radius:0;border:none}.NgxEditor__MenuBar{display:flex;flex-wrap:wrap;padding:var(--ngx-editor-menubar-padding);background-color:var(--ngx-editor-menubar-bg-color);gap:.25rem .1rem}.NgxEditor__MenuBar button:not(:disabled),.NgxEditor__MenuBar [role=button]:not(:disabled){cursor:var(--ngx-editor-click-pointer, default)}.NgxEditor__MenuItem{display:flex;align-items:center;justify-content:center;position:relative;flex-shrink:0}.NgxEditor__MenuItem.NgxEditor__MenuItem--IconContainer{display:flex;align-items:center;justify-content:center}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon{all:unset;appearance:none;height:var(--ngx-editor-icon-size);width:var(--ngx-editor-icon-size);transition:.2s ease-in-out;display:inline-flex;align-items:center;justify-content:center;border-radius:var(--ngx-editor-menu-item-border-radius)}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon+.NgxEditor__MenuItem--Icon{margin-left:2px}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__MenuItem.NgxEditor__MenuItem--Text{padding:0 5px}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active,.NgxEditor__MenuItem .NgxEditor__MenuItem--Active{background-color:var(--ngx-editor-menu-item-active-bg-color);color:var(--ngx-editor-menu-item-active-color)}.NgxEditor__Dropdown{min-width:64px;position:relative;display:flex;align-items:center;flex-shrink:0}.NgxEditor__Dropdown:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text{all:unset;appearance:none;display:flex;align-items:center;justify-content:center;padding:0 5px;height:100%;width:100%}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:after{display:inline-block;content:\\\"\\\";margin-left:24px;vertical-align:4px;border-top:4px solid;border-right:4px solid transparent;border-bottom:0;border-left:4px solid transparent}.NgxEditor__Dropdown .NgxEditor__Dropdown--DropdownMenu{position:absolute;left:0;box-shadow:var(--ngx-editor-popup-shadow);border-radius:var(--ngx-editor-popup-border-radius);background-color:var(--ngx-editor-popup-bg-color);z-index:10;width:100%;top:calc(var(--ngx-editor-menubar-height) + 2px);display:flex;flex-direction:column}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item{all:unset;appearance:none;padding:8px;white-space:nowrap;color:inherit}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Selected,.NgxEditor__Dropdown .NgxEditor__Dropdown--Open{color:var(--ngx-editor-menu-item-active-color);background-color:var(--ngx-editor-menu-item-active-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active{background-color:var(--ngx-editor-menu-item-active-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--DropdownMenu{top:unset;bottom:calc(var(--ngx-editor-menubar-height) + 2px)}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--Text:after{transform:rotate(180deg)}.NgxEditor__MenuBar--Reverse .NgxEditor__Popup{top:unset;bottom:calc(var(--ngx-editor-menubar-height) + 2px)}.NgxEditor__Popup{position:absolute;top:calc(var(--ngx-editor-menubar-height) + 2px);box-shadow:var(--ngx-editor-popup-shadow);border-radius:var(--ngx-editor-popup-border-radius);background-color:var(--ngx-editor-popup-bg-color);z-index:10;min-width:192px;padding:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup{margin-bottom:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup label{margin-bottom:3px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=text],.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=url]{padding:2px 4px}.NgxEditor__Popup .NgxEditor__Popup--Col{display:flex;flex-direction:column;position:relative}.NgxEditor__Popup .NgxEditor__Popup--Label{font-size:85%}.NgxEditor__Seperator{border-left:1px solid var(--ngx-editor-seperator-color);margin:0 5px}.NgxEditor__HelpText{font-size:80%}.NgxEditor__HelpText.NgxEditor__HelpText--Error{color:var(--ngx-editor-error-color)}\\n\"]\n    }]\n  }], () => [{\n    type: i0.Renderer2\n  }, {\n    type: i0.Injector\n  }, {\n    type: i0.ElementRef\n  }], {\n    ngxEditor: [{\n      type: ViewChild,\n      args: ['ngxEditor', {\n        static: true\n      }]\n    }],\n    editor: [{\n      type: Input\n    }],\n    outputFormat: [{\n      type: Input\n    }],\n    placeholder: [{\n      type: Input\n    }],\n    focusOut: [{\n      type: Output\n    }],\n    focusIn: [{\n      type: Output\n    }]\n  });\n})();\nclass SanitizeHtmlPipe {\n  sanitizer;\n  constructor(sanitizer) {\n    this.sanitizer = sanitizer;\n  }\n  transform(value) {\n    if (isTrustedHtml(value)) {\n      return value;\n    }\n    return this.sanitizer.bypassSecurityTrustHtml(value);\n  }\n  static ɵfac = function SanitizeHtmlPipe_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || SanitizeHtmlPipe)(i0.ɵɵdirectiveInject(i1.DomSanitizer, 16));\n  };\n  static ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n    name: \"sanitizeHtml\",\n    type: SanitizeHtmlPipe,\n    pure: true\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(SanitizeHtmlPipe, [{\n    type: Pipe,\n    args: [{\n      name: 'sanitizeHtml'\n    }]\n  }], () => [{\n    type: i1.DomSanitizer\n  }], null);\n})();\nclass Mark {\n  name;\n  constructor(name) {\n    this.name = name;\n  }\n  apply() {\n    return (state, dispatch) => {\n      const {\n        schema\n      } = state;\n      const type = schema.marks[this.name];\n      if (!type) {\n        return false;\n      }\n      return applyMark(type)(state, dispatch);\n    };\n  }\n  toggle() {\n    return (state, dispatch) => {\n      const {\n        schema\n      } = state;\n      const type = schema.marks[this.name];\n      if (!type) {\n        return false;\n      }\n      return toggleMark(type)(state, dispatch);\n    };\n  }\n  isActive(state) {\n    const {\n      schema\n    } = state;\n    const type = schema.marks[this.name];\n    if (!type) {\n      return false;\n    }\n    return isMarkActive(state, type);\n  }\n  canExecute(state) {\n    return this.toggle()(state);\n  }\n}\nclass Blockqote {\n  toggle() {\n    return (state, dispatch) => {\n      const {\n        schema\n      } = state;\n      const type = schema.nodes['blockquote'];\n      if (!type) {\n        return false;\n      }\n      if (this.isActive(state)) {\n        return lift(state, dispatch);\n      }\n      return wrapIn(type)(state, dispatch);\n    };\n  }\n  isActive(state) {\n    const {\n      schema\n    } = state;\n    const type = schema.nodes['blockquote'];\n    if (!type) {\n      return false;\n    }\n    return isNodeActive(state, type);\n  }\n  canExecute(state) {\n    return this.toggle()(state);\n  }\n}\nclass HorizontalRule {\n  insert() {\n    return (state, dispatch) => {\n      const {\n        schema,\n        tr\n      } = state;\n      const type = schema.nodes['horizontal_rule'];\n      if (!type) {\n        return false;\n      }\n      dispatch(tr.replaceSelectionWith(type.create()).scrollIntoView());\n      return true;\n    };\n  }\n  canExecute(state) {\n    return canInsert(state, state.schema.nodes['horizontal_rule']);\n  }\n}\nclass ListItem {\n  isBulletList = false;\n  constructor(isBulletList = false) {\n    this.isBulletList = isBulletList;\n  }\n  getType(schema) {\n    return this.isBulletList ? schema.nodes['bullet_list'] : schema.nodes['ordered_list'];\n  }\n  toggle() {\n    return (state, dispatch) => {\n      const {\n        schema\n      } = state;\n      const type = this.getType(schema);\n      if (!type) {\n        return false;\n      }\n      if (this.isActive(state)) {\n        return liftListItem(schema.nodes['list_item'])(state, dispatch);\n      }\n      return wrapInList(type)(state, dispatch);\n    };\n  }\n  isActive(state) {\n    const {\n      schema\n    } = state;\n    const type = this.getType(schema);\n    if (!type) {\n      return false;\n    }\n    return isNodeActive(state, type);\n  }\n  canExecute(state) {\n    return this.toggle()(state);\n  }\n}\nclass Heading {\n  level;\n  constructor(level) {\n    this.level = level;\n  }\n  apply() {\n    return (state, dispatch) => {\n      const {\n        schema\n      } = state;\n      const type = schema.nodes['heading'];\n      if (!type) {\n        return false;\n      }\n      return setBlockType(type)(state, dispatch);\n    };\n  }\n  toggle() {\n    return (state, dispatch) => {\n      const {\n        schema,\n        selection,\n        doc\n      } = state;\n      const type = schema.nodes['heading'];\n      if (!type) {\n        return false;\n      }\n      const nodePos = selection.$from.before(1);\n      const node = doc.nodeAt(nodePos);\n      const attrs = node?.attrs ?? {};\n      if (this.isActive(state)) {\n        return setBlockType(schema.nodes['paragraph'], attrs)(state, dispatch);\n      }\n      return setBlockType(type, {\n        ...attrs,\n        level: this.level\n      })(state, dispatch);\n    };\n  }\n  isActive(state) {\n    const {\n      schema\n    } = state;\n    const nodesInSelection = getSelectionNodes(state);\n    const type = schema.nodes['heading'];\n    if (!type) {\n      return false;\n    }\n    const supportedNodes = [type, schema.nodes['text'], schema.nodes['blockquote']];\n    // heading is a text node\n    // don't mark as active when it has more nodes\n    const nodes = nodesInSelection.filter(node => {\n      return supportedNodes.includes(node.type);\n    });\n    const acitveNode = nodes.find(node => {\n      return node.attrs['level'] === this.level;\n    });\n    return Boolean(acitveNode);\n  }\n  canExecute(state) {\n    return this.toggle()(state);\n  }\n}\nclass TextAlign {\n  align;\n  constructor(align) {\n    this.align = align;\n  }\n  toggle() {\n    return (state, dispatch) => {\n      const {\n        doc,\n        selection,\n        tr,\n        schema\n      } = state;\n      const {\n        from,\n        to\n      } = selection;\n      let applicable = false;\n      doc.nodesBetween(from, to, (node, pos) => {\n        const nodeType = node.type;\n        if ([schema.nodes['paragraph'], schema.nodes['heading']].includes(nodeType)) {\n          applicable = true;\n          const align = node.attrs['align'] === this.align ? null : this.align;\n          tr.setNodeMarkup(pos, nodeType, {\n            ...node.attrs,\n            align\n          });\n        }\n        return true;\n      });\n      if (!applicable) {\n        return false;\n      }\n      if (tr.docChanged) {\n        dispatch?.(tr);\n      }\n      return true;\n    };\n  }\n  isActive(state) {\n    const nodes = getSelectionNodes(state);\n    const active = nodes.find(node => {\n      return node.attrs['align'] === this.align;\n    });\n    return Boolean(active);\n  }\n  canExecute(state) {\n    return this.toggle()(state);\n  }\n}\nconst defaultOptions = {\n  strict: true\n};\nlet Link$1 = class Link {\n  update(attrs) {\n    return (state, dispatch) => {\n      const {\n        schema,\n        selection\n      } = state;\n      const type = schema.marks['link'];\n      if (!type) {\n        return false;\n      }\n      if (selection.empty) {\n        return false;\n      }\n      return toggleMark(type, attrs)(state, dispatch);\n    };\n  }\n  insert(text, attrs) {\n    return (state, dispatch) => {\n      const {\n        schema,\n        tr\n      } = state;\n      const type = schema.marks['link'];\n      if (!type) {\n        return false;\n      }\n      const linkAttrs = {\n        href: attrs.href,\n        title: attrs.title ?? text,\n        target: attrs.target ?? '_blank'\n      };\n      const node = schema.text(text, [schema.marks['link'].create(linkAttrs)]);\n      tr.replaceSelectionWith(node, false).scrollIntoView();\n      if (tr.docChanged) {\n        dispatch?.(tr);\n        return true;\n      }\n      return false;\n    };\n  }\n  isActive(state, options = defaultOptions) {\n    if (options.strict) {\n      return true;\n    }\n    const {\n      schema\n    } = state;\n    const type = schema.marks['link'];\n    if (!type) {\n      return false;\n    }\n    return isMarkActive(state, type);\n  }\n  remove(state, dispatch) {\n    return removeLink()(state, dispatch);\n  }\n  canExecute(state) {\n    const testAttrs = {\n      href: ''\n    };\n    return this.insert('Exec', testAttrs)(state) || this.update(testAttrs)(state);\n  }\n};\nlet Image$1 = class Image {\n  insert(src, attrs) {\n    return (state, dispatch) => {\n      const {\n        schema,\n        tr,\n        selection\n      } = state;\n      const type = schema.nodes['image'];\n      if (!type) {\n        return false;\n      }\n      const imageAttrs = {\n        width: null,\n        src,\n        ...attrs\n      };\n      if (!imageAttrs.width && selection instanceof NodeSelection && selection.node.type === type) {\n        imageAttrs.width = selection.node.attrs['width'];\n      }\n      tr.replaceSelectionWith(type.createAndFill(imageAttrs));\n      const resolvedPos = tr.doc.resolve(tr.selection.anchor - tr.selection.$anchor.nodeBefore.nodeSize);\n      tr.setSelection(new NodeSelection(resolvedPos)).scrollIntoView();\n      if (tr.docChanged) {\n        dispatch?.(tr);\n        return true;\n      }\n      return false;\n    };\n  }\n  isActive(state) {\n    const {\n      selection\n    } = state;\n    if (selection instanceof NodeSelection) {\n      return selection.node.type.name === 'image';\n    }\n    return false;\n  }\n};\nlet TextColor$1 = class TextColor {\n  name;\n  attrName;\n  constructor(name, attrName = 'color') {\n    this.name = name;\n    this.attrName = attrName;\n  }\n  apply(attrs) {\n    return (state, dispatch) => {\n      const {\n        schema,\n        selection,\n        doc\n      } = state;\n      const type = schema.marks[this.name];\n      if (!type) {\n        return false;\n      }\n      const {\n        from,\n        to,\n        empty\n      } = selection;\n      if (!empty && from + 1 === to) {\n        const node = doc.nodeAt(from);\n        if (node?.isAtom && !node.isText && node.isLeaf) {\n          // An atomic node (e.g. Image) is selected.\n          return false;\n        }\n      }\n      return applyMark(type, attrs)(state, dispatch);\n    };\n  }\n  isActive(state) {\n    const {\n      schema\n    } = state;\n    const type = schema.marks[this.name];\n    if (!type) {\n      return false;\n    }\n    return isMarkActive(state, type);\n  }\n  getActiveColors(state) {\n    if (!this.isActive(state)) {\n      return [];\n    }\n    const {\n      schema\n    } = state;\n    const marks = getSelectionMarks(state);\n    const colors = marks.filter(mark => mark.type === schema.marks[this.name]).map(mark => {\n      return mark.attrs[this.attrName];\n    }).filter(Boolean);\n    return colors;\n  }\n  remove() {\n    return (state, dispatch) => {\n      const {\n        schema\n      } = state;\n      const type = schema.marks[this.name];\n      if (!type) {\n        return false;\n      }\n      return removeMark(type)(state, dispatch);\n    };\n  }\n  canExecute(state) {\n    const attrs = this.name === 'text_color' ? {\n      color: ''\n    } : {\n      backgroundColor: ''\n    };\n    return this.apply(attrs)(state);\n  }\n};\nconst SAFE_MARKS = ['link'];\nclass FormatClear {\n  insert() {\n    return (state, dispatch) => {\n      const {\n        tr\n      } = state;\n      const {\n        ranges,\n        empty\n      } = tr.selection;\n      if (empty) {\n        return true;\n      }\n      Object.entries(state.schema.marks).forEach(([markType, mark]) => {\n        if (SAFE_MARKS.includes(markType)) {\n          return;\n        }\n        ranges.forEach(range => {\n          tr.removeMark(range.$from.pos, range.$to.pos, mark);\n        });\n      });\n      dispatch(tr);\n      return true;\n    };\n  }\n  canExecute() {\n    return true;\n  }\n}\nconst indentNodeTypes = ['paragraph', 'heading', 'blockquote'];\nconst minIndent = 0;\nconst maxIndent = 10;\nconst udpateIndentLevel = (tr, pos, method) => {\n  const node = tr.doc.nodeAt(pos);\n  if (!node) {\n    return false;\n  }\n  const nodeIndent = node.attrs['indent'] ?? 0;\n  const newIndent = clamp(nodeIndent + (method === 'increase' ? 1 : -1), minIndent, maxIndent);\n  if (newIndent === nodeIndent || newIndent < minIndent || newIndent > maxIndent) {\n    return false;\n  }\n  const attrs = {\n    ...node.attrs,\n    indent: newIndent\n  };\n  tr.setNodeMarkup(pos, node.type, attrs);\n  return true;\n};\nclass Indent {\n  method = 'increase';\n  constructor(method) {\n    this.method = method;\n  }\n  insert() {\n    return (state, dispatch) => {\n      const {\n        tr,\n        doc\n      } = state;\n      const {\n        from,\n        to\n      } = tr.selection;\n      let applicable = false;\n      doc.nodesBetween(from, to, (node, pos) => {\n        const nodeType = node.type;\n        if (indentNodeTypes.includes(nodeType.name)) {\n          applicable = udpateIndentLevel(tr, pos, this.method);\n          return false;\n        } else if (node.type.name.includes('list')) {\n          return false;\n        }\n        return true;\n      });\n      if (!applicable) {\n        return false;\n      }\n      if (tr.docChanged) {\n        dispatch?.(tr);\n      }\n      return true;\n    };\n  }\n  canExecute(state) {\n    return this.insert()(state);\n  }\n}\nclass History {\n  mode = 'undo';\n  constructor(mode) {\n    this.mode = mode;\n  }\n  insert() {\n    return (state, dispatch) => {\n      if (this.mode === 'undo') {\n        return undo$1(state, dispatch);\n      }\n      return redo$1(state, dispatch);\n    };\n  }\n  canExecute(state) {\n    return this.insert()(state);\n  }\n}\nconst STRONG = new Mark('strong');\nconst EM = new Mark('em');\nconst CODE = new Mark('code');\nconst UNDERLINE = new Mark('u');\nconst STRIKE = new Mark('s');\nconst BLOCKQUOTE = new Blockqote();\nconst HORIZONTAL_RULE = new HorizontalRule();\nconst FORMAT_CLEAR = new FormatClear();\nconst UL = new ListItem(true);\nconst OL = new ListItem(false);\nconst H1 = new Heading(1);\nconst H2 = new Heading(2);\nconst H3 = new Heading(3);\nconst H4 = new Heading(4);\nconst H5 = new Heading(5);\nconst H6 = new Heading(6);\nconst ALIGN_LEFT = new TextAlign('left');\nconst ALIGN_CENTER = new TextAlign('center');\nconst ALIGN_RIGHT = new TextAlign('right');\nconst ALIGN_JUSTIFY = new TextAlign('justify');\nconst LINK = new Link$1();\nconst IMAGE = new Image$1();\nconst TEXT_COLOR = new TextColor$1('text_color', 'color');\nconst TEXT_BACKGROUND_COLOR = new TextColor$1('text_background_color', 'backgroundColor');\nconst INDENT = new Indent('increase');\nconst OUTDENT = new Indent('decrease');\nconst SUPERSCRIPT = new Mark('sup');\nconst SUBSCRIPT = new Mark('sub');\nconst UNDO = new History('undo');\nconst REDO = new History('redo');\nconst ToggleCommands = {\n  bold: STRONG,\n  italic: EM,\n  code: CODE,\n  underline: UNDERLINE,\n  strike: STRIKE,\n  blockquote: BLOCKQUOTE,\n  bullet_list: UL,\n  ordered_list: OL,\n  h1: H1,\n  h2: H2,\n  h3: H3,\n  h4: H4,\n  h5: H5,\n  h6: H6,\n  align_left: ALIGN_LEFT,\n  align_center: ALIGN_CENTER,\n  align_right: ALIGN_RIGHT,\n  align_justify: ALIGN_JUSTIFY,\n  superscript: SUPERSCRIPT,\n  subscript: SUBSCRIPT\n};\nconst InsertCommands = {\n  horizontal_rule: HORIZONTAL_RULE,\n  format_clear: FORMAT_CLEAR,\n  indent: INDENT,\n  outdent: OUTDENT,\n  undo: UNDO,\n  redo: REDO\n};\nconst Link = LINK;\nconst Image = IMAGE;\nconst TextColor = TEXT_COLOR;\nconst TextBackgroundColor = TEXT_BACKGROUND_COLOR;\nclass MenuService {\n  editor;\n  customMenuRefChange = new Subject();\n  setCustomMenuRef(c) {\n    this.customMenuRefChange.next(c);\n  }\n  static ɵfac = function MenuService_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || MenuService)();\n  };\n  static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: MenuService,\n    factory: MenuService.ɵfac,\n    providedIn: 'root'\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(MenuService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], null, null);\n})();\nconst defaults = {\n  // menu\n  bold: 'Bold',\n  italic: 'Italic',\n  code: 'Code',\n  underline: 'Underline',\n  strike: 'Strike',\n  blockquote: 'Blockquote',\n  bullet_list: 'Bullet List',\n  ordered_list: 'Ordered List',\n  heading: 'Heading',\n  h1: 'Header 1',\n  h2: 'Header 2',\n  h3: 'Header 3',\n  h4: 'Header 4',\n  h5: 'Header 5',\n  h6: 'Header 6',\n  align_left: 'Left Align',\n  align_center: 'Center Align',\n  align_right: 'Right Align',\n  align_justify: 'Justify',\n  text_color: 'Text Color',\n  background_color: 'Background Color',\n  horizontal_rule: 'Horizontal rule',\n  format_clear: 'Clear Formatting',\n  insertLink: 'Insert Link',\n  removeLink: 'Remove Link',\n  insertImage: 'Insert Image',\n  indent: 'Increase Indent',\n  outdent: 'Decrease Indent',\n  superscript: 'Superscript',\n  subscript: 'Subscript',\n  undo: 'Undo',\n  redo: 'Redo',\n  // pupups, forms, others...\n  url: 'URL',\n  text: 'Text',\n  openInNewTab: 'Open in new tab',\n  insert: 'Insert',\n  altText: 'Alt Text',\n  title: 'Title',\n  remove: 'Remove',\n  enterValidUrl: 'Please enter a valid URL'\n};\nclass Locals {\n  locals = defaults;\n  constructor(newLocals = {}) {\n    this.locals = {\n      ...defaults,\n      ...newLocals\n    };\n  }\n  get = key => {\n    const value = this.locals[key];\n    if (value) {\n      return isObservable(value) ? value : of(value);\n    }\n    return of('');\n  };\n}\nvar bold = `\n  <path d=\"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z\" />\n`;\nvar italic = `\n  <path d=\"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z\" />\n`;\nvar code = `\n<path d=\"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z\"/>\n`;\nvar underline = `\n<path d=\"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z\"/>\n`;\nvar strike = `\n<path d=\"M6.85,7.08C6.85,4.37,9.45,3,12.24,3c1.64,0,3,0.49,3.9,1.28c0.77,0.65,1.46,1.73,1.46,3.24h-3.01 c0-0.31-0.05-0.59-0.15-0.85c-0.29-0.86-1.2-1.28-2.25-1.28c-1.86,0-2.34,1.02-2.34,1.7c0,0.48,0.25,0.88,0.74,1.21 C10.97,8.55,11.36,8.78,12,9H7.39C7.18,8.66,6.85,8.11,6.85,7.08z M21,12v-2H3v2h9.62c1.15,0.45,1.96,0.75,1.96,1.97 c0,1-0.81,1.67-2.28,1.67c-1.54,0-2.93-0.54-2.93-2.51H6.4c0,0.55,0.08,1.13,0.24,1.58c0.81,2.29,3.29,3.3,5.67,3.3 c2.27,0,5.3-0.89,5.3-4.05c0-0.3-0.01-1.16-0.48-1.94H21V12z\"/>\n`;\nvar orderedList = `\n<path d=\"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z\"/>\n`;\nvar bulletList = `\n<path d=\"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z\"/>\n`;\nvar quote = `\n<path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z\"/>\n`;\nvar link = `\n<path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z\"/>\n`;\nvar unlink = `\n<path d=\"M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z\"/>\n`;\nvar image = `\n<path d=\"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z\"/>\n`;\nvar alignLeft = `\n<path d=\"M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z\"/>\n`;\nvar alignCenter = `\n<path d=\"M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z\"/>\n`;\nvar alignRight = `\n<path d=\"M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z\"/>\n`;\nvar alignJustify = `\n<path d=\"M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z\"/>\n`;\nvar textColor = `\n<path d=\"M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z\"/>\n`;\nvar colorFill = `\n<path d=\"M16.56,8.94L7.62,0L6.21,1.41l2.38,2.38L3.44,8.94c-0.59,0.59-0.59,1.54,0,2.12l5.5,5.5C9.23,16.85,9.62,17,10,17 s0.77-0.15,1.06-0.44l5.5-5.5C17.15,10.48,17.15,9.53,16.56,8.94z M5.21,10L10,5.21L14.79,10H5.21z M19,11.5c0,0-2,2.17-2,3.5 c0,1.1,0.9,2,2,2s2-0.9,2-2C21,13.67,19,11.5,19,11.5z M2,20h20v4H2V20z\"/>\n`;\nvar horizontalRule = `\n  <g>\n    <rect fill=\"none\" fill-rule=\"evenodd\" height=\"24\" width=\"24\"/>\n    <rect fill-rule=\"evenodd\" height=\"2\" width=\"16\" x=\"4\" y=\"11\"/>\n  </g>\n`;\nvar formatClear = `\n<path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M3.27 5L2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27 3.27 5zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5H6z\"/>\n`;\nvar indent = '<path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M3 21h18v-2H3v2zM3 8v8l4-4-4-4zm8 9h10v-2H11v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z\"/>';\nvar outdent = '<path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M11 17h10v-2H11v2zm-8-5l4 4V8l-4 4zm0 9h18v-2H3v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z\"/>';\nvar superscript = '<g><rect fill=\"none\" height=\"20\" width=\"20\"/><path d=\"M17,6l-1,0v1h2v1l-3,0V6c0-0.55,0.45-1,1-1l1,0l0-1h-2V3l2,0c0.55,0,1,0.45,1,1v1C18,5.55,17.55,6,17,6z M5.63,16h1.9 l2.43-3.87h0.08L12.47,16h1.9l-3.32-5.2l3.1-4.8h-1.91l-2.19,3.56H9.96L7.75,6h-1.9l3.09,4.8L5.63,16z\"/></g>';\nvar subscript = '<g><rect fill=\"none\" height=\"20\" width=\"20\"/><path d=\"M17,15l-1,0v1h2v1h-3v-2c0-0.55,0.45-1,1-1l1,0l0-1h-2v-1l2,0c0.55,0,1,0.45,1,1v1C18,14.55,17.55,15,17,15z M5.63,14h1.9 l2.43-3.87h0.08L12.47,14h1.9l-3.32-5.2l3.1-4.8h-1.91l-2.19,3.56H9.96L7.75,4h-1.9l3.09,4.8L5.63,14z\"/></g>';\nvar undo = '<path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z\"/>';\nvar redo = '<path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z\"/>';\n\n// Icons source: https://material.io/\nconst DEFAULT_ICON_HEIGHT = 20;\nconst DEFAULT_ICON_WIDTH = 20;\nconst DEFAULT_ICON_FILL = 'currentColor';\nconst icons = {\n  bold,\n  italic,\n  code,\n  underline,\n  strike,\n  ordered_list: orderedList,\n  bullet_list: bulletList,\n  blockquote: quote,\n  link,\n  unlink,\n  image,\n  align_left: alignLeft,\n  align_center: alignCenter,\n  align_right: alignRight,\n  align_justify: alignJustify,\n  text_color: textColor,\n  color_fill: colorFill,\n  horizontal_rule: horizontalRule,\n  format_clear: formatClear,\n  indent,\n  outdent,\n  superscript,\n  subscript,\n  undo,\n  redo,\n  path: '<path></path>'\n};\nclass Icon {\n  static get(name, fill = DEFAULT_ICON_FILL) {\n    const fullPath = icons[name];\n    if (fullPath && (fullPath.includes('<path') || fullPath.includes('<g'))) {\n      return `\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 24 24\"\n          fill=${fill}\n          height=${DEFAULT_ICON_HEIGHT}\n          width=${DEFAULT_ICON_WIDTH}\n        >\n          ${fullPath}\n        </svg>\n      `;\n    }\n    return fullPath;\n  }\n}\nclass NgxEditorServiceConfig {\n  locals = {};\n  icons = {};\n  static ɵfac = function NgxEditorServiceConfig_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || NgxEditorServiceConfig)();\n  };\n  static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: NgxEditorServiceConfig,\n    factory: NgxEditorServiceConfig.ɵfac,\n    providedIn: 'root'\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgxEditorServiceConfig, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], null, null);\n})();\nclass NgxEditorService {\n  config;\n  constructor(config) {\n    this.config = config;\n  }\n  get locals() {\n    return new Locals(this.config.locals);\n  }\n  getIcon(icon) {\n    return this.config.icons[icon] ? this.config.icons[icon] : Icon.get(icon);\n  }\n  static ɵfac = function NgxEditorService_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || NgxEditorService)(i0.ɵɵinject(NgxEditorServiceConfig, 8));\n  };\n  static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: NgxEditorService,\n    factory: NgxEditorService.ɵfac,\n    providedIn: 'root'\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgxEditorService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], () => [{\n    type: NgxEditorServiceConfig,\n    decorators: [{\n      type: Optional\n    }]\n  }], null);\n})();\nconst provideMyServiceOptions = config => {\n  return {\n    locals: config.locals ?? {},\n    icons: config.icons ?? {}\n  };\n};\nclass ColorPickerComponent {\n  el;\n  menuService;\n  ngxeService;\n  presets;\n  type;\n  constructor(el, menuService, ngxeService) {\n    this.el = el;\n    this.menuService = menuService;\n    this.ngxeService = ngxeService;\n  }\n  get title() {\n    return this.getLabel(this.type === 'text_color' ? 'text_color' : 'background_color');\n  }\n  get icon() {\n    return this.ngxeService.getIcon(this.type === 'text_color' ? 'text_color' : 'color_fill');\n  }\n  get command() {\n    return this.type === 'text_color' ? TextColor : TextBackgroundColor;\n  }\n  updateSubscription;\n  editorView;\n  showPopup = false;\n  isActive = false;\n  activeColors = [];\n  canExecute = true;\n  getContrastYIQ(hexcolor) {\n    const color = hexcolor.replace('#', '');\n    const r = parseInt(color.substring(0, 2), 16);\n    const g = parseInt(color.substring(2, 4), 16);\n    const b = parseInt(color.substring(4, 6), 16);\n    const yiq = (r * 299 + g * 587 + b * 114) / 1000;\n    return yiq >= 128 ? 'black' : 'white';\n  }\n  onDocumentClick(e) {\n    if (!this.el.nativeElement.contains(e.target) && this.showPopup) {\n      this.hidePopup();\n    }\n  }\n  hidePopup() {\n    this.showPopup = false;\n  }\n  togglePopup() {\n    this.showPopup = !this.showPopup;\n  }\n  onTogglePopupMouseClick(e) {\n    e.preventDefault();\n    if (e.button !== 0) {\n      return;\n    }\n    this.togglePopup();\n  }\n  onTogglePopupKeydown() {\n    this.togglePopup();\n  }\n  remove() {\n    const {\n      state,\n      dispatch\n    } = this.editorView;\n    this.command.remove()(state, dispatch);\n    this.hidePopup();\n  }\n  onRemoveMouseClick(e) {\n    e.preventDefault();\n    if (e.button !== 0) {\n      return;\n    }\n    e.preventDefault();\n    this.remove();\n  }\n  onRemoveKeydown() {\n    this.remove();\n  }\n  trackByIndex(index) {\n    return index;\n  }\n  selectColor(color) {\n    const {\n      state,\n      dispatch\n    } = this.editorView;\n    if (this.type === 'text_color') {\n      const attrs = {\n        color\n      };\n      this.command.apply(attrs)(state, dispatch);\n    } else {\n      const attrs = {\n        backgroundColor: color\n      };\n      this.command.apply(attrs)(state, dispatch);\n    }\n    if (!this.editorView.hasFocus()) {\n      this.editorView.focus();\n    }\n    this.hidePopup();\n  }\n  onColorSelectMouseClick(e, color) {\n    e.preventDefault();\n    if (e.button !== 0) {\n      return;\n    }\n    this.selectColor(color);\n  }\n  onColorSelectKeydown(color) {\n    this.selectColor(color);\n  }\n  update = view => {\n    const {\n      state\n    } = view;\n    this.canExecute = this.command.canExecute(state);\n    this.isActive = this.command.isActive(state);\n    this.activeColors = [];\n    if (this.isActive) {\n      this.activeColors = this.command.getActiveColors(state);\n    }\n  };\n  getLabel(key) {\n    return this.ngxeService.locals.get(key);\n  }\n  ngOnInit() {\n    this.editorView = this.menuService.editor.view;\n    this.updateSubscription = this.menuService.editor.update.subscribe(view => {\n      this.update(view);\n    });\n  }\n  ngOnDestroy() {\n    this.updateSubscription.unsubscribe();\n  }\n  static ɵfac = function ColorPickerComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || ColorPickerComponent)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(MenuService), i0.ɵɵdirectiveInject(NgxEditorService));\n  };\n  static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ColorPickerComponent,\n    selectors: [[\"ngx-color-picker\"]],\n    hostBindings: function ColorPickerComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"mousedown\", function ColorPickerComponent_mousedown_HostBindingHandler($event) {\n          return ctx.onDocumentClick($event);\n        }, i0.ɵɵresolveDocument);\n      }\n    },\n    inputs: {\n      presets: \"presets\",\n      type: \"type\"\n    },\n    decls: 5,\n    vars: 15,\n    consts: [[\"type\", \"button\", 1, \"NgxEditor__MenuItem--Icon\", 3, \"mousedown\", \"keydown.enter\", \"keydown.space\", \"disabled\", \"innerHTML\", \"title\", \"ariaLabel\"], [\"class\", \"NgxEditor__Popup\", 4, \"ngIf\"], [1, \"NgxEditor__Popup\"], [\"class\", \"NgxEditor__ColorContainer\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [1, \"NgxEditor__MenuItem--Button\", 3, \"mousedown\", \"keydown.enter\", \"keydown.space\", \"disabled\"], [1, \"NgxEditor__ColorContainer\"], [\"class\", \"NgxEditor__Color\", 3, \"ngStyle\", \"title\", \"ngClass\", \"mousedown\", \"keydown.enter\", \"keydown.space\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [1, \"NgxEditor__Color\", 3, \"mousedown\", \"keydown.enter\", \"keydown.space\", \"ngStyle\", \"title\", \"ngClass\"]],\n    template: function ColorPickerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"button\", 0);\n        i0.ɵɵpipe(1, \"sanitizeHtml\");\n        i0.ɵɵpipe(2, \"async\");\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵlistener(\"mousedown\", function ColorPickerComponent_Template_button_mousedown_0_listener($event) {\n          return ctx.onTogglePopupMouseClick($event);\n        })(\"keydown.enter\", function ColorPickerComponent_Template_button_keydown_enter_0_listener() {\n          return ctx.onTogglePopupKeydown();\n        })(\"keydown.space\", function ColorPickerComponent_Template_button_keydown_space_0_listener() {\n          return ctx.onTogglePopupKeydown();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(4, ColorPickerComponent_div_4_Template, 5, 6, \"div\", 1);\n      }\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"NgxEditor__MenuItem--Active\", ctx.isActive || ctx.showPopup)(\"NgxEditor--Disabled\", !ctx.canExecute);\n        i0.ɵɵproperty(\"disabled\", !ctx.canExecute)(\"innerHTML\", i0.ɵɵpipeBind1(1, 9, ctx.icon), i0.ɵɵsanitizeHtml)(\"title\", i0.ɵɵpipeBind1(2, 11, ctx.title));\n        i0.ɵɵariaProperty(\"ariaLabel\", i0.ɵɵpipeBind1(3, 13, ctx.title));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.showPopup);\n      }\n    },\n    dependencies: [AsyncPipe, CommonModule, i3.NgClass, i3.NgForOf, i3.NgIf, i3.NgStyle, SanitizeHtmlPipe],\n    styles: [\"@charset \\\"UTF-8\\\";.NgxEditor__Popup[_ngcontent-%COMP%]{width:230px}.NgxEditor__ColorContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.NgxEditor__ColorContainer[_ngcontent-%COMP%] + .NgxEditor__ColorContainer[_ngcontent-%COMP%]{margin-top:5px}.NgxEditor__Color[_ngcontent-%COMP%]{border:none;outline:none;border-radius:6px;width:24px;height:24px;flex-shrink:0}.NgxEditor__Color[_ngcontent-%COMP%]:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color);outline-offset:1px}.NgxEditor__Color--Active[_ngcontent-%COMP%]:after{content:\\\"\\\\2714\\\";font-size:90%}.NgxEditor__MenuItem--Button[_ngcontent-%COMP%]{margin-top:5px}\"]\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ColorPickerComponent, [{\n    type: Component,\n    args: [{\n      selector: 'ngx-color-picker',\n      imports: [AsyncPipe, CommonModule, SanitizeHtmlPipe],\n      template: \"<button\\n  type=\\\"button\\\"\\n  class=\\\"NgxEditor__MenuItem--Icon\\\"\\n  [class.NgxEditor__MenuItem--Active]=\\\"isActive || showPopup\\\"\\n  [class.NgxEditor--Disabled]=\\\"!canExecute\\\"\\n  [disabled]=\\\"!canExecute\\\"\\n  [innerHTML]=\\\"icon | sanitizeHtml\\\"\\n  (mousedown)=\\\"onTogglePopupMouseClick($event)\\\"\\n  (keydown.enter)=\\\"onTogglePopupKeydown()\\\"\\n  (keydown.space)=\\\"onTogglePopupKeydown()\\\"\\n  [title]=\\\"title | async\\\"\\n  [ariaLabel]=\\\"title | async\\\"\\n></button>\\n\\n<div *ngIf=\\\"showPopup\\\" class=\\\"NgxEditor__Popup\\\">\\n  <div *ngFor=\\\"let colorGroup of presets; trackBy: trackByIndex\\\" class=\\\"NgxEditor__ColorContainer\\\">\\n    <button\\n      class=\\\"NgxEditor__Color\\\"\\n      *ngFor=\\\"let color of colorGroup; trackBy: trackByIndex\\\"\\n      [ngStyle]=\\\"{ backgroundColor: color, color: getContrastYIQ(color) }\\\"\\n      [title]=\\\"color\\\"\\n      (mousedown)=\\\"onColorSelectMouseClick($event, color)\\\"\\n      (keydown.enter)=\\\"onColorSelectKeydown(color)\\\"\\n      (keydown.space)=\\\"onColorSelectKeydown(color)\\\"\\n      [ngClass]=\\\"{ 'NgxEditor__Color--Active': activeColors.includes(color) }\\\"\\n    ></button>\\n  </div>\\n\\n  <button\\n    class=\\\"NgxEditor__MenuItem--Button\\\"\\n    (mousedown)=\\\"onRemoveMouseClick($event)\\\"\\n    (keydown.enter)=\\\"onRemoveKeydown()\\\"\\n    (keydown.space)=\\\"onRemoveKeydown()\\\"\\n    [disabled]=\\\"!isActive\\\"\\n  >\\n    {{ getLabel('remove') | async }}\\n  </button>\\n</div>\\n\",\n      styles: [\"@charset \\\"UTF-8\\\";.NgxEditor__Popup{width:230px}.NgxEditor__ColorContainer{display:flex;justify-content:space-between}.NgxEditor__ColorContainer+.NgxEditor__ColorContainer{margin-top:5px}.NgxEditor__Color{border:none;outline:none;border-radius:6px;width:24px;height:24px;flex-shrink:0}.NgxEditor__Color:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color);outline-offset:1px}.NgxEditor__Color--Active:after{content:\\\"\\\\2714\\\";font-size:90%}.NgxEditor__MenuItem--Button{margin-top:5px}\\n\"]\n    }]\n  }], () => [{\n    type: i0.ElementRef\n  }, {\n    type: MenuService\n  }, {\n    type: NgxEditorService\n  }], {\n    presets: [{\n      type: Input\n    }],\n    type: [{\n      type: Input\n    }],\n    onDocumentClick: [{\n      type: HostListener,\n      args: ['document:mousedown', ['$event']]\n    }]\n  });\n})();\nclass DropdownComponent {\n  ngxeService;\n  menuService;\n  el;\n  editorView;\n  updateSubscription;\n  group;\n  items;\n  isDropdownOpen = false;\n  disabledItems = [];\n  activeItem;\n  constructor(ngxeService, menuService, el) {\n    this.ngxeService = ngxeService;\n    this.menuService = menuService;\n    this.el = el;\n  }\n  get isSelected() {\n    return Boolean(this.activeItem || this.isDropdownOpen);\n  }\n  get isDropdownDisabled() {\n    return this.disabledItems.length === this.items.length;\n  }\n  onDocumentClick(target) {\n    if (!this.el.nativeElement.contains(target) && this.isDropdownOpen) {\n      this.isDropdownOpen = false;\n    }\n  }\n  getName(key) {\n    return this.ngxeService.locals.get(key);\n  }\n  getIsDropdownActive(item) {\n    return this.activeItem === item;\n  }\n  toggleDropdown() {\n    this.isDropdownOpen = !this.isDropdownOpen;\n  }\n  onToggleDropdownMouseClick(e) {\n    e.preventDefault();\n    if (e.button !== 0) {\n      return;\n    }\n    this.toggleDropdown();\n  }\n  onToggleDropdownKeydown() {\n    this.toggleDropdown();\n  }\n  trackByIndex(index) {\n    return index;\n  }\n  selectItem(item) {\n    const command = ToggleCommands[item];\n    const {\n      state,\n      dispatch\n    } = this.editorView;\n    command.toggle()(state, dispatch);\n    this.isDropdownOpen = false;\n  }\n  onDropdownItemMouseClick(e, item) {\n    e.preventDefault();\n    // consider only left click\n    if (e.button !== 0) {\n      return;\n    }\n    this.selectItem(item);\n  }\n  onDropdownItemKeydown(event, item) {\n    const e = event;\n    e.preventDefault();\n    this.selectItem(item);\n  }\n  update = view => {\n    const {\n      state\n    } = view;\n    this.disabledItems = [];\n    const activeItems = [];\n    this.items.forEach(item => {\n      const command = ToggleCommands[item];\n      const isActive = command.isActive(state);\n      if (isActive) {\n        activeItems.push(item);\n      }\n      if (!command.canExecute(state)) {\n        this.disabledItems.push(item);\n      }\n    });\n    if (activeItems.length === 1) {\n      [this.activeItem] = activeItems;\n    } else {\n      this.activeItem = null;\n    }\n  };\n  ngOnInit() {\n    this.editorView = this.menuService.editor.view;\n    this.updateSubscription = this.menuService.editor.update.subscribe(view => {\n      this.update(view);\n    });\n  }\n  ngOnDestroy() {\n    this.updateSubscription.unsubscribe();\n  }\n  static ɵfac = function DropdownComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || DropdownComponent)(i0.ɵɵdirectiveInject(NgxEditorService), i0.ɵɵdirectiveInject(MenuService), i0.ɵɵdirectiveInject(i0.ElementRef));\n  };\n  static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: DropdownComponent,\n    selectors: [[\"ngx-dropdown\"]],\n    hostBindings: function DropdownComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"mousedown\", function DropdownComponent_mousedown_HostBindingHandler($event) {\n          return ctx.onDocumentClick($event.target);\n        }, i0.ɵɵresolveDocument);\n      }\n    },\n    inputs: {\n      group: \"group\",\n      items: \"items\"\n    },\n    decls: 5,\n    vars: 13,\n    consts: [[\"type\", \"button\", \"aria-haspopup\", \"listbox\", 1, \"NgxEditor__Dropdown--Text\", 3, \"mousedown\", \"keydown.enter\", \"keydown.space\", \"disabled\", \"ariaLabel\", \"ariaExpanded\"], [\"class\", \"NgxEditor__Dropdown--DropdownMenu\", \"role\", \"listbox\", 4, \"ngIf\"], [\"role\", \"listbox\", 1, \"NgxEditor__Dropdown--DropdownMenu\"], [\"type\", \"button\", \"class\", \"NgxEditor__Dropdown--Item\", \"role\", \"option\", 3, \"ngClass\", \"ariaLabel\", \"mousedown\", \"keydown.enter\", \"keydown.space\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"type\", \"button\", \"role\", \"option\", 1, \"NgxEditor__Dropdown--Item\", 3, \"mousedown\", \"keydown.enter\", \"keydown.space\", \"ngClass\", \"ariaLabel\"]],\n    template: function DropdownComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"button\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵlistener(\"mousedown\", function DropdownComponent_Template_button_mousedown_0_listener($event) {\n          return ctx.onToggleDropdownMouseClick($event);\n        })(\"keydown.enter\", function DropdownComponent_Template_button_keydown_enter_0_listener() {\n          return ctx.onToggleDropdownKeydown();\n        })(\"keydown.space\", function DropdownComponent_Template_button_keydown_space_0_listener() {\n          return ctx.onToggleDropdownKeydown();\n        });\n        i0.ɵɵtext(2);\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(4, DropdownComponent_div_4_Template, 2, 2, \"div\", 1);\n      }\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"NgxEditor__Dropdown--Selected\", ctx.isSelected)(\"NgxEditor--Disabled\", ctx.isDropdownDisabled);\n        i0.ɵɵproperty(\"disabled\", ctx.isDropdownDisabled);\n        i0.ɵɵariaProperty(\"ariaLabel\", i0.ɵɵpipeBind1(1, 9, ctx.getName(ctx.activeItem || ctx.group)))(\"ariaExpanded\", ctx.isDropdownOpen);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 11, ctx.getName(ctx.activeItem || ctx.group)), \"\\n\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.isDropdownOpen);\n      }\n    },\n    dependencies: [AsyncPipe, CommonModule, i3.NgClass, i3.NgForOf, i3.NgIf],\n    encapsulation: 2\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DropdownComponent, [{\n    type: Component,\n    args: [{\n      selector: 'ngx-dropdown',\n      imports: [AsyncPipe, CommonModule],\n      template: \"<button\\n  type=\\\"button\\\"\\n  class=\\\"NgxEditor__Dropdown--Text\\\"\\n  [class.NgxEditor__Dropdown--Selected]=\\\"isSelected\\\"\\n  [disabled]=\\\"isDropdownDisabled\\\"\\n  [class.NgxEditor--Disabled]=\\\"isDropdownDisabled\\\"\\n  (mousedown)=\\\"onToggleDropdownMouseClick($event)\\\"\\n  (keydown.enter)=\\\"onToggleDropdownKeydown()\\\"\\n  (keydown.space)=\\\"onToggleDropdownKeydown()\\\"\\n  [ariaLabel]=\\\"getName(activeItem || group) | async\\\"\\n  aria-haspopup=\\\"listbox\\\"\\n  [ariaExpanded]=\\\"isDropdownOpen\\\"\\n>\\n  {{ getName(activeItem || group) | async }}\\n</button>\\n\\n<div class=\\\"NgxEditor__Dropdown--DropdownMenu\\\" *ngIf=\\\"isDropdownOpen\\\" role=\\\"listbox\\\">\\n  <button\\n    type=\\\"button\\\"\\n    class=\\\"NgxEditor__Dropdown--Item\\\"\\n    *ngFor=\\\"let item of items; trackBy: trackByIndex\\\"\\n    (mousedown)=\\\"onDropdownItemMouseClick($event, item)\\\"\\n    (keydown.enter)=\\\"onDropdownItemKeydown($event, item)\\\"\\n    (keydown.space)=\\\"onDropdownItemKeydown($event, item)\\\"\\n    [ngClass]=\\\"{\\n      'NgxEditor__Dropdown--Active': item === activeItem,\\n      'NgxEditor--Disabled': disabledItems.includes(item),\\n    }\\\"\\n    [ariaLabel]=\\\"getName(item) | async\\\"\\n    role=\\\"option\\\"\\n    [attr.aria-selected]=\\\"item === activeItem\\\"\\n  >\\n    {{ getName(item) | async }}\\n  </button>\\n</div>\\n\"\n    }]\n  }], () => [{\n    type: NgxEditorService\n  }, {\n    type: MenuService\n  }, {\n    type: i0.ElementRef\n  }], {\n    group: [{\n      type: Input\n    }],\n    items: [{\n      type: Input\n    }],\n    onDocumentClick: [{\n      type: HostListener,\n      args: ['document:mousedown', ['$event.target']]\n    }]\n  });\n})();\nclass ImageComponent {\n  el;\n  ngxeService;\n  menuService;\n  showPopup = false;\n  isActive = false;\n  componentId = uniq();\n  updateSubscription;\n  form = new FormGroup({\n    src: new FormControl('', [Validators$1.required, Validators$1.pattern('(https?://)?([\\\\da-z.-]+)\\\\.([a-z.]{2,6})[/\\\\w .-]*/??([^#\\n\\r]*)?#?([^\\n\\r]*)')]),\n    alt: new FormControl(''),\n    title: new FormControl('')\n  });\n  editorView;\n  constructor(el, ngxeService, menuService) {\n    this.el = el;\n    this.ngxeService = ngxeService;\n    this.menuService = menuService;\n  }\n  get icon() {\n    return this.ngxeService.getIcon('image');\n  }\n  get src() {\n    return this.form.get('src');\n  }\n  onDocumentClick(e) {\n    if (!this.el.nativeElement.contains(e.target) && this.showPopup) {\n      this.hideForm();\n    }\n  }\n  getId(name) {\n    return `${name}-${this.componentId}`;\n  }\n  getLabel(key) {\n    return this.ngxeService.locals.get(key);\n  }\n  hideForm() {\n    this.showPopup = false;\n    this.form.reset({\n      src: '',\n      alt: '',\n      title: ''\n    });\n  }\n  togglePopup() {\n    this.showPopup = !this.showPopup;\n    if (this.showPopup) {\n      this.fillForm();\n    }\n  }\n  onTogglePopupMouseClick(e) {\n    if (e.button !== 0) {\n      return;\n    }\n    this.togglePopup();\n  }\n  onTogglePopupKeydown() {\n    this.togglePopup();\n  }\n  fillForm() {\n    const {\n      state\n    } = this.editorView;\n    const {\n      selection\n    } = state;\n    if (selection instanceof NodeSelection && this.isActive) {\n      const {\n        src,\n        alt = '',\n        title = ''\n      } = selection.node.attrs;\n      this.form.setValue({\n        src,\n        alt,\n        title\n      });\n    }\n  }\n  update = view => {\n    const {\n      state\n    } = view;\n    this.isActive = Image.isActive(state);\n  };\n  insertLink(e) {\n    e.preventDefault();\n    const {\n      src,\n      alt,\n      title\n    } = this.form.getRawValue();\n    const {\n      dispatch,\n      state\n    } = this.editorView;\n    const attrs = {\n      alt,\n      title\n    };\n    Image.insert(src, attrs)(state, dispatch);\n    this.editorView.focus();\n    this.hideForm();\n  }\n  ngOnInit() {\n    this.editorView = this.menuService.editor.view;\n    this.updateSubscription = this.menuService.editor.update.subscribe(view => {\n      this.update(view);\n    });\n  }\n  ngOnDestroy() {\n    this.updateSubscription.unsubscribe();\n  }\n  static ɵfac = function ImageComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || ImageComponent)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(NgxEditorService), i0.ɵɵdirectiveInject(MenuService));\n  };\n  static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ImageComponent,\n    selectors: [[\"ngx-image\"]],\n    hostBindings: function ImageComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"mousedown\", function ImageComponent_mousedown_HostBindingHandler($event) {\n          return ctx.onDocumentClick($event);\n        }, i0.ɵɵresolveDocument);\n      }\n    },\n    decls: 5,\n    vars: 13,\n    consts: [[\"type\", \"button\", \"aria-haspopup\", \"dialog\", 1, \"NgxEditor__MenuItem--Icon\", 3, \"mousedown\", \"keydown.enter\", \"keydown.space\", \"innerHTML\", \"title\", \"ariaLabel\", \"ariaExpanded\"], [\"class\", \"NgxEditor__Popup\", 4, \"ngIf\"], [1, \"NgxEditor__Popup\"], [1, \"NgxEditor__Popup--Form\", 3, \"ngSubmit\", \"formGroup\"], [1, \"NgxEditor__Popup--FormGroup\"], [1, \"NgxEditor__Popup--Col\"], [1, \"NgxEditor__Popup--Label\", 3, \"htmlFor\"], [\"type\", \"url\", \"formControlName\", \"src\", \"autocomplete\", \"off\", 3, \"id\"], [\"class\", \"NgxEditor__HelpText NgxEditor__HelpText--Error\", 4, \"ngIf\"], [\"type\", \"text\", \"formControlName\", \"alt\", \"autocomplete\", \"off\", 3, \"id\"], [\"type\", \"text\", \"formControlName\", \"title\", \"autocomplete\", \"off\", 3, \"id\"], [\"type\", \"submit\", 3, \"disabled\"], [1, \"NgxEditor__HelpText\", \"NgxEditor__HelpText--Error\"]],\n    template: function ImageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"button\", 0);\n        i0.ɵɵpipe(1, \"sanitizeHtml\");\n        i0.ɵɵpipe(2, \"async\");\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵlistener(\"mousedown\", function ImageComponent_Template_button_mousedown_0_listener($event) {\n          return ctx.onTogglePopupMouseClick($event);\n        })(\"keydown.enter\", function ImageComponent_Template_button_keydown_enter_0_listener() {\n          return ctx.onTogglePopupKeydown();\n        })(\"keydown.space\", function ImageComponent_Template_button_keydown_space_0_listener() {\n          return ctx.onTogglePopupKeydown();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(4, ImageComponent_div_4_Template, 24, 21, \"div\", 1);\n      }\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"NgxEditor__MenuItem--Active\", ctx.isActive || ctx.showPopup);\n        i0.ɵɵproperty(\"innerHTML\", i0.ɵɵpipeBind1(1, 7, ctx.icon), i0.ɵɵsanitizeHtml)(\"title\", i0.ɵɵpipeBind1(2, 9, ctx.getLabel(\"insertImage\")));\n        i0.ɵɵariaProperty(\"ariaLabel\", i0.ɵɵpipeBind1(3, 11, ctx.getLabel(\"insertImage\")))(\"ariaExpanded\", ctx.showPopup);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.showPopup);\n      }\n    },\n    dependencies: [AsyncPipe, SanitizeHtmlPipe, ReactiveFormsModule, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName, CommonModule, i3.NgIf],\n    encapsulation: 2\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ImageComponent, [{\n    type: Component,\n    args: [{\n      selector: 'ngx-image',\n      imports: [AsyncPipe, SanitizeHtmlPipe, ReactiveFormsModule, CommonModule],\n      template: \"<button\\n  type=\\\"button\\\"\\n  class=\\\"NgxEditor__MenuItem--Icon\\\"\\n  [class.NgxEditor__MenuItem--Active]=\\\"isActive || showPopup\\\"\\n  [innerHTML]=\\\"icon | sanitizeHtml\\\"\\n  (mousedown)=\\\"onTogglePopupMouseClick($event)\\\"\\n  (keydown.enter)=\\\"onTogglePopupKeydown()\\\"\\n  (keydown.space)=\\\"onTogglePopupKeydown()\\\"\\n  [title]=\\\"getLabel('insertImage') | async\\\"\\n  [ariaLabel]=\\\"getLabel('insertImage') | async\\\"\\n  aria-haspopup=\\\"dialog\\\"\\n  [ariaExpanded]=\\\"showPopup\\\"\\n></button>\\n\\n<!-- popup -->\\n<div *ngIf=\\\"showPopup\\\" class=\\\"NgxEditor__Popup\\\">\\n  <form class=\\\"NgxEditor__Popup--Form\\\" [formGroup]=\\\"form\\\" (ngSubmit)=\\\"insertLink($event)\\\">\\n    <div class=\\\"NgxEditor__Popup--FormGroup\\\">\\n      <div class=\\\"NgxEditor__Popup--Col\\\">\\n        <label class=\\\"NgxEditor__Popup--Label\\\" [htmlFor]=\\\"getId('image-popup-url')\\\">{{\\n          getLabel('url') | async\\n        }}</label>\\n        <input type=\\\"url\\\" [id]=\\\"getId('image-popup-url')\\\" formControlName=\\\"src\\\" autocomplete=\\\"off\\\" />\\n        <div *ngIf=\\\"src.touched && src.invalid\\\" class=\\\"NgxEditor__HelpText NgxEditor__HelpText--Error\\\">\\n          {{ src.errors?.['pattern'] && getLabel('enterValidUrl') | async }}\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"NgxEditor__Popup--FormGroup\\\">\\n      <div class=\\\"NgxEditor__Popup--Col\\\">\\n        <label class=\\\"NgxEditor__Popup--Label\\\" [htmlFor]=\\\"getId('image-popup-label')\\\">{{\\n          getLabel('altText') | async\\n        }}</label>\\n        <input type=\\\"text\\\" [id]=\\\"getId('image-popup-label')\\\" formControlName=\\\"alt\\\" autocomplete=\\\"off\\\" />\\n      </div>\\n    </div>\\n\\n    <div class=\\\"NgxEditor__Popup--FormGroup\\\">\\n      <div class=\\\"NgxEditor__Popup--Col\\\">\\n        <label class=\\\"NgxEditor__Popup--Label\\\" [htmlFor]=\\\"getId('image-popup-title')\\\">{{\\n          getLabel('title') | async\\n        }}</label>\\n        <input type=\\\"text\\\" [id]=\\\"getId('image-popup-title')\\\" formControlName=\\\"title\\\" autocomplete=\\\"off\\\" />\\n      </div>\\n    </div>\\n\\n    <button type=\\\"submit\\\" [disabled]=\\\"!form.valid || !form.dirty\\\">{{ getLabel('insert') | async }}</button>\\n  </form>\\n</div>\\n\"\n    }]\n  }], () => [{\n    type: i0.ElementRef\n  }, {\n    type: NgxEditorService\n  }, {\n    type: MenuService\n  }], {\n    onDocumentClick: [{\n      type: HostListener,\n      args: ['document:mousedown', ['$event']]\n    }]\n  });\n})();\nclass InsertCommandComponent {\n  ngxeService;\n  menuService;\n  toolbarItem;\n  get name() {\n    return this.toolbarItem;\n  }\n  html;\n  editorView;\n  disabled = false;\n  updateSubscription;\n  constructor(ngxeService, menuService) {\n    this.ngxeService = ngxeService;\n    this.menuService = menuService;\n  }\n  onMouseClick(e) {\n    e.preventDefault();\n    if (e.button !== 0) {\n      return;\n    }\n    this.insert();\n  }\n  onKeydown() {\n    this.insert();\n  }\n  insert() {\n    const {\n      state,\n      dispatch\n    } = this.editorView;\n    const command = InsertCommands[this.name];\n    command.insert()(state, dispatch);\n  }\n  update = view => {\n    const {\n      state\n    } = view;\n    const command = InsertCommands[this.name];\n    this.disabled = !command.canExecute(state);\n  };\n  getTitle(name) {\n    return this.ngxeService.locals.get(name);\n  }\n  ngOnInit() {\n    this.html = this.ngxeService.getIcon(this.name);\n    this.editorView = this.menuService.editor.view;\n    this.updateSubscription = this.menuService.editor.update.subscribe(view => {\n      this.update(view);\n    });\n  }\n  ngOnDestroy() {\n    this.updateSubscription.unsubscribe();\n  }\n  static ɵfac = function InsertCommandComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || InsertCommandComponent)(i0.ɵɵdirectiveInject(NgxEditorService), i0.ɵɵdirectiveInject(MenuService));\n  };\n  static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: InsertCommandComponent,\n    selectors: [[\"ngx-insert-command\"]],\n    inputs: {\n      toolbarItem: \"toolbarItem\"\n    },\n    decls: 4,\n    vars: 12,\n    consts: [[\"type\", \"button\", 1, \"NgxEditor__MenuItem--Icon\", 3, \"mousedown\", \"keydown.enter\", \"keydown.space\", \"disabled\", \"innerHTML\", \"title\", \"ariaLabel\"]],\n    template: function InsertCommandComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵdomElementStart(0, \"button\", 0);\n        i0.ɵɵpipe(1, \"sanitizeHtml\");\n        i0.ɵɵpipe(2, \"async\");\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵdomListener(\"mousedown\", function InsertCommandComponent_Template_button_mousedown_0_listener($event) {\n          return ctx.onMouseClick($event);\n        })(\"keydown.enter\", function InsertCommandComponent_Template_button_keydown_enter_0_listener() {\n          return ctx.onKeydown();\n        })(\"keydown.space\", function InsertCommandComponent_Template_button_keydown_space_0_listener() {\n          return ctx.onKeydown();\n        });\n        i0.ɵɵdomElementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"NgxEditor--Disabled\", ctx.disabled);\n        i0.ɵɵdomProperty(\"disabled\", ctx.disabled)(\"innerHTML\", i0.ɵɵpipeBind1(1, 6, ctx.html), i0.ɵɵsanitizeHtml)(\"title\", i0.ɵɵpipeBind1(2, 8, ctx.getTitle(ctx.name)));\n        i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(3, 10, ctx.getTitle(ctx.name)));\n      }\n    },\n    dependencies: [AsyncPipe, SanitizeHtmlPipe],\n    encapsulation: 2\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(InsertCommandComponent, [{\n    type: Component,\n    args: [{\n      selector: 'ngx-insert-command',\n      imports: [AsyncPipe, SanitizeHtmlPipe],\n      template: \"<button\\n  type=\\\"button\\\"\\n  class=\\\"NgxEditor__MenuItem--Icon\\\"\\n  [disabled]=\\\"disabled\\\"\\n  [class.NgxEditor--Disabled]=\\\"disabled\\\"\\n  [innerHTML]=\\\"html | sanitizeHtml\\\"\\n  (mousedown)=\\\"onMouseClick($event)\\\"\\n  (keydown.enter)=\\\"onKeydown()\\\"\\n  (keydown.space)=\\\"onKeydown()\\\"\\n  [title]=\\\"getTitle(name) | async\\\"\\n  [ariaLabel]=\\\"getTitle(name) | async\\\"\\n></button>\\n\"\n    }]\n  }], () => [{\n    type: NgxEditorService\n  }, {\n    type: MenuService\n  }], {\n    toolbarItem: [{\n      type: Input\n    }]\n  });\n})();\nconst DEFAULT_LINK_OPTIONS = {\n  showOpenInNewTab: true\n};\nclass LinkComponent {\n  el;\n  ngxeService;\n  menuService;\n  options = DEFAULT_LINK_OPTIONS;\n  showPopup = false;\n  isActive = false;\n  canExecute = true;\n  componentId = uniq();\n  form;\n  editorView;\n  updateSubscription;\n  constructor(el, ngxeService, menuService) {\n    this.el = el;\n    this.ngxeService = ngxeService;\n    this.menuService = menuService;\n  }\n  get icon() {\n    return this.ngxeService.getIcon(this.isActive ? 'unlink' : 'link');\n  }\n  get title() {\n    return this.ngxeService.locals.get(this.isActive ? 'removeLink' : 'insertLink');\n  }\n  get href() {\n    return this.form.get('href');\n  }\n  get text() {\n    return this.form.get('text');\n  }\n  onDocumentClick(e) {\n    if (!this.el.nativeElement.contains(e.target) && this.showPopup) {\n      this.hidePopup();\n    }\n  }\n  getId(name) {\n    return `${name}-${this.componentId}`;\n  }\n  getLabel(key) {\n    return this.ngxeService.locals.get(key);\n  }\n  hidePopup() {\n    this.showPopup = false;\n    this.form.reset({\n      href: '',\n      text: '',\n      openInNewTab: true\n    });\n    this.text.enable();\n  }\n  togglePopup() {\n    const {\n      state,\n      dispatch\n    } = this.editorView;\n    if (this.isActive) {\n      Link.remove(state, dispatch);\n      return;\n    }\n    this.showPopup = !this.showPopup;\n    if (this.showPopup) {\n      this.setText();\n    }\n  }\n  onTogglePopupMouseClick(e) {\n    if (e.button !== 0) {\n      return;\n    }\n    this.togglePopup();\n  }\n  onTogglePopupKeydown() {\n    this.togglePopup();\n  }\n  setText = () => {\n    const {\n      state: {\n        selection,\n        doc\n      }\n    } = this.editorView;\n    const {\n      empty,\n      from,\n      to\n    } = selection;\n    const selectedText = !empty ? doc.textBetween(from, to) : '';\n    if (selectedText) {\n      this.text.patchValue(selectedText);\n      this.text.disable();\n    }\n  };\n  update = view => {\n    const {\n      state\n    } = view;\n    this.isActive = Link.isActive(state, {\n      strict: false\n    });\n    this.canExecute = Link.canExecute(state);\n  };\n  insertLink(e) {\n    e.preventDefault();\n    const {\n      text,\n      href,\n      openInNewTab\n    } = this.form.getRawValue();\n    const {\n      dispatch,\n      state\n    } = this.editorView;\n    const {\n      selection\n    } = state;\n    let target;\n    if (this.options.showOpenInNewTab) {\n      target = openInNewTab ? '_blank' : '_self';\n    }\n    const attrs = {\n      title: href,\n      href,\n      target\n    };\n    if (selection.empty) {\n      Link.insert(text, attrs)(state, dispatch);\n      this.editorView.focus();\n    } else {\n      Link.update(attrs)(state, dispatch);\n    }\n    this.hidePopup();\n  }\n  ngOnInit() {\n    this.editorView = this.menuService.editor.view;\n    this.form = new FormGroup({\n      href: new FormControl('', [Validators$1.required, Validators$1.pattern(this.menuService.editor.linkValidationPattern)]),\n      text: new FormControl('', [Validators$1.required]),\n      openInNewTab: new FormControl(true)\n    });\n    this.updateSubscription = this.menuService.editor.update.subscribe(view => {\n      this.update(view);\n    });\n  }\n  ngOnDestroy() {\n    this.updateSubscription.unsubscribe();\n  }\n  static ɵfac = function LinkComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || LinkComponent)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(NgxEditorService), i0.ɵɵdirectiveInject(MenuService));\n  };\n  static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: LinkComponent,\n    selectors: [[\"ngx-link\"]],\n    hostBindings: function LinkComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"mousedown\", function LinkComponent_mousedown_HostBindingHandler($event) {\n          return ctx.onDocumentClick($event);\n        }, i0.ɵɵresolveDocument);\n      }\n    },\n    inputs: {\n      options: [2, \"options\", \"options\", value => ({\n        ...DEFAULT_LINK_OPTIONS,\n        ...value\n      })]\n    },\n    decls: 5,\n    vars: 16,\n    consts: [[\"type\", \"button\", \"aria-haspopup\", \"dialog\", 1, \"NgxEditor__MenuItem--Icon\", 3, \"mousedown\", \"keydown.enter\", \"keydown.space\", \"disabled\", \"innerHTML\", \"title\", \"ariaLabel\", \"ariaExpanded\"], [\"class\", \"NgxEditor__Popup\", 4, \"ngIf\"], [1, \"NgxEditor__Popup\"], [1, \"NgxEditor__Popup--Form\", 3, \"ngSubmit\", \"formGroup\"], [1, \"NgxEditor__Popup--FormGroup\"], [1, \"NgxEditor__Popup--Col\"], [1, \"NgxEditor__Popup--Label\", 3, \"htmlFor\"], [\"type\", \"url\", \"formControlName\", \"href\", \"autocomplete\", \"off\", 3, \"id\"], [\"class\", \"NgxEditor__HelpText NgxEditor__HelpText--Error\", 4, \"ngIf\"], [\"type\", \"text\", \"formControlName\", \"text\", \"autocomplete\", \"off\", 3, \"id\"], [\"class\", \"NgxEditor__Popup--FormGroup\", 4, \"ngIf\"], [\"type\", \"submit\", 3, \"disabled\"], [1, \"NgxEditor__HelpText\", \"NgxEditor__HelpText--Error\"], [\"type\", \"checkbox\", \"formControlName\", \"openInNewTab\"]],\n    template: function LinkComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"button\", 0);\n        i0.ɵɵpipe(1, \"sanitizeHtml\");\n        i0.ɵɵpipe(2, \"async\");\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵlistener(\"mousedown\", function LinkComponent_Template_button_mousedown_0_listener($event) {\n          return ctx.onTogglePopupMouseClick($event);\n        })(\"keydown.enter\", function LinkComponent_Template_button_keydown_enter_0_listener() {\n          return ctx.onTogglePopupKeydown();\n        })(\"keydown.space\", function LinkComponent_Template_button_keydown_space_0_listener() {\n          return ctx.onTogglePopupKeydown();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(4, LinkComponent_div_4_Template, 20, 18, \"div\", 1);\n      }\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"NgxEditor__MenuItem--Active\", ctx.isActive || ctx.showPopup)(\"NgxEditor--Disabled\", !ctx.canExecute);\n        i0.ɵɵproperty(\"disabled\", !ctx.canExecute)(\"innerHTML\", i0.ɵɵpipeBind1(1, 10, ctx.icon), i0.ɵɵsanitizeHtml)(\"title\", i0.ɵɵpipeBind1(2, 12, ctx.title));\n        i0.ɵɵariaProperty(\"ariaLabel\", i0.ɵɵpipeBind1(3, 14, ctx.title))(\"ariaExpanded\", ctx.showPopup);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.showPopup);\n      }\n    },\n    dependencies: [AsyncPipe, CommonModule, i3.NgIf, ReactiveFormsModule, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.CheckboxControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName, SanitizeHtmlPipe],\n    encapsulation: 2\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(LinkComponent, [{\n    type: Component,\n    args: [{\n      selector: 'ngx-link',\n      imports: [AsyncPipe, CommonModule, ReactiveFormsModule, SanitizeHtmlPipe],\n      template: \"<button\\n  type=\\\"button\\\"\\n  class=\\\"NgxEditor__MenuItem--Icon\\\"\\n  [class.NgxEditor__MenuItem--Active]=\\\"isActive || showPopup\\\"\\n  [class.NgxEditor--Disabled]=\\\"!canExecute\\\"\\n  [disabled]=\\\"!canExecute\\\"\\n  [innerHTML]=\\\"icon | sanitizeHtml\\\"\\n  (mousedown)=\\\"onTogglePopupMouseClick($event)\\\"\\n  (keydown.enter)=\\\"onTogglePopupKeydown()\\\"\\n  (keydown.space)=\\\"onTogglePopupKeydown()\\\"\\n  [title]=\\\"title | async\\\"\\n  [ariaLabel]=\\\"title | async\\\"\\n  aria-haspopup=\\\"dialog\\\"\\n  [ariaExpanded]=\\\"showPopup\\\"\\n></button>\\n\\n<!-- popup -->\\n<div *ngIf=\\\"showPopup\\\" class=\\\"NgxEditor__Popup\\\">\\n  <form class=\\\"NgxEditor__Popup--Form\\\" [formGroup]=\\\"form\\\" (ngSubmit)=\\\"insertLink($event)\\\">\\n    <div class=\\\"NgxEditor__Popup--FormGroup\\\">\\n      <div class=\\\"NgxEditor__Popup--Col\\\">\\n        <label class=\\\"NgxEditor__Popup--Label\\\" [htmlFor]=\\\"getId('link-popup-url')\\\">{{ getLabel('url') | async }}</label>\\n        <input type=\\\"url\\\" [id]=\\\"getId('link-popup-url')\\\" formControlName=\\\"href\\\" autocomplete=\\\"off\\\" />\\n        <div *ngIf=\\\"href.touched && href.invalid\\\" class=\\\"NgxEditor__HelpText NgxEditor__HelpText--Error\\\">\\n          {{ href.errors?.['pattern'] && getLabel('enterValidUrl') | async }}\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"NgxEditor__Popup--FormGroup\\\">\\n      <div class=\\\"NgxEditor__Popup--Col\\\">\\n        <label class=\\\"NgxEditor__Popup--Label\\\" [htmlFor]=\\\"getId('link-popup-label')\\\">{{\\n          getLabel('text') | async\\n        }}</label>\\n        <input type=\\\"text\\\" [id]=\\\"getId('link-popup-label')\\\" formControlName=\\\"text\\\" autocomplete=\\\"off\\\" />\\n        <div *ngIf=\\\"text.touched && text.invalid\\\" class=\\\"NgxEditor__HelpText NgxEditor__HelpText--Error\\\">\\n          {{ text.errors?.['required'] && 'This is required' }}\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"NgxEditor__Popup--FormGroup\\\" *ngIf=\\\"this.options.showOpenInNewTab\\\">\\n      <div class=\\\"NgxEditor__Popup--Col\\\">\\n        <label>\\n          <input type=\\\"checkbox\\\" formControlName=\\\"openInNewTab\\\" />\\n          {{ getLabel('openInNewTab') | async }}\\n        </label>\\n      </div>\\n    </div>\\n\\n    <button type=\\\"submit\\\" [disabled]=\\\"!form.valid\\\">{{ getLabel('insert') | async }}</button>\\n  </form>\\n</div>\\n\"\n    }]\n  }], () => [{\n    type: i0.ElementRef\n  }, {\n    type: NgxEditorService\n  }, {\n    type: MenuService\n  }], {\n    options: [{\n      type: Input,\n      args: [{\n        transform: value => ({\n          ...DEFAULT_LINK_OPTIONS,\n          ...value\n        })\n      }]\n    }],\n    onDocumentClick: [{\n      type: HostListener,\n      args: ['document:mousedown', ['$event']]\n    }]\n  });\n})();\nclass ToggleCommandComponent {\n  ngxeService;\n  menuService;\n  toolbarItem;\n  get name() {\n    return this.toolbarItem;\n  }\n  html;\n  editorView;\n  isActive = false;\n  disabled = false;\n  updateSubscription;\n  constructor(ngxeService, menuService) {\n    this.ngxeService = ngxeService;\n    this.menuService = menuService;\n  }\n  toggle() {\n    const {\n      state,\n      dispatch\n    } = this.editorView;\n    const command = ToggleCommands[this.name];\n    command.toggle()(state, dispatch);\n  }\n  onMouseClick(e) {\n    e.preventDefault();\n    if (e.button !== 0) {\n      return;\n    }\n    this.toggle();\n  }\n  onKeydown() {\n    this.toggle();\n  }\n  update = view => {\n    const {\n      state\n    } = view;\n    const command = ToggleCommands[this.name];\n    this.isActive = command.isActive(state);\n    this.disabled = !command.canExecute(state);\n  };\n  getTitle(name) {\n    return this.ngxeService.locals.get(name);\n  }\n  ngOnInit() {\n    this.html = this.ngxeService.getIcon(this.name);\n    this.editorView = this.menuService.editor.view;\n    this.updateSubscription = this.menuService.editor.update.subscribe(view => {\n      this.update(view);\n    });\n  }\n  ngOnDestroy() {\n    this.updateSubscription.unsubscribe();\n  }\n  static ɵfac = function ToggleCommandComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || ToggleCommandComponent)(i0.ɵɵdirectiveInject(NgxEditorService), i0.ɵɵdirectiveInject(MenuService));\n  };\n  static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ToggleCommandComponent,\n    selectors: [[\"ngx-toggle-command\"]],\n    inputs: {\n      toolbarItem: \"toolbarItem\"\n    },\n    decls: 4,\n    vars: 14,\n    consts: [[\"type\", \"button\", 1, \"NgxEditor__MenuItem--Icon\", 3, \"mousedown\", \"keydown.enter\", \"keydown.space\", \"disabled\", \"innerHTML\", \"title\", \"ariaLabel\"]],\n    template: function ToggleCommandComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵdomElementStart(0, \"button\", 0);\n        i0.ɵɵpipe(1, \"sanitizeHtml\");\n        i0.ɵɵpipe(2, \"async\");\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵdomListener(\"mousedown\", function ToggleCommandComponent_Template_button_mousedown_0_listener($event) {\n          return ctx.onMouseClick($event);\n        })(\"keydown.enter\", function ToggleCommandComponent_Template_button_keydown_enter_0_listener() {\n          return ctx.onKeydown();\n        })(\"keydown.space\", function ToggleCommandComponent_Template_button_keydown_space_0_listener() {\n          return ctx.onKeydown();\n        });\n        i0.ɵɵdomElementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"NgxEditor__MenuItem--Active\", ctx.isActive)(\"NgxEditor--Disabled\", ctx.disabled);\n        i0.ɵɵdomProperty(\"disabled\", ctx.disabled)(\"innerHTML\", i0.ɵɵpipeBind1(1, 8, ctx.html), i0.ɵɵsanitizeHtml)(\"title\", i0.ɵɵpipeBind1(2, 10, ctx.getTitle(ctx.name)));\n        i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(3, 12, ctx.getTitle(ctx.name)));\n      }\n    },\n    dependencies: [AsyncPipe, SanitizeHtmlPipe],\n    encapsulation: 2\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ToggleCommandComponent, [{\n    type: Component,\n    args: [{\n      selector: 'ngx-toggle-command',\n      imports: [AsyncPipe, SanitizeHtmlPipe],\n      template: \"<button\\n  type=\\\"button\\\"\\n  class=\\\"NgxEditor__MenuItem--Icon\\\"\\n  [class.NgxEditor__MenuItem--Active]=\\\"isActive\\\"\\n  [class.NgxEditor--Disabled]=\\\"disabled\\\"\\n  [disabled]=\\\"disabled\\\"\\n  [innerHTML]=\\\"html | sanitizeHtml\\\"\\n  (mousedown)=\\\"onMouseClick($event)\\\"\\n  (keydown.enter)=\\\"onKeydown()\\\"\\n  (keydown.space)=\\\"onKeydown()\\\"\\n  [title]=\\\"getTitle(name) | async\\\"\\n  [ariaLabel]=\\\"getTitle(name) | async\\\"\\n></button>\\n\"\n    }]\n  }], () => [{\n    type: NgxEditorService\n  }, {\n    type: MenuService\n  }], {\n    toolbarItem: [{\n      type: Input\n    }]\n  });\n})();\nconst DEFAULT_TOOLBAR = [['bold', 'italic'], ['code', 'blockquote'], ['underline', 'strike'], ['ordered_list', 'bullet_list'], [{\n  heading: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6']\n}], ['link', 'image'], ['text_color', 'background_color'], ['align_left', 'align_center', 'align_right', 'align_justify'], ['format_clear']];\nconst TOOLBAR_MINIMAL = [['bold', 'italic'], [{\n  heading: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6']\n}], ['link', 'image'], ['text_color', 'background_color']];\nconst TOOLBAR_FULL = [['bold', 'italic'], ['code', 'blockquote'], ['underline', 'strike'], ['ordered_list', 'bullet_list'], [{\n  heading: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6']\n}], ['link', 'image'], ['text_color', 'background_color'], ['align_left', 'align_center', 'align_right', 'align_justify'], ['horizontal_rule', 'format_clear', 'indent', 'outdent'], ['superscript', 'subscript'], ['undo', 'redo']];\nconst DEFAULT_COLOR_PRESETS = ['#b60205', '#d93f0b', '#fbca04', '#0e8a16', '#006b75', '#1d76db', '#0052cc', '#5319e7', '#e99695', '#f9d0c4', '#fef2c0', '#c2e0c6', '#bfdadc', '#c5def5', '#bfd4f2', '#d4c5f9'];\nclass NgxEditorMenuComponent {\n  menuService;\n  toolbar = TOOLBAR_MINIMAL;\n  colorPresets = DEFAULT_COLOR_PRESETS;\n  disabled = false;\n  editor;\n  customMenuRef = null;\n  dropdownPlacement = 'bottom';\n  toggleCommands = ['bold', 'italic', 'underline', 'strike', 'code', 'blockquote', 'ordered_list', 'bullet_list', 'align_left', 'align_center', 'align_right', 'align_justify', 'superscript', 'subscript'];\n  insertCommands = ['horizontal_rule', 'format_clear', 'indent', 'outdent', 'undo', 'redo'];\n  iconContainerClass = ['NgxEditor__MenuItem', 'NgxEditor__MenuItem--IconContainer'];\n  dropdownContainerClass = ['NgxEditor__Dropdown'];\n  seperatorClass = ['NgxEditor__Seperator'];\n  constructor(menuService) {\n    this.menuService = menuService;\n  }\n  get presets() {\n    const col = 8;\n    const colors = [];\n    this.colorPresets.forEach((color, index) => {\n      const row = Math.floor(index / col);\n      if (!colors[row]) {\n        colors.push([]);\n      }\n      colors[row].push(color);\n    });\n    return colors;\n  }\n  trackByIndex(index) {\n    return index;\n  }\n  isDropDown(item) {\n    if (item?.heading) {\n      return true;\n    }\n    return false;\n  }\n  getDropdownItems(item) {\n    return item;\n  }\n  isLinkItem(item) {\n    if (item === 'link') {\n      return true;\n    }\n    // NOTE: it is not sufficient to check for a `link` property\n    // as String.prototype.link is a valid (although deprecated) method\n    return typeof item === 'object' && typeof item?.link === 'object';\n  }\n  isLinkWithOptions(item) {\n    // NOTE: it is not sufficient to check for a `link` property\n    // as String.prototype.link is a valid (although deprecated) method\n    return typeof item === 'object' && typeof item?.link === 'object';\n  }\n  getLinkOptions(item) {\n    return item?.link;\n  }\n  ngOnInit() {\n    if (!this.editor) {\n      throw new NgxEditorError('Required editor instance to initialize menu component');\n    }\n    this.menuService.editor = this.editor;\n  }\n  static ɵfac = function NgxEditorMenuComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || NgxEditorMenuComponent)(i0.ɵɵdirectiveInject(MenuService));\n  };\n  static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: NgxEditorMenuComponent,\n    selectors: [[\"ngx-editor-menu\"]],\n    inputs: {\n      toolbar: \"toolbar\",\n      colorPresets: \"colorPresets\",\n      disabled: \"disabled\",\n      editor: \"editor\",\n      customMenuRef: \"customMenuRef\",\n      dropdownPlacement: \"dropdownPlacement\"\n    },\n    features: [i0.ɵɵProvidersFeature([MenuService])],\n    decls: 3,\n    vars: 7,\n    consts: [[1, \"NgxEditor__MenuBar\", 3, \"ngClass\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [4, \"ngIf\"], [3, \"toolbarItem\", \"class\", 4, \"ngIf\"], [3, \"class\", 4, \"ngIf\"], [\"type\", \"text_color\", 3, \"class\", \"presets\", 4, \"ngIf\"], [\"type\", \"background_color\", 3, \"class\", \"presets\", 4, \"ngIf\"], [3, \"toolbarItem\"], [3, \"options\"], [3, \"class\", \"group\", \"items\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [3, \"group\", \"items\"], [\"type\", \"text_color\", 3, \"presets\"], [\"type\", \"background_color\", 3, \"presets\"], [3, \"ngTemplateOutlet\"]],\n    template: function NgxEditorMenuComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, NgxEditorMenuComponent_ng_container_1_Template, 2, 2, \"ng-container\", 1)(2, NgxEditorMenuComponent_ng_container_2_Template, 2, 1, \"ng-container\", 2);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(4, _c7, ctx.disabled, ctx.dropdownPlacement === \"top\"));\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngForOf\", ctx.toolbar)(\"ngForTrackBy\", ctx.trackByIndex);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.customMenuRef);\n      }\n    },\n    dependencies: [CommonModule, i3.NgClass, i3.NgForOf, i3.NgIf, i3.NgTemplateOutlet, i3.KeyValuePipe, ColorPickerComponent, DropdownComponent, ToggleCommandComponent, InsertCommandComponent, LinkComponent, ImageComponent],\n    encapsulation: 2\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgxEditorMenuComponent, [{\n    type: Component,\n    args: [{\n      selector: 'ngx-editor-menu',\n      providers: [MenuService],\n      imports: [CommonModule, ColorPickerComponent, DropdownComponent, ToggleCommandComponent, InsertCommandComponent, LinkComponent, ImageComponent],\n      template: \"<div\\n  class=\\\"NgxEditor__MenuBar\\\"\\n  [ngClass]=\\\"{ 'NgxEditor--Disabled': disabled, 'NgxEditor__MenuBar--Reverse': dropdownPlacement === 'top' }\\\"\\n>\\n  <ng-container *ngFor=\\\"let toolbarItem of toolbar; let lastToolbarItem = last; trackBy: trackByIndex\\\">\\n    <ng-container *ngFor=\\\"let item of toolbarItem; let lastItem = last; trackBy: trackByIndex\\\">\\n      <!-- toggle icons -->\\n      <ngx-toggle-command [toolbarItem]=\\\"item\\\" [class]=\\\"iconContainerClass\\\" *ngIf=\\\"toggleCommands.includes(item)\\\">\\n      </ngx-toggle-command>\\n\\n      <ngx-insert-command [toolbarItem]=\\\"item\\\" [class]=\\\"iconContainerClass\\\" *ngIf=\\\"insertCommands.includes(item)\\\">\\n      </ngx-insert-command>\\n\\n      <!-- link -->\\n      <ng-container *ngIf=\\\"isLinkItem(item)\\\">\\n        <ngx-link [class]=\\\"iconContainerClass\\\" [options]=\\\"getLinkOptions(item)\\\"></ngx-link>\\n      </ng-container>\\n\\n      <!-- image -->\\n      <ngx-image [class]=\\\"iconContainerClass\\\" *ngIf=\\\"item === 'image'\\\"> </ngx-image>\\n\\n      <!-- dropdown -->\\n      <ng-container *ngIf=\\\"isDropDown(item)\\\">\\n        <ngx-dropdown\\n          *ngFor=\\\"let dropdownItem of getDropdownItems(item) | keyvalue; trackBy: trackByIndex\\\"\\n          [class]=\\\"dropdownContainerClass\\\"\\n          [group]=\\\"dropdownItem.key\\\"\\n          [items]=\\\"dropdownItem.value\\\"\\n        >\\n        </ngx-dropdown>\\n      </ng-container>\\n\\n      <!-- text color picker -->\\n      <ngx-color-picker\\n        [class]=\\\"iconContainerClass\\\"\\n        *ngIf=\\\"item === 'text_color'\\\"\\n        type=\\\"text_color\\\"\\n        [presets]=\\\"presets\\\"\\n      >\\n      </ngx-color-picker>\\n      <!-- background color picker -->\\n      <ngx-color-picker\\n        [class]=\\\"iconContainerClass\\\"\\n        *ngIf=\\\"item === 'background_color'\\\"\\n        type=\\\"background_color\\\"\\n        [presets]=\\\"presets\\\"\\n      >\\n      </ngx-color-picker>\\n\\n      <!-- seperator -->\\n      <div [class]=\\\"seperatorClass\\\" *ngIf=\\\"lastItem && !lastToolbarItem\\\"></div>\\n    </ng-container>\\n  </ng-container>\\n\\n  <!-- custom menu -->\\n  <ng-container *ngIf=\\\"customMenuRef\\\">\\n    <ng-container [ngTemplateOutlet]=\\\"customMenuRef\\\"></ng-container>\\n  </ng-container>\\n</div>\\n\"\n    }]\n  }], () => [{\n    type: MenuService\n  }], {\n    toolbar: [{\n      type: Input\n    }],\n    colorPresets: [{\n      type: Input\n    }],\n    disabled: [{\n      type: Input\n    }],\n    editor: [{\n      type: Input\n    }],\n    customMenuRef: [{\n      type: Input\n    }],\n    dropdownPlacement: [{\n      type: Input\n    }]\n  });\n})();\nclass BubbleComponent {\n  sanitizeHTML;\n  ngxeService;\n  constructor(sanitizeHTML, ngxeService) {\n    this.sanitizeHTML = sanitizeHTML;\n    this.ngxeService = ngxeService;\n  }\n  get view() {\n    return this.editor.view;\n  }\n  editor;\n  updateSubscription;\n  execulableItems = [];\n  activeItems = [];\n  toolbar = [['bold', 'italic', 'underline', 'strike'], ['ordered_list', 'bullet_list', 'blockquote', 'code'], ['align_left', 'align_center', 'align_right', 'align_justify']];\n  toggleCommands = ['bold', 'italic', 'underline', 'strike', 'ordered_list', 'bullet_list', 'blockquote', 'code', 'align_left', 'align_center', 'align_right', 'align_justify'];\n  getIcon(name) {\n    return this.sanitizeHTML.transform(this.ngxeService.getIcon(name));\n  }\n  getTitle(name) {\n    return this.ngxeService.locals.get(name);\n  }\n  trackByIndex(index) {\n    return index;\n  }\n  onClick(e, commandName) {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.button !== 0) {\n      return;\n    }\n    const {\n      state,\n      dispatch\n    } = this.view;\n    const command = ToggleCommands[commandName];\n    command.toggle()(state, dispatch);\n  }\n  update(view) {\n    this.activeItems = [];\n    this.execulableItems = [];\n    const {\n      state\n    } = view;\n    this.toggleCommands.forEach(toolbarItem => {\n      const command = ToggleCommands[toolbarItem];\n      const isActive = command.isActive(state);\n      if (isActive) {\n        this.activeItems.push(toolbarItem);\n      }\n      const canExecute = command.canExecute(state);\n      if (canExecute) {\n        this.execulableItems.push(toolbarItem);\n      }\n    });\n  }\n  ngOnInit() {\n    this.updateSubscription = this.editor.update.subscribe(view => {\n      this.update(view);\n    });\n  }\n  ngOnDestroy() {\n    this.updateSubscription.unsubscribe();\n  }\n  static ɵfac = function BubbleComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || BubbleComponent)(i0.ɵɵdirectiveInject(SanitizeHtmlPipe), i0.ɵɵdirectiveInject(NgxEditorService));\n  };\n  static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: BubbleComponent,\n    selectors: [[\"ngx-bubble\"]],\n    inputs: {\n      editor: \"editor\"\n    },\n    features: [i0.ɵɵProvidersFeature([SanitizeHtmlPipe])],\n    decls: 1,\n    vars: 2,\n    consts: [[4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"type\", \"button\", \"class\", \"NgxBubbleMenu__Icon\", 3, \"ngClass\", \"title\", \"innerHTML\", \"mousedown\", 4, \"ngIf\"], [\"class\", \"NgxBubbleMenu__Seperator\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"NgxBubbleMenu__Icon\", 3, \"mousedown\", \"ngClass\", \"title\", \"innerHTML\"], [1, \"NgxBubbleMenu__Seperator\"]],\n    template: function BubbleComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, BubbleComponent_ng_container_0_Template, 2, 2, \"ng-container\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngForOf\", ctx.toolbar)(\"ngForTrackBy\", ctx.trackByIndex);\n      }\n    },\n    dependencies: [AsyncPipe, CommonModule, i3.NgClass, i3.NgForOf, i3.NgIf],\n    styles: [\"*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}[_nghost-%COMP%]{display:flex;flex-wrap:wrap;background-color:var(--ngx-editor-bubble-bg-color);color:var(--ngx-editor-bubble-text-color);padding:5px;border-radius:4px}.NgxBubbleMenu__Icon[_ngcontent-%COMP%]{all:unset;appearance:none;height:var(--ngx-editor-icon-size);width:var(--ngx-editor-icon-size);transition:.2s ease-in-out;border-radius:var(--ngx-editor-menu-item-border-radius);display:flex;align-items:center;justify-content:center;color:#fff}.NgxBubbleMenu__Icon[_ngcontent-%COMP%]:hover{background-color:var(--ngx-editor-bubble-item-hover-color)}.NgxBubbleMenu__Icon[_ngcontent-%COMP%] + .NgxBubbleMenu__Icon[_ngcontent-%COMP%]{margin-left:5px}.NgxBubbleMenu__Icon.NgxBubbleMenu__Icon--Active[_ngcontent-%COMP%]{background-color:var(--ngx-editor-bubble-text-color);color:var(--ngx-editor-bubble-bg-color)}.NgxBubbleMenu__Seperator[_ngcontent-%COMP%]{border-left:1px solid var(--ngx-editor-seperator-color);margin:0 5px}\"]\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(BubbleComponent, [{\n    type: Component,\n    args: [{\n      selector: 'ngx-bubble',\n      imports: [AsyncPipe, CommonModule],\n      providers: [SanitizeHtmlPipe],\n      template: \"<ng-container *ngFor=\\\"let toolbarItem of toolbar; let lastToolbarItem = last; trackBy: trackByIndex\\\">\\n  <ng-container *ngFor=\\\"let item of toolbarItem; let lastItem = last; trackBy: trackByIndex\\\">\\n    <button\\n      type=\\\"button\\\"\\n      class=\\\"NgxBubbleMenu__Icon\\\"\\n      *ngIf=\\\"toggleCommands.includes(item)\\\"\\n      [ngClass]=\\\"{\\n        'NgxBubbleMenu__Icon--Active': this.activeItems.includes(item),\\n        'NgxEditor--Disabled': !this.execulableItems.includes(item)\\n      }\\\"\\n      (mousedown)=\\\"onClick($event, item)\\\"\\n      [title]=\\\"getTitle(item) | async\\\"\\n      [innerHTML]=\\\"getIcon(item)\\\"\\n    ></button>\\n    <div class=\\\"NgxBubbleMenu__Seperator\\\" *ngIf=\\\"lastItem && !lastToolbarItem\\\"></div>\\n  </ng-container>\\n</ng-container>\\n\",\n      styles: [\"*,*:before,*:after{box-sizing:border-box}:host{display:flex;flex-wrap:wrap;background-color:var(--ngx-editor-bubble-bg-color);color:var(--ngx-editor-bubble-text-color);padding:5px;border-radius:4px}.NgxBubbleMenu__Icon{all:unset;appearance:none;height:var(--ngx-editor-icon-size);width:var(--ngx-editor-icon-size);transition:.2s ease-in-out;border-radius:var(--ngx-editor-menu-item-border-radius);display:flex;align-items:center;justify-content:center;color:#fff}.NgxBubbleMenu__Icon:hover{background-color:var(--ngx-editor-bubble-item-hover-color)}.NgxBubbleMenu__Icon+.NgxBubbleMenu__Icon{margin-left:5px}.NgxBubbleMenu__Icon.NgxBubbleMenu__Icon--Active{background-color:var(--ngx-editor-bubble-text-color);color:var(--ngx-editor-bubble-bg-color)}.NgxBubbleMenu__Seperator{border-left:1px solid var(--ngx-editor-seperator-color);margin:0 5px}\\n\"]\n    }]\n  }], () => [{\n    type: SanitizeHtmlPipe\n  }, {\n    type: NgxEditorService\n  }], {\n    editor: [{\n      type: Input\n    }]\n  });\n})();\nclass NgxEditorFloatingMenuComponent {\n  el;\n  constructor(el) {\n    this.el = el;\n  }\n  get display() {\n    return {\n      visibility: this.showMenu ? 'visible' : 'hidden',\n      opacity: this.showMenu ? '1' : '0',\n      top: `${this.posTop}px`,\n      left: `${this.posLeft}px`\n    };\n  }\n  get view() {\n    return this.editor.view;\n  }\n  editor;\n  autoPlace = false;\n  posLeft = 0;\n  posTop = 0;\n  showMenu = false;\n  updateSubscription;\n  dragging = false;\n  resizeSubscription;\n  onMouseDown(e) {\n    const target = e.target;\n    if (this.el.nativeElement.contains(target) && target.nodeName !== 'INPUT') {\n      e.preventDefault();\n      return;\n    }\n    this.dragging = true;\n  }\n  onKeyDown(e) {\n    const target = e.target;\n    if (target.nodeName === 'INPUT') {\n      return;\n    }\n    this.dragging = true;\n    this.hide();\n  }\n  onMouseUp(e) {\n    const target = e.target;\n    if (this.el.nativeElement.contains(target) || target.nodeName === 'INPUT') {\n      e.preventDefault();\n      return;\n    }\n    this.dragging = false;\n    this.useUpdate();\n  }\n  onKeyUp(e) {\n    const target = e.target;\n    if (target.nodeName === 'INPUT') {\n      return;\n    }\n    this.dragging = false;\n    this.useUpdate();\n  }\n  useUpdate() {\n    if (!this.view) {\n      return;\n    }\n    this.update(this.view);\n  }\n  hide() {\n    this.showMenu = false;\n  }\n  show() {\n    this.showMenu = true;\n  }\n  async calculateBubblePosition(view) {\n    const {\n      state: {\n        selection\n      }\n    } = view;\n    const {\n      from,\n      to\n    } = selection;\n    const start = view.coordsAtPos(from);\n    const end = view.coordsAtPos(to);\n    const selectionElement = {\n      getBoundingClientRect() {\n        if (selection instanceof NodeSelection) {\n          const node = view.nodeDOM(from);\n          return node.getBoundingClientRect();\n        }\n        const {\n          top,\n          left\n        } = start;\n        const {\n          bottom,\n          right\n        } = end;\n        return {\n          x: left,\n          y: top,\n          top,\n          bottom,\n          left,\n          right,\n          width: right - left,\n          height: bottom - top\n        };\n      }\n    };\n    // the floating bubble itself\n    const bubbleEl = this.el.nativeElement;\n    const {\n      x: left,\n      y: top\n    } = await computePosition(selectionElement, bubbleEl, {\n      placement: 'top',\n      middleware: [offset(5), this.autoPlace && autoPlacement({\n        boundary: view.dom,\n        padding: 5,\n        allowedPlacements: ['top', 'bottom']\n      }), {\n        // prevent overflow on right and left side\n        // since only top and bottom placements are allowed\n        // autoplacement can't handle overflows on the right and left\n        name: 'overflowMiddleware',\n        async fn(middlewareArgs) {\n          const overflow = await detectOverflow(middlewareArgs, {\n            boundary: view.dom,\n            padding: 5\n          });\n          // overflows left\n          if (overflow.left > 0) {\n            return {\n              x: middlewareArgs.x + overflow.left\n            };\n          }\n          // overflows right\n          if (overflow.right > 0) {\n            return {\n              x: middlewareArgs.x - overflow.right\n            };\n          }\n          return {};\n        }\n      }].filter(Boolean)\n    });\n    return {\n      left,\n      top\n    };\n  }\n  canShowMenu(view) {\n    const {\n      state\n    } = view;\n    const {\n      selection\n    } = state;\n    const {\n      empty\n    } = selection;\n    if (selection instanceof NodeSelection) {\n      if (selection.node.type.name === 'image') {\n        return false;\n      }\n    }\n    const hasFocus = this.view.hasFocus();\n    if (!hasFocus || empty || this.dragging) {\n      this.hide();\n      return false;\n    }\n    return true;\n  }\n  update(view) {\n    const canShowMenu = this.canShowMenu(view);\n    if (!canShowMenu) {\n      this.hide();\n      return;\n    }\n    this.calculateBubblePosition(this.view).then(({\n      top,\n      left\n    }) => {\n      if (!this.canShowMenu) {\n        this.hide();\n        return;\n      }\n      this.posLeft = left;\n      this.posTop = top;\n      this.show();\n    });\n  }\n  ngOnInit() {\n    if (!this.editor) {\n      throw new NgxEditorError('Required editor instance to initialize floating menu component');\n    }\n    this.updateSubscription = this.editor.update.subscribe(view => {\n      this.update(view);\n    });\n    this.resizeSubscription = fromEvent(window, 'resize').pipe(throttleTime(500, asyncScheduler, {\n      leading: true,\n      trailing: true\n    })).subscribe(() => {\n      this.useUpdate();\n    });\n  }\n  ngOnDestroy() {\n    this.updateSubscription.unsubscribe();\n    this.resizeSubscription.unsubscribe();\n  }\n  static ɵfac = function NgxEditorFloatingMenuComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || NgxEditorFloatingMenuComponent)(i0.ɵɵdirectiveInject(i0.ElementRef));\n  };\n  static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: NgxEditorFloatingMenuComponent,\n    selectors: [[\"ngx-editor-floating-menu\"]],\n    hostVars: 2,\n    hostBindings: function NgxEditorFloatingMenuComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"mousedown\", function NgxEditorFloatingMenuComponent_mousedown_HostBindingHandler($event) {\n          return ctx.onMouseDown($event);\n        }, i0.ɵɵresolveDocument)(\"keydown\", function NgxEditorFloatingMenuComponent_keydown_HostBindingHandler($event) {\n          return ctx.onKeyDown($event);\n        }, i0.ɵɵresolveDocument)(\"mouseup\", function NgxEditorFloatingMenuComponent_mouseup_HostBindingHandler($event) {\n          return ctx.onMouseUp($event);\n        }, i0.ɵɵresolveDocument)(\"keyup\", function NgxEditorFloatingMenuComponent_keyup_HostBindingHandler($event) {\n          return ctx.onKeyUp($event);\n        }, i0.ɵɵresolveDocument);\n      }\n      if (rf & 2) {\n        i0.ɵɵstyleMap(ctx.display);\n      }\n    },\n    inputs: {\n      editor: \"editor\",\n      autoPlace: \"autoPlace\"\n    },\n    ngContentSelectors: _c3,\n    decls: 4,\n    vars: 1,\n    consts: [[\"ref\", \"\"], [4, \"ngIf\"], [3, \"editor\"]],\n    template: function NgxEditorFloatingMenuComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵelementStart(0, \"div\", null, 0);\n        i0.ɵɵprojection(2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, NgxEditorFloatingMenuComponent_ng_container_3_Template, 2, 1, \"ng-container\", 1);\n      }\n      if (rf & 2) {\n        const ref_r2 = i0.ɵɵreference(1);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ref_r2.children.length === 0);\n      }\n    },\n    dependencies: [BubbleComponent, CommonModule, i3.NgIf],\n    styles: [\"*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}[_nghost-%COMP%]{position:absolute;z-index:20;margin-bottom:5px;visibility:hidden;opacity:0}\"]\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgxEditorFloatingMenuComponent, [{\n    type: Component,\n    args: [{\n      selector: 'ngx-editor-floating-menu',\n      imports: [BubbleComponent, CommonModule],\n      template: \"<div #ref>\\n  <ng-content></ng-content>\\n</div>\\n<ng-container *ngIf=\\\"ref.children.length === 0\\\">\\n  <ngx-bubble [editor]=\\\"editor\\\"></ngx-bubble>\\n</ng-container>\\n\",\n      styles: [\"*,*:before,*:after{box-sizing:border-box}:host{position:absolute;z-index:20;margin-bottom:5px;visibility:hidden;opacity:0}\\n\"]\n    }]\n  }], () => [{\n    type: i0.ElementRef\n  }], {\n    display: [{\n      type: HostBinding,\n      args: ['style']\n    }],\n    editor: [{\n      type: Input\n    }],\n    autoPlace: [{\n      type: Input\n    }],\n    onMouseDown: [{\n      type: HostListener,\n      args: ['document:mousedown', ['$event']]\n    }],\n    onKeyDown: [{\n      type: HostListener,\n      args: ['document:keydown', ['$event']]\n    }],\n    onMouseUp: [{\n      type: HostListener,\n      args: ['document:mouseup', ['$event']]\n    }],\n    onKeyUp: [{\n      type: HostListener,\n      args: ['document:keyup', ['$event']]\n    }]\n  });\n})();\nclass MenuModule {\n  static ɵfac = function MenuModule_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || MenuModule)();\n  };\n  static ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: MenuModule,\n    imports: [CommonModule, ReactiveFormsModule,\n    // pipes\n    SanitizeHtmlPipe,\n    // components\n    NgxEditorMenuComponent, ToggleCommandComponent, InsertCommandComponent, LinkComponent, DropdownComponent, ImageComponent, ColorPickerComponent, NgxEditorFloatingMenuComponent, BubbleComponent],\n    exports: [NgxEditorMenuComponent, NgxEditorFloatingMenuComponent]\n  });\n  static ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [SanitizeHtmlPipe],\n    imports: [CommonModule, ReactiveFormsModule,\n    // components\n    NgxEditorMenuComponent, LinkComponent, DropdownComponent, ImageComponent, ColorPickerComponent, NgxEditorFloatingMenuComponent, BubbleComponent]\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(MenuModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, ReactiveFormsModule,\n      // pipes\n      SanitizeHtmlPipe,\n      // components\n      NgxEditorMenuComponent, ToggleCommandComponent, InsertCommandComponent, LinkComponent, DropdownComponent, ImageComponent, ColorPickerComponent, NgxEditorFloatingMenuComponent, BubbleComponent],\n      providers: [SanitizeHtmlPipe],\n      exports: [NgxEditorMenuComponent, NgxEditorFloatingMenuComponent]\n    }]\n  }], null, null);\n})();\nconst NGX_EDITOR_CONFIG_TOKEN = new InjectionToken('NgxEditorConfig');\nconst defaultConfig = {\n  locals: defaults,\n  icons\n};\nclass NgxEditorModule {\n  static forRoot(config = defaultConfig) {\n    return {\n      ngModule: NgxEditorModule,\n      providers: [{\n        provide: NGX_EDITOR_CONFIG_TOKEN,\n        useValue: config\n      }, {\n        provide: NgxEditorServiceConfig,\n        useFactory: provideMyServiceOptions,\n        deps: [NGX_EDITOR_CONFIG_TOKEN]\n      }]\n    };\n  }\n  static forChild(config = defaultConfig) {\n    return {\n      ngModule: NgxEditorModule,\n      providers: [{\n        provide: NGX_EDITOR_CONFIG_TOKEN,\n        useValue: config\n      }, {\n        provide: NgxEditorServiceConfig,\n        useFactory: provideMyServiceOptions,\n        deps: [NGX_EDITOR_CONFIG_TOKEN]\n      }, NgxEditorService]\n    };\n  }\n  static ɵfac = function NgxEditorModule_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || NgxEditorModule)();\n  };\n  static ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: NgxEditorModule,\n    imports: [CommonModule, MenuModule, NgxEditorComponent, ImageViewComponent],\n    exports: [NgxEditorComponent, NgxEditorMenuComponent, NgxEditorFloatingMenuComponent]\n  });\n  static ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [CommonModule, MenuModule, ImageViewComponent]\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgxEditorModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, MenuModule, NgxEditorComponent, ImageViewComponent],\n      providers: [],\n      exports: [NgxEditorComponent, NgxEditorMenuComponent, NgxEditorFloatingMenuComponent]\n    }]\n  }], null, null);\n})();\nconst isEmptyInputValue = value => {\n  // we don't check for string here so it also works with arrays\n  return value === null || value.length === 0;\n};\nconst hasValidLength = value => {\n  // non-strict comparison is intentional, to check for both `null` and `undefined` values\n  return value !== null && typeof value.length === 'number';\n};\nconst isDocEmpty = doc => {\n  if (!doc) {\n    return true;\n  }\n  const {\n    childCount,\n    firstChild\n  } = doc;\n  return Boolean(childCount === 1 && firstChild?.isTextblock && firstChild.content.size === 0);\n};\n// @dynamic\nclass Validators {\n  static required(userSchema) {\n    return control => {\n      const schema$1 = userSchema || schema;\n      const doc = parseContent(control.value, schema$1);\n      const isEmpty = isDocEmpty(doc);\n      if (!isEmpty) {\n        return null;\n      }\n      return {\n        required: true\n      };\n    };\n  }\n  static maxLength(maxLength, userSchema) {\n    return control => {\n      const schema$1 = userSchema || schema;\n      const doc = parseContent(control.value, schema$1);\n      const value = doc.textContent;\n      if (hasValidLength(value) && value.length > maxLength) {\n        return {\n          maxlength: {\n            requiredLength: maxLength,\n            actualLength: value.length\n          }\n        };\n      }\n      return null;\n    };\n  }\n  static minLength(minLength, userSchema) {\n    return control => {\n      const schema$1 = userSchema || schema;\n      const doc = parseContent(control.value, schema$1);\n      const value = doc.textContent;\n      if (isEmptyInputValue(value) || !hasValidLength(value)) {\n        // don't validate empty values to allow optional controls\n        // don't validate values without `length` property\n        return null;\n      }\n      if (value.length < minLength) {\n        return {\n          minlength: {\n            requiredLength: minLength,\n            actualLength: value.length\n          }\n        };\n      }\n      return null;\n    };\n  }\n}\nconst execMark = (name, toggle = false) => {\n  return (state, dispatch) => {\n    const command = new Mark(name);\n    if (!toggle) {\n      return command.apply()(state, dispatch);\n    }\n    return command.toggle()(state, dispatch);\n  };\n};\nclass EditorCommands {\n  view;\n  state;\n  tr;\n  constructor(view) {\n    if (!view) {\n      throw new NgxEditorError('Required view to initialize commands.');\n    }\n    this.view = view;\n    this.state = view.state;\n    this.tr = this.view.state.tr;\n  }\n  applyTrx = tr => {\n    this.state = this.state.apply(tr ?? this.tr);\n    this.tr = this.state.tr;\n    this.tr.setMeta('APPLIED_TRX', true);\n  };\n  dispatch = tr => {\n    this.applyTrx(tr);\n  };\n  exec() {\n    // No changes applied\n    if (!this.tr.getMeta('APPLIED_TRX')) {\n      return false;\n    }\n    const forceEmit = !this.view.state.doc.eq(this.state.doc);\n    this.view.updateState(this.state);\n    const tr = this.tr.setMeta('FORCE_EMIT', forceEmit);\n    this.view.dispatch(tr);\n    return true;\n  }\n  focus(position = 'end') {\n    const selection = position === 'start' ? Selection.atStart(this.state.doc) : Selection.atEnd(this.state.doc);\n    this.tr.setSelection(selection);\n    this.applyTrx();\n    this.view.focus();\n    return this;\n  }\n  scrollIntoView() {\n    this.tr.scrollIntoView();\n    this.applyTrx();\n    return this;\n  }\n  insertText(text) {\n    this.tr.insertText(text);\n    this.applyTrx();\n    return this;\n  }\n  insertNewLine() {\n    const newLineCommands = [newlineInCode, createParagraphNear, liftEmptyBlock, splitBlock];\n    chainCommands(...newLineCommands)(this.state, this.dispatch);\n    return this;\n  }\n  applyMark(name) {\n    execMark(name, false)(this.state, this.dispatch);\n    return this;\n  }\n  toggleMark(name) {\n    execMark(name, true)(this.state, this.dispatch);\n    return this;\n  }\n  bold() {\n    execMark('strong')(this.state, this.dispatch);\n    return this;\n  }\n  toggleBold() {\n    execMark('strong', true)(this.state, this.dispatch);\n    return this;\n  }\n  italics() {\n    execMark('em')(this.state, this.dispatch);\n    return this;\n  }\n  toggleItalics() {\n    execMark('em', true)(this.state, this.dispatch);\n    return this;\n  }\n  underline() {\n    execMark('u')(this.state, this.dispatch);\n    return this;\n  }\n  toggleUnderline() {\n    execMark('u', true)(this.state, this.dispatch);\n    return this;\n  }\n  strike() {\n    execMark('s')(this.state, this.dispatch);\n    return this;\n  }\n  toggleStrike() {\n    execMark('s', true)(this.state, this.dispatch);\n    return this;\n  }\n  code() {\n    execMark('code')(this.state, this.dispatch);\n    return this;\n  }\n  toggleCode() {\n    execMark('code', true)(this.state, this.dispatch);\n    return this;\n  }\n  superscript() {\n    execMark('sup')(this.state, this.dispatch);\n    return this;\n  }\n  subscript() {\n    execMark('sub')(this.state, this.dispatch);\n    return this;\n  }\n  toggleOrderedList() {\n    const command = new ListItem(false);\n    command.toggle()(this.state, this.dispatch);\n    return this;\n  }\n  toggleBulletList() {\n    const command = new ListItem(true);\n    command.toggle()(this.state, this.dispatch);\n    return this;\n  }\n  toggleHeading(level) {\n    const command = new Heading(level);\n    command.toggle()(this.state, this.dispatch);\n    return this;\n  }\n  insertLink(text, attrs) {\n    const command = new Link$1();\n    command.insert(text, attrs)(this.state, this.dispatch);\n    return this;\n  }\n  updateLink(attrs) {\n    const command = new Link$1();\n    command.update(attrs)(this.state, this.dispatch);\n    return this;\n  }\n  insertImage(src, attrs = {}) {\n    const command = new Image$1();\n    command.insert(src, attrs)(this.state, this.dispatch);\n    return this;\n  }\n  textColor(color) {\n    const command = new TextColor$1('text_color');\n    command.apply({\n      color\n    })(this.state, this.dispatch);\n    return this;\n  }\n  backgroundColor(color) {\n    const command = new TextColor$1('text_background_color');\n    command.apply({\n      backgroundColor: color\n    })(this.state, this.dispatch);\n    return this;\n  }\n  removeTextColor() {\n    const command = new TextColor$1('text_color');\n    command.remove()(this.state, this.dispatch);\n    return this;\n  }\n  removeBackgroundColor() {\n    const command = new TextColor$1('text_background_color');\n    command.remove()(this.state, this.dispatch);\n    return this;\n  }\n  align(p) {\n    const command = new TextAlign(p);\n    command.toggle()(this.state, this.dispatch);\n    return this;\n  }\n  insertHTML(html) {\n    const {\n      selection,\n      schema,\n      tr\n    } = this.state;\n    const {\n      from,\n      to\n    } = selection;\n    const element = document.createElement('div');\n    element.innerHTML = isString(html) ? html.trim() : String(html);\n    const slice = DOMParser.fromSchema(schema).parseSlice(element);\n    const transaction = tr.replaceRange(from, to, slice);\n    this.applyTrx(transaction);\n    return this;\n  }\n  indent() {\n    const command = new Indent('increase');\n    command.insert()(this.state, this.dispatch);\n    return this;\n  }\n  outdent() {\n    const command = new Indent('decrease');\n    command.insert()(this.state, this.dispatch);\n    return this;\n  }\n}\nconst isMacOs = typeof navigator !== 'undefined' ? /Mac/.test(navigator.platform) : false;\n// Input rules ref: https://github.com/ProseMirror/prosemirror-example-setup/\n// : (NodeType) → InputRule\n// Given a blockquote node type, returns an input rule that turns `\"> \"`\n// at the start of a textblock into a blockquote.\nconst blockQuoteRule = nodeType => {\n  return wrappingInputRule(/^\\s*>\\s$/, nodeType);\n};\n// : (NodeType) → InputRule\n// Given a list node type, returns an input rule that turns a number\n// followed by a dot at the start of a textblock into an ordered list.\nconst orderedListRule = nodeType => {\n  return wrappingInputRule(/^(?:\\d+)\\.\\s$/, nodeType, match => ({\n    order: Number(match[1])\n  }), (match, node) => node.childCount + node.attrs['order'] === Number(match[1]));\n};\n// : (NodeType) → InputRule\n// Given a list node type, returns an input rule that turns a bullet\n// (dash, plush, or asterisk) at the start of a textblock into a\n// bullet list.\nconst bulletListRule = nodeType => {\n  return wrappingInputRule(/^\\s*(?:[-+*])\\s$/, nodeType);\n};\n// : (NodeType) → InputRule\n// Given a code block node type, returns an input rule that turns a\n// textblock starting with three backticks into a code block.\nconst codeBlockRule = nodeType => {\n  return textblockTypeInputRule(/^```$/, nodeType);\n};\n// : (NodeType, number) → InputRule\n// Given a node type and a maximum level, creates an input rule that\n// turns up to that number of `#` characters followed by a space at\n// the start of a textblock into a heading whose level corresponds to\n// the number of `#` signs.\nconst headingRule = (nodeType, maxLevel) => {\n  return textblockTypeInputRule(new RegExp(`^(#{1,${maxLevel}})\\\\s$`), nodeType, match => ({\n    level: match[1].length\n  }));\n};\n// : (MarkType) → InputRule\n// Wraps matching text with bold mark\nconst boldRule = markType => {\n  // eslint-disable-next-line prefer-named-capture-group\n  return markInputRule(/(?:^|\\s)(?:(\\*\\*|__)(?:([^*_]+))(\\*\\*|__))$/, markType);\n};\n// : (MarkType) → InputRule\n// Wraps matching text with em mark\nconst emRule = markType => {\n  // eslint-disable-next-line prefer-named-capture-group\n  return markInputRule(/(?:^|\\s)(?:(\\*|_)(?:([^*_]+))(\\*|_))$/, markType);\n};\n// : (Schema) → Plugin\n// A set of input rules for creating the basic block quotes, lists,\n// code blocks, and heading.\nconst buildInputRules = schema => {\n  const rules = smartQuotes.concat(ellipsis, emDash);\n  rules.push(boldRule(schema.marks['strong']));\n  rules.push(emRule(schema.marks['em']));\n  rules.push(blockQuoteRule(schema.nodes['blockquote']));\n  rules.push(orderedListRule(schema.nodes['ordered_list']));\n  rules.push(bulletListRule(schema.nodes['bullet_list']));\n  rules.push(codeBlockRule(schema.nodes['code_block']));\n  rules.push(headingRule(schema.nodes['heading'], 6));\n  return inputRules({\n    rules\n  });\n};\nconst getKeyboardShortcuts = (schema, options) => {\n  const historyKeyMap = {};\n  historyKeyMap['Mod-z'] = undo$1;\n  if (isMacOs) {\n    historyKeyMap['Shift-Mod-z'] = redo$1;\n  } else {\n    historyKeyMap['Mod-y'] = redo$1;\n  }\n  const plugins = [keymap({\n    'Mod-b': toggleMark(schema.marks['strong']),\n    'Mod-i': toggleMark(schema.marks['em']),\n    'Mod-u': toggleMark(schema.marks['u']),\n    'Mod-`': toggleMark(schema.marks['code'])\n  }), keymap({\n    'Enter': splitListItem(schema.nodes['list_item']),\n    'Shift-Enter': chainCommands(exitCode, (state, dispatch) => {\n      const {\n        tr\n      } = state;\n      const br = schema.nodes['hard_break'];\n      dispatch(tr.replaceSelectionWith(br.create()).scrollIntoView());\n      return true;\n    }),\n    'Mod-[': liftListItem(schema.nodes['list_item']),\n    'Mod-]': sinkListItem(schema.nodes['list_item']),\n    'Tab': sinkListItem(schema.nodes['list_item'])\n  }), keymap(baseKeymap)];\n  if (options.history) {\n    plugins.push(keymap(historyKeyMap));\n  }\n  return plugins;\n};\nconst getDefaultPlugins = (schema, options) => {\n  const plugins = [];\n  if (options.keyboardShortcuts) {\n    plugins.push(...getKeyboardShortcuts(schema, {\n      history: options.history\n    }));\n  }\n  if (options.history) {\n    plugins.push(history());\n  }\n  if (options.inputRules) {\n    plugins.push(buildInputRules(schema));\n  }\n  return plugins;\n};\nconst defaultFeatures = {\n  linkOnPaste: true,\n  resizeImage: true\n};\nconst DEFAULT_OPTIONS = {\n  content: null,\n  history: true,\n  keyboardShortcuts: true,\n  inputRules: true,\n  schema: schema,\n  plugins: [],\n  nodeViews: {},\n  attributes: {},\n  features: defaultFeatures,\n  handleScrollToSelection: null,\n  linkValidationPattern: '(https?://)?([\\\\da-z.-]+)\\\\.([a-z.]{2,6})[/\\\\w .-]*/??([^#\\n\\r]*)?#?([^\\n\\r]*)|(mailto:.*[@].*)'\n};\nclass Editor {\n  options;\n  view;\n  constructor(options = DEFAULT_OPTIONS) {\n    this.options = {\n      ...DEFAULT_OPTIONS,\n      ...options\n    };\n    this.createEditor();\n  }\n  valueChangesSubject = new Subject();\n  updateSubject = new Subject();\n  get valueChanges() {\n    return this.valueChangesSubject.asObservable();\n  }\n  get update() {\n    return this.updateSubject.asObservable();\n  }\n  get schema() {\n    return this.options.schema || schema;\n  }\n  get linkValidationPattern() {\n    return this.options.linkValidationPattern;\n  }\n  get commands() {\n    return new EditorCommands(this.view);\n  }\n  get features() {\n    return {\n      ...defaultFeatures,\n      ...this.options.features\n    };\n  }\n  handleTransactions(tr) {\n    const state = this.view.state.apply(tr);\n    this.view.updateState(state);\n    this.updateSubject.next(this.view);\n    if (!tr.docChanged && !tr.getMeta('FORCE_EMIT')) {\n      return;\n    }\n    const json = state.doc.toJSON();\n    this.valueChangesSubject.next(json);\n  }\n  createEditor() {\n    const {\n      options,\n      schema\n    } = this;\n    const {\n      content = null,\n      nodeViews\n    } = options;\n    const {\n      history = true,\n      keyboardShortcuts = true,\n      inputRules = true\n    } = options;\n    const doc = parseContent(content, schema, options.parseOptions);\n    const plugins = options.plugins ?? [];\n    const attributes = options.attributes ?? {};\n    const defaultPlugins = getDefaultPlugins(schema, {\n      history,\n      keyboardShortcuts,\n      inputRules\n    });\n    this.view = new EditorView(null, {\n      state: EditorState.create({\n        doc,\n        schema,\n        plugins: [...defaultPlugins, ...plugins]\n      }),\n      nodeViews,\n      dispatchTransaction: this.handleTransactions.bind(this),\n      attributes,\n      handleScrollToSelection: options.handleScrollToSelection\n    });\n  }\n  setContent(content) {\n    if (isNil(content)) {\n      return;\n    }\n    const {\n      state\n    } = this.view;\n    const {\n      tr,\n      doc\n    } = state;\n    const newDoc = parseContent(content, this.schema, this.options.parseOptions);\n    tr.replaceWith(0, state.doc.content.size, newDoc);\n    // don't emit if both content is same\n    if (doc.eq(tr.doc)) {\n      return;\n    }\n    if (!tr.docChanged) {\n      return;\n    }\n    this.view.dispatch(tr);\n  }\n  registerPlugin(plugin) {\n    const {\n      state\n    } = this.view;\n    const plugins = [...state.plugins, plugin];\n    const newState = state.reconfigure({\n      plugins\n    });\n    this.view.updateState(newState);\n  }\n  destroy() {\n    this.view.destroy();\n  }\n}\n\n/*\n * Public API Surface of ngx-editor\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { DEFAULT_TOOLBAR, Editor, ImageViewComponent, NGX_EDITOR_CONFIG_TOKEN, NgxEditorComponent, NgxEditorFloatingMenuComponent, NgxEditorMenuComponent, NgxEditorModule, NgxEditorService, TOOLBAR_FULL, TOOLBAR_MINIMAL, Validators, emptyDoc, getKeyboardShortcuts, parseContent, provideMyServiceOptions, toDoc, toHTML };\n"],
  "mappings": "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",
  "names": ["from", "offset", "from", "from", "marks", "nodes", "markApplies", "schema", "from", "markApplies", "RopeSequence", "from", "Leaf", "Append", "appendInner", "map", "from", "history", "redo", "redo", "platform", "platform", "_a", "alignment", "platform", "detectOverflow", "offset", "autoPlacement", "computePosition", "shift", "mac", "code", "mac", "shift", "map", "schema", "from", "link", "slice", "nodes", "marks", "Link", "Image", "TextColor", "undo", "redo", "top", "left", "computePosition", "offset", "autoPlacement", "detectOverflow", "Validators", "history", "inputRules"]
}
